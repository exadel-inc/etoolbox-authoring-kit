<head> <title>Component Structure - Exadel Authoring Kit</title> <link rel="canonical" href="https://authoring-kit.com/content/dev-tools/component-management/component-structure"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="icon" type="image/png" href="/assets/logo-64x64.png"> <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SFSRZREMCC"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SFSRZREMCC")</script> <script>!function(){var e="";"getRootNode"in Element.prototype&&window.customElements?window.scrollBy&&window.IntersectionObserver&&window.ResizeObserver&&window.ResizeObserver||(e="light"):e="medium",e&&document.write('<script type="text/javascript" src="/bundles/polyfill-'+e+'.js"><\/script>')}()</script> <link rel="stylesheet" type="text/css" href="/bundles/site.css"> </head> <body> <div class="page sidebar-layout"> <header class="header"> <nav class="header-container container"> <a class="header-link header-logo logo-animated" href="/" aria-label="landing page"> <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"> <g clip-path="url(#a)" fill-rule="evenodd" clip-rule="evenodd" fill="#0082CA"> <path d="M23.7024 17.967a1.4253 1.4253 0 0 0 1.4276.7264 1.4273 1.4273 0 0 0 1.2019-1.0588 1.4265 1.4265 0 0 0-.16-1.0926L20.3532 6.4634A1.4044 1.4044 0 0 0 19 5.762a1.427 1.427 0 0 0-1.354.7014L6.9582 24.9731a1.4257 1.4257 0 0 0 .5227 1.9477 1.424 1.424 0 0 0 .527.1786 1.4243 1.4243 0 0 0 1.054-.2829 1.4253 1.4253 0 0 0 .3667-.4184L19 9.8206l4.7024 8.1464Z"></path> <path d="m31.0418 24.8667-2.2336-3.8608a1.399 1.399 0 0 0-.6642-.5941 1.4256 1.4256 0 0 0-.7608-.2253H15.7457a1.4251 1.4251 0 0 0 0 2.85h10.9512l1.8763 3.2534a1.426 1.426 0 0 0 2.5758-.3632 1.4255 1.4255 0 0 0-.1072-1.06Z"></path> <path d="M38 19C38 8.5029 29.4971 0 19 0S0 8.5029 0 19s8.502 19 19 19a18.859 18.859 0 0 0 8.134-1.8311 1.4094 1.4094 0 0 1-.7599-1.2113 17.567 17.567 0 0 1-7.3599 1.6148c-9.7017 0-17.575-7.8724-17.575-17.5751C1.4392 9.2947 9.2982 1.425 19 1.425c9.7017 0 17.575 7.876 17.575 17.575a17.4351 17.4351 0 0 1-3.1594 10.0467 1.4199 1.4199 0 0 1 .5471 1.1164v.5462A18.924 18.924 0 0 0 38 19Z"></path> <path d="M32.3001 29.6877h-4.2732a.7133.7133 0 0 0 0 1.4268h3.562v1.1873a.7125.7125 0 0 0 1.425 0v-1.8967a.7159.7159 0 0 0-.2081-.5068.7143.7143 0 0 0-.5057-.2106ZM32.0624 33.9627h-3.3261v-1.425a.7125.7125 0 1 0-1.425 0v2.1379a.7147.7147 0 0 0 .7094.7094h4.0373a.7125.7125 0 0 0 0-1.425l.0044.0027Z"></path> </g> <defs> <clipPath id="a"> <path fill="#fff" d="M0 0h38v38H0z"></path> </clipPath> </defs> </svg> <span class="header-short-name">Exadel Authoring Kit</span> <span class="header-long-name">Exadel Authoring Kit for AEM</span> </a> <ul class="header-links unstyled-list"> <li class="header-item"> <a class="header-link" href=".">Manuals</a> </li> <li class="header-item"> <a class="header-link" href="" target="_blank">API Docs</a> </li> <li class="header-item"> <a class="header-link" href="" target="_blank">Blog</a> </li> <li class="header-item"> <a class="header-link fill-primary" href="https://github.com/exadel-inc/etoolbox-authoring-kit" target="_blank" rel="noopener norefferer"> <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"> <path d="M10.6666 14.6668v-2.58a2.246 2.246 0 0 0-.6266-1.74c2.0933-.2333 4.2933-1.0267 4.2933-4.6667a3.6268 3.6268 0 0 0-1-2.5 3.38 3.38 0 0 0-.06-2.5133s-.7867-.2333-2.6067.9867a8.92 8.92 0 0 0-4.6666 0C4.18.4335 3.3933.6668 3.3933.6668a3.38 3.38 0 0 0-.06 2.5133 3.6267 3.6267 0 0 0-1 2.52c0 3.6133 2.2 4.4067 4.2934 4.6667A2.2458 2.2458 0 0 0 6 12.0868v2.58" fill="#0082CA"></path> <path d="M6 12.6668c-3.3333 1-3.3333-1.6667-4.6667-2m9.3333 4v-2.58a2.246 2.246 0 0 0-.6266-1.74c2.0933-.2333 4.2933-1.0267 4.2933-4.6667a3.6268 3.6268 0 0 0-1-2.5 3.38 3.38 0 0 0-.06-2.5133s-.7867-.2333-2.6067.9867a8.92 8.92 0 0 0-4.6666 0C4.18.4335 3.3933.6668 3.3933.6668a3.38 3.38 0 0 0-.06 2.5133 3.6267 3.6267 0 0 0-1 2.52c0 3.6133 2.2 4.4067 4.2934 4.6667A2.2458 2.2458 0 0 0 6 12.0868v2.58h4.6666Z" stroke="#0082CA" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </a> </li> </ul> <div class="header-utility"> <esl-trigger class="header-hamburger" target="#sidebar" aria-label="navigation menu"></esl-trigger> </div> </nav> </header> <eak-sidebar id="sidebar" class="open" aria-label="Site Navigation"> <nav class="sidebar-nav"> <a class="sidebar-heading" href="/"> <span class="sidebar-logo"> <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"> <g clip-path="url(#a)" fill-rule="evenodd" clip-rule="evenodd" fill="#0082CA"> <path d="M23.7024 17.967a1.4253 1.4253 0 0 0 1.4276.7264 1.4273 1.4273 0 0 0 1.2019-1.0588 1.4265 1.4265 0 0 0-.16-1.0926L20.3532 6.4634A1.4044 1.4044 0 0 0 19 5.762a1.427 1.427 0 0 0-1.354.7014L6.9582 24.9731a1.4257 1.4257 0 0 0 .5227 1.9477 1.424 1.424 0 0 0 .527.1786 1.4243 1.4243 0 0 0 1.054-.2829 1.4253 1.4253 0 0 0 .3667-.4184L19 9.8206l4.7024 8.1464Z"></path> <path d="m31.0418 24.8667-2.2336-3.8608a1.399 1.399 0 0 0-.6642-.5941 1.4256 1.4256 0 0 0-.7608-.2253H15.7457a1.4251 1.4251 0 0 0 0 2.85h10.9512l1.8763 3.2534a1.426 1.426 0 0 0 2.5758-.3632 1.4255 1.4255 0 0 0-.1072-1.06Z"></path> <path d="M38 19C38 8.5029 29.4971 0 19 0S0 8.5029 0 19s8.502 19 19 19a18.859 18.859 0 0 0 8.134-1.8311 1.4094 1.4094 0 0 1-.7599-1.2113 17.567 17.567 0 0 1-7.3599 1.6148c-9.7017 0-17.575-7.8724-17.575-17.5751C1.4392 9.2947 9.2982 1.425 19 1.425c9.7017 0 17.575 7.876 17.575 17.575a17.4351 17.4351 0 0 1-3.1594 10.0467 1.4199 1.4199 0 0 1 .5471 1.1164v.5462A18.924 18.924 0 0 0 38 19Z"></path> <path d="M32.3001 29.6877h-4.2732a.7133.7133 0 0 0 0 1.4268h3.562v1.1873a.7125.7125 0 0 0 1.425 0v-1.8967a.7159.7159 0 0 0-.2081-.5068.7143.7143 0 0 0-.5057-.2106ZM32.0624 33.9627h-3.3261v-1.425a.7125.7125 0 1 0-1.425 0v2.1379a.7147.7147 0 0 0 .7094.7094h4.0373a.7125.7125 0 0 0 0-1.425l.0044.0027Z"></path> </g> <defs> <clipPath id="a"> <path fill="#fff" d="M0 0h38v38H0z"></path> </clipPath> </defs> </svg> </span> <span class="sidebar-title">Exadel Authoring Kit for AEM</span> </a> <div class="sidebar-content"> <div class="sidebar-scrollable-content esl-scrollable-content"> <ul class="sidebar-nav-list"> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> Getting Started </div> <div class="sidebar-nav-secondary"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/getting-started/installation/"> Installation </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/getting-started/common-use-cases/"> Common Use Cases </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/getting-started/popular-articles/"> Popular Articles </a> </li> </ul> </div> </li> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> Developer Tools </div> <div class="sidebar-nav-secondary"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item sidebar-secondary-nav-item-children"> <div class="sidebar-nav-item-heading active"> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next" active=""> Component Management </esl-trigger> </div> <esl-panel id="sidebar-component-management-menu" class="sidebar-nav-secondary nav-secondary-panel open" data-open="" group=" component-management"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item active" aria-selected="true"> <a class="sidebar-nav-secondary-link" aria-current="page" href="/content/dev-tools/component-management/component-structure/"> Component Structure </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-layout/"> Dialog Layout </a> </li> <li class="sidebar-nav-secondary-item sidebar-secondary-nav-item-children"> <div class="sidebar-nav-item-heading"> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next"> Dialog Fields </esl-trigger> </div> <esl-panel id="sidebar-dialog-fields-menu" class="sidebar-nav-secondary nav-secondary-panel" group=" dialog-fields"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/dialog-field/"> Dialog Field </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/widgets/"> Widgets (A-Z) </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/configuring-rte/"> Configuring RTE </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/configuring-fieldset/"> Configuring Fieldset </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/configuring-multifield/"> Configuring Multifield </a> </li> </ul> </esl-panel> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/additional-properties/"> Additional Properties </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/reusing-code/"> Reusing Code </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/customizing-toolkit/"> Customization </a> </li> </ul> </esl-panel> </li> <li class="sidebar-nav-secondary-item sidebar-secondary-nav-item-children"> <div class="sidebar-nav-item-heading"> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next"> DependsOn </esl-trigger> </div> <esl-panel id="sidebar-depends-on-menu" class="sidebar-nav-secondary nav-secondary-panel" group=" depends-on"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/depends-on/introduction/"> Introduction </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/depends-on/usage/"> Usage </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/depends-on/api/"> API </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/depends-on/examples/"> Examples </a> </li> </ul> </esl-panel> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/option-provider/"> Option Provider </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/injectors/"> Injectors </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/allowed-components/"> Allowed Components </a> </li> </ul> </div> </li> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> Authoring Tools </div> <div class="sidebar-nav-secondary"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/authoring-tools/etoolbox-lists/"> Etoolbox Lists </a> </li> </ul> </div> </li> </ul> <div class="sidebar-footer-copyright"> EAK v2.4.1 © 2024<a class="sidebar-footer-link" href="https://exadel.com/" target="_blank" rel="noopener norefferer">Exadel</a>, Inc. </div> </div> <esl-scrollbar class="sidebar-scrollbar" target="::prev"></esl-scrollbar> </div> </nav> </eak-sidebar> <main class="esl-scrollable-content"> <div class="content mb-4 container markdown-container"> <div class="content-page-title"> <span class="parent-page">Developer Tools / </span> <span class="parent-page">Component Management / </span> <h1 class="current-page">Component Structure</h1> </div> <h2 id="creating-aem-components-with-toolkit-annotations">Creating AEM Components with ToolKit annotations</h2> <p><a href="https://javadoc.io/doc/com.exadel.etoolbox/etoolbox-authoring-kit-core/latest/com/exadel/aem/toolkit/api/annotations/main/AemComponent.html" target="_blank" rel="noopener norefferer">@AemComponent</a> is your entry point to creating component authoring interfaces, such as a <em>Dialog</em>, a <em>Design dialog</em>, or an <em>In-place editing config</em>. When added to a Java class, this annotation must contain generic properties of the component such as <em>title</em>, <em>description</em>, etc.</p> <p>Additionally, <code>@AemComponent</code> can contain references to other Java classes that can be referred to as “views”. If, for instance, you need <em>editConfig</em>, you can add the <code>@EditConfig</code> to the Java class where the <code>@AemComponent</code> annotation is already present. You can also add <code>@EditConfig</code> to another Java class and put a reference to that class in the <em>views</em> collection of <code>@AemComponent</code>.</p> <p>Take note that you need either to put an annotation such as <code>@Dialog</code> or <code>@EditConfig</code> in the same Java class as <code>@AemComponent</code> or add it to another class and then add the class reference to the <em>views</em> collection. You don't need to do both.</p> <p>See the code snippet below, which displays all currently supported <code>@AemComponent</code> properties:</p> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>
    path <span class="token operator">=</span> <span class="token string">"content/my-component"</span><span class="token punctuation">,</span>
    title <span class="token operator">=</span> <span class="token string">"My AEM Component"</span><span class="token punctuation">,</span>
    description <span class="token operator">=</span> <span class="token string">"test component"</span><span class="token punctuation">,</span>
    componentGroup <span class="token operator">=</span> <span class="token string">"My Component Group"</span><span class="token punctuation">,</span>
    resourceSuperType <span class="token operator">=</span> <span class="token string">"resource/super/type"</span><span class="token punctuation">,</span>
    disableTargeting <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    views <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token class-name">DesignDialogView</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name">DialogView</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name">HtmlTagView</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name">ChildEditConfigView</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>
        <span class="token class-name">EditConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ComplexComponentHolder</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
</code></pre> <p>Pay attention to the <em>path</em> property. This can be set in two ways. First is the "relative" path that will be resolved from the point specified by the plugin's componentsPathBase setting. This is a common way. Otherwise, you can store an "absolute" path that will be resolved from the root of the package. The absolute path starts with jcr_root folder or any folder that goes immediately under jcr_root. Usually, it would be something like /apps/vendor/components/myComponent.</p> <p>By default, the plugin searches for the directory specified in <em>path</em> and triggers an exception if unable to find one. This is justified because a non-existing folder usually means an invalid component path (a typo in <em>path</em>, or some misconfiguration).</p> <p>However, there is a way to make the plugin create a folder in the package when missing. This can be useful for single-use components (such as Exadel Toolbox Lists' items), or components that do not need a specific HTML or JSP file. In such a case add <code>writeMode = WriteMode.CREATE</code> to your <code>@AemComponent</code>.</p> <h3 id="dialog">@Dialog</h3> <p><code>@Dialog</code> is used for defining component's Touch UI dialog by creating and populating <em>&lt;cq:dialog&gt;</em> node.</p> <pre><code class="language-java"><span class="token annotation punctuation">@Dialog</span><span class="token punctuation">(</span>
    title <span class="token operator">=</span> <span class="token string">"My AEM Dialog"</span><span class="token punctuation">,</span>
    helpPath <span class="token operator">=</span> <span class="token string">"https://www.google.com/search?q=my+aem+component"</span><span class="token punctuation">,</span>
    width <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">,</span>
    height <span class="token operator">=</span> <span class="token number">600</span><span class="token punctuation">,</span>
    extraClientlibs <span class="token operator">=</span> <span class="token string">"cq.common.wcm"</span><span class="token punctuation">,</span>
    forceIgnoreFreshness <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyComponentDialog</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
</code></pre> <p>If you specify <em>title</em> in <code>@Dialog</code>, it will override the title specified in @AemComponent. Skip this if you need to have the same title rendered for the component itself and for the dialog.</p> <p>Pay attention to the <em>forceIgnoreFreshness</em> option. When set to true, it forces the entire dialog to ignore freshness of the Granite UI form beside the dialog. This will allow any component that resides within the dialog to display its default value (if specified) regardless of whether the underlying resource is being created anew (a "fresh" one) or just being edited.</p> <p>Most Granite UI components don't manage default values when editing a "non-fresh" resource. Some offer their own implementation of <em>forceIgnoreFreshness</em> (most notably, the Select component). However, specifying <em>forceIgnoreFreshness</em> at the <code>@Dialog</code> level makes the rest behave in the way the Select does.</p> <h3 id="designdialog">@DesignDialog</h3> <p><code>@DesignDialog</code> is used for defining component's Touch UI dialog by creating and populating <em>&lt;cq:design_dialog&gt;</em> node.</p> <pre><code class="language-java"><span class="token annotation punctuation">@DesignDialog</span><span class="token punctuation">(</span>
    title <span class="token operator">=</span> <span class="token string">"My AEM Component"</span><span class="token punctuation">,</span>
    width <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">,</span>
    height <span class="token operator">=</span> <span class="token number">600</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DesignDialogView</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
</code></pre> <p>If you specify <em>title</em> in <code>@DesignDialog</code>, it will override the title specified in <code>@AemComponent</code>. Skip this if you need to have the same title rendered for the component itself and for the design dialog.</p> <h3 id="dialog-layouts">Dialog layouts</h3> <p>Both the Touch UI dialog and design dialog can have either a relative simple or a complex structure. This is why they can either have a plain "all in the same screen" display or be organized with use of nested sections, or containers.</p> <p>In the first case, no specific setup is required. A dialog is automatically assigned the <em>"fixed column"</em> style.</p> <p>Otherwise, a dialog can be rendered in one or more tabs, or be organized as an <em>accordion</em> with one or more panels. To achieve this, you need to put the <code>@Tabs</code> or <code>@Accordion</code> annotation respectively beside your <code>@Dialog</code>/<code>@DesignDialog</code>. See <a href="/content/dev-tools/component-management/dialog-layout">Laying out your dialog</a> for details.</p> <h3 id="editconfig-settings">EditConfig settings</h3> <p>If you wish to engage Touch UI dialog features like listeners or in-place editing (those living in <em>&lt;cq:editConfig&gt;</em> node and, accordingly, <em>_cq_editConfig.xml</em> file), add an <code>@EditConfig</code> annotation to your Java class (same as above, you can as well add the annotation to a separate class and then put the reference to this class into @AemComponent's <em>views</em> property).</p> <p><a href="https://javadoc.io/doc/com.exadel.etoolbox/etoolbox-authoring-kit-core/latest/com/exadel/aem/toolkit/api/annotations/editconfig/EditConfig.html" target="_blank" rel="noopener norefferer">@EditConfig</a> facilitates setting of the following properties and features:</p> <ul> <li>Actions</li> <li>Empty text</li> <li>Inherit</li> <li>Dialog layout</li> <li>Drop targets</li> <li>Form parameters</li> <li>In-place editing</li> <li>Listeners</li> </ul> <p>Here is a basic sample of an <code>@EditConfig</code> with several of the parameters specified:</p> <pre><code class="language-java"><span class="token annotation punctuation">@EditConfig</span><span class="token punctuation">(</span>
        emptyText <span class="token operator">=</span> <span class="token string">"Input here"</span><span class="token punctuation">,</span>
        listeners <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Listener</span><span class="token punctuation">(</span>
                event <span class="token operator">=</span> <span class="token class-name">ListenerConstants</span><span class="token punctuation">.</span><span class="token constant">EVENT_AFTER_INSERT</span><span class="token punctuation">,</span>
                action <span class="token operator">=</span> <span class="token class-name">ListenerConstants</span><span class="token punctuation">.</span><span class="token constant">ACTION_REFRESH_PAGE</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token annotation punctuation">@Listener</span><span class="token punctuation">(</span>
                event <span class="token operator">=</span> <span class="token class-name">ListenerConstants</span><span class="token punctuation">.</span><span class="token constant">EVENT_AFTER_DELETE</span><span class="token punctuation">,</span>
                action <span class="token operator">=</span> <span class="token class-name">ListenerConstants</span><span class="token punctuation">.</span><span class="token constant">ACTION_REFRESH_PAGE</span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        dropTargets <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@DropTargetConfig</span><span class="token punctuation">(</span>
                        nodeName <span class="token operator">=</span> <span class="token string">"logo"</span><span class="token punctuation">,</span>
                        accept <span class="token operator">=</span> <span class="token string">"image/.*"</span><span class="token punctuation">,</span>
                        groups <span class="token operator">=</span> <span class="token string">"media"</span><span class="token punctuation">,</span>
                        propertyName <span class="token operator">=</span> <span class="token string">"logo/fileReference"</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token annotation punctuation">@DropTargetConfig</span><span class="token punctuation">(</span>
                        nodeName <span class="token operator">=</span> <span class="token string">"background"</span><span class="token punctuation">,</span>
                        accept <span class="token operator">=</span> <span class="token string">"image/.*"</span><span class="token punctuation">,</span>
                        groups <span class="token operator">=</span> <span class="token string">"media"</span><span class="token punctuation">,</span>
                        propertyName <span class="token operator">=</span> <span class="token string">"background/fileReference"</span>
                <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        formParameters <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@FormParameter</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"param1"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"value1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token annotation punctuation">@FormParameter</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"param2"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"value2"</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ImageEditor</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
</code></pre> <h4 id="in-place-editing-configurations">In-place editing configurations</h4> <p>To specify in-place editing configurations for your component, populate the <em>inplaceEditing</em> property of <code>@EditConfig</code> annotation as follows:</p> <pre><code class="language-java"><span class="token annotation punctuation">@EditConfig</span><span class="token punctuation">(</span>
    inplaceEditing <span class="token operator">=</span> <span class="token annotation punctuation">@InplaceEditingConfig</span><span class="token punctuation">(</span>
        type <span class="token operator">=</span> <span class="token class-name">EditorType</span><span class="token punctuation">.</span><span class="token constant">TEXT</span><span class="token punctuation">,</span>
        editElementQuery <span class="token operator">=</span> <span class="token string">".editable-header"</span><span class="token punctuation">,</span>
        name <span class="token operator">=</span> <span class="token string">"header"</span><span class="token punctuation">,</span>
        propertyName <span class="token operator">=</span> <span class="token string">"header"</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomPropertiesDialog</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@DialogField</span>
    <span class="token annotation punctuation">@TextField</span>
    <span class="token class-name">String</span> header<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <p>Note that if you use <code>type = EditorType.PLAINTEXT</code>, there is an additional required <em>textPropertyName</em> value. If you do not specify a value, the same <em>propertyName</em> string will be used.</p> <p>It’s also possible to create <a href="https://experienceleague.adobe.com/docs/experience-manager-65/developing/components/multiple-inplace-editors.html?lang=en" target="_blank" rel="noopener norefferer">multiple in-place editors</a> as in the following snippet</p> <pre><code class="language-java"><span class="token annotation punctuation">@Dialog</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"componentName"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EditConfig</span><span class="token punctuation">(</span>
    inplaceEditing <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@InplaceEditingConfig</span><span class="token punctuation">(</span>
            type <span class="token operator">=</span> <span class="token class-name">EditorType</span><span class="token punctuation">.</span><span class="token constant">PLAINTEXT</span><span class="token punctuation">,</span>
            editElementQuery <span class="token operator">=</span> <span class="token string">".editable-headline"</span><span class="token punctuation">,</span>
            name <span class="token operator">=</span> <span class="token string">"headline"</span><span class="token punctuation">,</span>
            propertyName <span class="token operator">=</span> <span class="token string">"headline"</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token annotation punctuation">@InplaceEditingConfig</span><span class="token punctuation">(</span>
            type <span class="token operator">=</span> <span class="token string">"CustomType"</span><span class="token punctuation">,</span>
            editElementQuery <span class="token operator">=</span> <span class="token string">".editable-description"</span><span class="token punctuation">,</span>
            name <span class="token operator">=</span> <span class="token string">"description"</span><span class="token punctuation">,</span>
            propertyName <span class="token operator">=</span> <span class="token string">"description"</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomPropertiesDialog</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
</code></pre> <h4 id="richtext-configuration-for-in-place-editing">RichText configuration for in-place editing</h4> <p>With an in-place configuration of <code>type = EditorType.TEXT</code>, a <em>richTextConfig</em> can be specified with syntax equivalent to that of a <a href="/content/dev-tools/component-management/dialog-fields/configuring-rte">@RichTextEditor annotation</a>. Here is a very basic example of a <em>richTextConfig</em> for an in-place editor</p> <pre><code class="language-java"><span class="token annotation punctuation">@InplaceEditingConfig</span> <span class="token punctuation">(</span>
    type <span class="token operator">=</span> <span class="token class-name">EditorType</span><span class="token punctuation">.</span><span class="token constant">TEXT</span><span class="token punctuation">,</span>
    richTextConfig <span class="token operator">=</span> <span class="token annotation punctuation">@RichTextEditor</span><span class="token punctuation">(</span>
        features <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token class-name">RteFeatures</span><span class="token punctuation">.</span><span class="token constant">UNDO_UNDO</span><span class="token punctuation">,</span>
            <span class="token class-name">RteFeatures</span><span class="token punctuation">.</span><span class="token constant">UNDO_REDO</span><span class="token punctuation">,</span>
            <span class="token class-name">RteFeatures<span class="token punctuation">.</span>Popovers</span><span class="token punctuation">.</span><span class="token constant">MISCTOOLS</span><span class="token punctuation">,</span>
            <span class="token class-name">RteFeatures<span class="token punctuation">.</span>Panels</span><span class="token punctuation">.</span><span class="token constant">TABLE</span><span class="token punctuation">,</span>
            <span class="token class-name">RteFeatures</span><span class="token punctuation">.</span><span class="token constant">FULLSCREEN_TOGGLE</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        icons <span class="token operator">=</span> <span class="token annotation punctuation">@IconMapping</span><span class="token punctuation">(</span>command <span class="token operator">=</span> <span class="token string">"#misctools"</span><span class="token punctuation">,</span> icon <span class="token operator">=</span> <span class="token string">"fileCode"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        htmlPasteRules <span class="token operator">=</span> <span class="token annotation punctuation">@HtmlPasteRules</span><span class="token punctuation">(</span>
            allowBold <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            allowImages <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            allowLists <span class="token operator">=</span> <span class="token class-name">AllowElement</span><span class="token punctuation">.</span><span class="token constant">REPLACE_WITH_PARAGRAPHS</span><span class="token punctuation">,</span>
            allowTables <span class="token operator">=</span> <span class="token class-name">AllowElement</span><span class="token punctuation">.</span><span class="token constant">REPLACE_WITH_PARAGRAPHS</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">DialogSample</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
</code></pre> <p>Even more simply, you can specify the <em>richText</em> field to "extend" RTE configuration for a Touch UI dialog elsewhere in your project:</p> <pre><code>@InplaceEditingConfig (
    type = EditorType.TEXT,
    richText = @Extends(value = HelloWorld.class, field = "myRteAnnotatedField"),
    richTextConfig = @RichTextEditor(/* ... */)
)
</code></pre> <p>From the above snippet, you can see that <em>richText</em> and <em>richTextConfig</em> work together fine. A configuration inherited via <em>richText</em> can be altered by whatever properties that are specified in <em>richTextConfig</em>.</p> <p>If you use both in the same <code>@InplaceEditingConfig</code>, plain values, such as strings and numbers, specified for the <code>@Extends</code>-ed field are overwritten by their correlates from <em>richTextConfig</em>.</p> <p>On the other hand, array-typed values (such as <em>features</em>, <em>specialCharacters</em>, <em>formats</em>, etc.) are actually merged. So you can design a fairly basic set of features, styles, and formats to store in a field somewhere in your project and then implement several <em>richTextConfig</em>-s with more comprehensive feature sets.</p> <h3 id="childeditconfig-settings">ChildEditConfig settings</h3> <p>In addition to <em>&lt;cq:editConfig&gt;</em> itself, Adobe Granite makes it possible to define some in-place editing features for the current component’s children. This is done via the <em>&lt;cq:childEditConfig&gt;</em> with the same general structure as <em>&lt;cq:editConfig&gt;</em>.</p> <p>It facilitates the setting of the following properties and features:</p> <ul> <li>Actions</li> <li>Drop targets</li> <li>Listeners</li> </ul> <p>Usage:</p> <pre><code class="language-java"><span class="token annotation punctuation">@ChildEditConfig</span><span class="token punctuation">(</span>
    actions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"edit"</span><span class="token punctuation">,</span> <span class="token string">"copymove"</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dialog</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@DialogField</span>
    <span class="token annotation punctuation">@TextField</span>
    <span class="token class-name">String</span> field1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <h3 id="altering-a-decoration-tag-for-a-field-with-htmltag">Altering a decoration tag for a field with @HtmlTag</h3> <p>To create a specific <a href="https://docs.adobe.com/content/help/en/experience-manager-65/developing/components/decoration-tag.html" target="_blank" rel="noopener norefferer">decoration tag</a> for your widget, you need to mark your Java class with <code>@HtmlTag</code> and put this class to the Component's views property. Then the <em>&lt;cq:htmlTag&gt;</em> node will be added to your component's nodeset.</p> <pre><code class="language-java"><span class="token annotation punctuation">@HtmlTag</span><span class="token punctuation">(</span>
    className <span class="token operator">=</span> <span class="token string">"my-class"</span><span class="token punctuation">,</span>
    tagName <span class="token operator">=</span> <span class="token string">"span"</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyComponentDialog</span> <span class="token punctuation">{</span><span class="token comment">/* ... */</span><span class="token punctuation">}</span>
</code></pre> <h2 id="page-properties-dialogs">Page properties dialogs</h2> <p>You can use an approach similar to the one described above for creating a page properties dialog.</p> <p>Specify an absolute path to the JCR node that refers to the page in your <code>@AemComponent</code> like <code>@AemComponent(path = "/apps/my/components/pages/page"}</code>, or else provide a relative path. Even if your <em>componentsPathBase</em> points to an AEM components' root, you can traverse up and to the "pages" sibling node like this: <code>@AemComponent(path = "../pages/page"}</code>.</p> <p>Page properties dialogs are most often composed of tabs. It is a common practice for page properties dialogs to include an existing tab resource instead of enumerating components one by one. This is because tabs are often reused and overlayed across the page hierarchy. You can include an existing tab as follows:</p> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>
        path <span class="token operator">=</span> <span class="token string">"../pages/my-page"</span><span class="token punctuation">,</span>
        resourceSuperType <span class="token operator">=</span> <span class="token string">"my/components/pages/page"</span><span class="token punctuation">,</span>
        title <span class="token operator">=</span> <span class="token string">"Page properties"</span>
<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Dialog</span>
<span class="token annotation punctuation">@Tabs</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Tab</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"Basic"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DummyComponent</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Include</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">"my/components/pages/my-page/tabs/tabMetadata"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Place</span><span class="token punctuation">(</span><span class="token string">"Basic"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> basicTabHolder<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <p>Else, you can add components to the tab as usual. Note that usually in a Page properties dialog tab components are wrapped in an additional column so that they get centered on the screen and do not span the whole of the screen width. This can be achieved through a nested column.</p> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>
        path <span class="token operator">=</span> <span class="token string">"../pages/my-page"</span><span class="token punctuation">,</span>
        resourceSuperType <span class="token operator">=</span> <span class="token string">"my/components/pages/page"</span><span class="token punctuation">,</span>
        title <span class="token operator">=</span> <span class="token string">"Page properties"</span>
<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Dialog</span>
<span class="token annotation punctuation">@Tabs</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Tab</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"Basic"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DummyComponent</span> <span class="token punctuation">{</span>

    <span class="token comment">// The title is not actually rendered, so you may specify any meaningful string</span>
    <span class="token annotation punctuation">@FixedColumns</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"Tab column"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Place</span><span class="token punctuation">(</span><span class="token string">"Basic"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> tabHolder<span class="token punctuation">;</span> <span class="token comment">// Type of the field does not matter as well</span>

    <span class="token annotation punctuation">@DialogField</span><span class="token punctuation">(</span>label <span class="token operator">=</span> <span class="token string">"Enter text"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@TextField</span>
    <span class="token annotation punctuation">@Place</span><span class="token punctuation">(</span><span class="token string">"Tab column"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> text<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@DialogField</span><span class="token punctuation">(</span>label <span class="token operator">=</span> <span class="token string">"Enter description"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@TextField</span>
    <span class="token annotation punctuation">@Place</span><span class="token punctuation">(</span><span class="token string">"Tab column"</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre> <p>Else you can use a nested class annotated with <code>FixedColumns</code> for that purpose.</p> <hr> <h2 id="see-also" class="h3">See also</h2> <ul> <li><a href="/content/dev-tools/component-management/dialog-layout">Laying out your dialog</a></li> <li><a href="/content/dev-tools/component-management/dialog-fields/configuring-rte">Configuring RichTextEditor</a></li> <li><a href="/content/dev-tools/component-management/reusing-code#extends-ing-fields-annotations">@Extends-ing fields annotations</a></li> </ul> </div> </main> <esl-scrollbar target="::prev" class="main-scroll"></esl-scrollbar> <div class="header-shadow"></div> </div> <script src="/bundles/site.js"></script>   </body>