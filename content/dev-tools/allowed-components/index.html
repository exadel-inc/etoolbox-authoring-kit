<head> <title>Managing allowed components with AllowedChildren - Exadel Authoring Kit</title> <link rel="canonical" href="https://authoring-kit.com/content/dev-tools/allowed-components"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="icon" type="image/png" href="/assets/logo-64x64.png"> <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-SFSRZREMCC"></script> <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SFSRZREMCC")</script> <script>!function(){var e="";"getRootNode"in Element.prototype&&window.customElements?window.scrollBy&&window.IntersectionObserver&&window.ResizeObserver&&window.ResizeObserver||(e="light"):e="medium",e&&document.write('<script type="text/javascript" src="/bundles/polyfill-'+e+'.js"><\/script>')}()</script> <link rel="stylesheet" type="text/css" href="/bundles/site.css"> </head> <body> <div class="page sidebar-layout"> <header class="header"> <nav class="header-container container"> <a class="header-link header-logo logo-animated" href="/" aria-label="landing page"> <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"> <g clip-path="url(#a)" fill-rule="evenodd" clip-rule="evenodd" fill="#0082CA"> <path d="M23.7024 17.967a1.4253 1.4253 0 0 0 1.4276.7264 1.4273 1.4273 0 0 0 1.2019-1.0588 1.4265 1.4265 0 0 0-.16-1.0926L20.3532 6.4634A1.4044 1.4044 0 0 0 19 5.762a1.427 1.427 0 0 0-1.354.7014L6.9582 24.9731a1.4257 1.4257 0 0 0 .5227 1.9477 1.424 1.424 0 0 0 .527.1786 1.4243 1.4243 0 0 0 1.054-.2829 1.4253 1.4253 0 0 0 .3667-.4184L19 9.8206l4.7024 8.1464Z"></path> <path d="m31.0418 24.8667-2.2336-3.8608a1.399 1.399 0 0 0-.6642-.5941 1.4256 1.4256 0 0 0-.7608-.2253H15.7457a1.4251 1.4251 0 0 0 0 2.85h10.9512l1.8763 3.2534a1.426 1.426 0 0 0 2.5758-.3632 1.4255 1.4255 0 0 0-.1072-1.06Z"></path> <path d="M38 19C38 8.5029 29.4971 0 19 0S0 8.5029 0 19s8.502 19 19 19a18.859 18.859 0 0 0 8.134-1.8311 1.4094 1.4094 0 0 1-.7599-1.2113 17.567 17.567 0 0 1-7.3599 1.6148c-9.7017 0-17.575-7.8724-17.575-17.5751C1.4392 9.2947 9.2982 1.425 19 1.425c9.7017 0 17.575 7.876 17.575 17.575a17.4351 17.4351 0 0 1-3.1594 10.0467 1.4199 1.4199 0 0 1 .5471 1.1164v.5462A18.924 18.924 0 0 0 38 19Z"></path> <path d="M32.3001 29.6877h-4.2732a.7133.7133 0 0 0 0 1.4268h3.562v1.1873a.7125.7125 0 0 0 1.425 0v-1.8967a.7159.7159 0 0 0-.2081-.5068.7143.7143 0 0 0-.5057-.2106ZM32.0624 33.9627h-3.3261v-1.425a.7125.7125 0 1 0-1.425 0v2.1379a.7147.7147 0 0 0 .7094.7094h4.0373a.7125.7125 0 0 0 0-1.425l.0044.0027Z"></path> </g> <defs> <clipPath id="a"> <path fill="#fff" d="M0 0h38v38H0z"></path> </clipPath> </defs> </svg> <span class="header-short-name">Exadel Authoring Kit</span> <span class="header-long-name">Exadel Authoring Kit for AEM</span> </a> <ul class="header-links unstyled-list"> <li class="header-item"> <a class="header-link" href=".">Manuals</a> </li> <li class="header-item"> <a class="header-link" href="" target="_blank">API Docs</a> </li> <li class="header-item"> <a class="header-link" href="" target="_blank">Blog</a> </li> <li class="header-item"> <a class="header-link fill-primary" href="https://github.com/exadel-inc/etoolbox-authoring-kit" target="_blank" rel="noopener norefferer"> <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"> <path d="M10.6666 14.6668v-2.58a2.246 2.246 0 0 0-.6266-1.74c2.0933-.2333 4.2933-1.0267 4.2933-4.6667a3.6268 3.6268 0 0 0-1-2.5 3.38 3.38 0 0 0-.06-2.5133s-.7867-.2333-2.6067.9867a8.92 8.92 0 0 0-4.6666 0C4.18.4335 3.3933.6668 3.3933.6668a3.38 3.38 0 0 0-.06 2.5133 3.6267 3.6267 0 0 0-1 2.52c0 3.6133 2.2 4.4067 4.2934 4.6667A2.2458 2.2458 0 0 0 6 12.0868v2.58" fill="#0082CA"></path> <path d="M6 12.6668c-3.3333 1-3.3333-1.6667-4.6667-2m9.3333 4v-2.58a2.246 2.246 0 0 0-.6266-1.74c2.0933-.2333 4.2933-1.0267 4.2933-4.6667a3.6268 3.6268 0 0 0-1-2.5 3.38 3.38 0 0 0-.06-2.5133s-.7867-.2333-2.6067.9867a8.92 8.92 0 0 0-4.6666 0C4.18.4335 3.3933.6668 3.3933.6668a3.38 3.38 0 0 0-.06 2.5133 3.6267 3.6267 0 0 0-1 2.52c0 3.6133 2.2 4.4067 4.2934 4.6667A2.2458 2.2458 0 0 0 6 12.0868v2.58h4.6666Z" stroke="#0082CA" stroke-linecap="round" stroke-linejoin="round"></path> </svg> </a> </li> </ul> <div class="header-utility"> <esl-trigger class="header-hamburger" target="#sidebar" aria-label="navigation menu"></esl-trigger> </div> </nav> </header> <eak-sidebar id="sidebar" class="open" aria-label="Site Navigation"> <nav class="sidebar-nav"> <a class="sidebar-heading" href="/"> <span class="sidebar-logo"> <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38 38"> <g clip-path="url(#a)" fill-rule="evenodd" clip-rule="evenodd" fill="#0082CA"> <path d="M23.7024 17.967a1.4253 1.4253 0 0 0 1.4276.7264 1.4273 1.4273 0 0 0 1.2019-1.0588 1.4265 1.4265 0 0 0-.16-1.0926L20.3532 6.4634A1.4044 1.4044 0 0 0 19 5.762a1.427 1.427 0 0 0-1.354.7014L6.9582 24.9731a1.4257 1.4257 0 0 0 .5227 1.9477 1.424 1.424 0 0 0 .527.1786 1.4243 1.4243 0 0 0 1.054-.2829 1.4253 1.4253 0 0 0 .3667-.4184L19 9.8206l4.7024 8.1464Z"></path> <path d="m31.0418 24.8667-2.2336-3.8608a1.399 1.399 0 0 0-.6642-.5941 1.4256 1.4256 0 0 0-.7608-.2253H15.7457a1.4251 1.4251 0 0 0 0 2.85h10.9512l1.8763 3.2534a1.426 1.426 0 0 0 2.5758-.3632 1.4255 1.4255 0 0 0-.1072-1.06Z"></path> <path d="M38 19C38 8.5029 29.4971 0 19 0S0 8.5029 0 19s8.502 19 19 19a18.859 18.859 0 0 0 8.134-1.8311 1.4094 1.4094 0 0 1-.7599-1.2113 17.567 17.567 0 0 1-7.3599 1.6148c-9.7017 0-17.575-7.8724-17.575-17.5751C1.4392 9.2947 9.2982 1.425 19 1.425c9.7017 0 17.575 7.876 17.575 17.575a17.4351 17.4351 0 0 1-3.1594 10.0467 1.4199 1.4199 0 0 1 .5471 1.1164v.5462A18.924 18.924 0 0 0 38 19Z"></path> <path d="M32.3001 29.6877h-4.2732a.7133.7133 0 0 0 0 1.4268h3.562v1.1873a.7125.7125 0 0 0 1.425 0v-1.8967a.7159.7159 0 0 0-.2081-.5068.7143.7143 0 0 0-.5057-.2106ZM32.0624 33.9627h-3.3261v-1.425a.7125.7125 0 1 0-1.425 0v2.1379a.7147.7147 0 0 0 .7094.7094h4.0373a.7125.7125 0 0 0 0-1.425l.0044.0027Z"></path> </g> <defs> <clipPath id="a"> <path fill="#fff" d="M0 0h38v38H0z"></path> </clipPath> </defs> </svg> </span> <span class="sidebar-title">Exadel Authoring Kit for AEM</span> </a> <div class="sidebar-content"> <div class="sidebar-scrollable-content esl-scrollable-content"> <ul class="sidebar-nav-list"> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> Getting Started </div> <div class="sidebar-nav-secondary"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/getting-started/installation/"> Installation </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/getting-started/common-use-cases/"> Common Use Cases </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/getting-started/popular-articles/"> Popular Articles </a> </li> </ul> </div> </li> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> Developer Tools </div> <div class="sidebar-nav-secondary"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item sidebar-secondary-nav-item-children"> <div class="sidebar-nav-item-heading"> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next"> Component Management </esl-trigger> </div> <esl-panel id="sidebar-component-management-menu" class="sidebar-nav-secondary nav-secondary-panel" group=" component-management"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/component-structure/"> Component Structure </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-layout/"> Dialog Layout </a> </li> <li class="sidebar-nav-secondary-item sidebar-secondary-nav-item-children"> <div class="sidebar-nav-item-heading"> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next"> Dialog Fields </esl-trigger> </div> <esl-panel id="sidebar-dialog-fields-menu" class="sidebar-nav-secondary nav-secondary-panel" group=" dialog-fields"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/dialog-field/"> Dialog Field </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/widgets/"> Widgets (A-Z) </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/configuring-rte/"> Configuring RTE </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/configuring-fieldset/"> Configuring Fieldset </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/dialog-fields/configuring-multifield/"> Configuring Multifield </a> </li> </ul> </esl-panel> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/additional-properties/"> Additional Properties </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/reusing-code/"> Reusing Code </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/component-management/customizing-toolkit/"> Customization </a> </li> </ul> </esl-panel> </li> <li class="sidebar-nav-secondary-item sidebar-secondary-nav-item-children"> <div class="sidebar-nav-item-heading"> <esl-trigger class="sidebar-nav-item-trigger sidebar-nav-item-arrow" target="::parent::next"> DependsOn </esl-trigger> </div> <esl-panel id="sidebar-depends-on-menu" class="sidebar-nav-secondary nav-secondary-panel" group=" depends-on"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/depends-on/introduction/"> Introduction </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/depends-on/usage/"> Usage </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/depends-on/api/"> API </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/depends-on/examples/"> Examples </a> </li> </ul> </esl-panel> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/option-provider/"> Option Provider </a> </li> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/dev-tools/injectors/"> Injectors </a> </li> <li class="sidebar-nav-secondary-item active" aria-selected="true"> <a class="sidebar-nav-secondary-link" aria-current="page" href="/content/dev-tools/allowed-components/"> Allowed Components </a> </li> </ul> </div> </li> <li class="sidebar-nav-item"> <div class="sidebar-nav-item-heading"> Authoring Tools </div> <div class="sidebar-nav-secondary"> <ul class="sidebar-nav-secondary-list"> <li class="sidebar-nav-secondary-item"> <a class="sidebar-nav-secondary-link" href="/content/authoring-tools/etoolbox-lists/"> Etoolbox Lists </a> </li> </ul> </div> </li> </ul> <div class="sidebar-footer-copyright"> EAK v2.4.1 © 2024<a class="sidebar-footer-link" href="https://exadel.com/" target="_blank" rel="noopener norefferer">Exadel</a>, Inc. </div> </div> <esl-scrollbar class="sidebar-scrollbar" target="::prev"></esl-scrollbar> </div> </nav> </eak-sidebar> <main class="esl-scrollable-content"> <div class="content mb-4 container markdown-container"> <div class="content-page-title"> <span class="parent-page">Developer Tools / </span> <h1 class="current-page">Managing allowed components with AllowedChildren</h1> </div> <p>Defining allowed components has always been a tiring task for developers. The XML configurations are hard to scale and manage. If you store the designs/policies in the codebase, you can use the capabilities of Exadel Toolbox Authoring Kit to define the allowed components in a uniform and flexible way.</p> <h2 id="defining-allowed-children">Defining allowed children</h2> <p>In order to specify a list of allowed children for a container component, use <code>@AllowedChildren</code> annotation. There can be one or more <code>@AlowedChildren</code> annotations per component. Every <code>@AllowedChildren</code> entry describes a set of allowed components/groups and, optionally, the conditions under which it should be applied.</p> <p>You can either specify a single rule that will apply everywhere the component can be inserted, or have several rules with different conditions. The rules are evaluated in the order they were specified. The first suitable rule takes effect, so you would want to specify the rules from the more specific ones to more generic ones.</p> <p>A detailed description of all properties of <code>@AllowedChildren</code> annotation can be found in the <a href="https://javadoc.io/doc/com.exadel.etoolbox/etoolbox-authoring-kit-core/latest/com/exadel/aem/toolkit/api/annotations/policies/AllowedChildren.html" target="_blank" rel="noopener norefferer">API documentation</a>. Here is a brief overview of the properties that can help you to narrow down the conditions for a rule:</p> <ul> <li><em>value</em> (the default property) allows specifying permitted child components by their resource type. Also you can provide a group like <code>group:My Components</code>. When providing a resource type stick to its complete form, i.e. starting with <em>/apps</em> or <em>/libs</em>;</li> <li><em>classes</em> allow to specify permitted child components via the respective Java classes. Such classes must be the ones managed by the ToolKit (i.e., annotated with <em>@AemComponent</em>). You can provide either <em>value</em>, or <em>classes</em>, or both;</li> <li>With <em>templates</em> you can specify applicable templates;</li> <li><em>pageResourceTypes</em> can be used to limit the effect of the current rule to only pages with the given resource types;</li> <li>Same refers to <em>pagePaths</em> with which you specify applicable page paths;</li> <li><em>parents</em> are used to specify applicable parent component resource types or groups. You can also specify several "generations" of parents separating them with a space (see <em>Example 4</em> below);</li> <li><em>resourceNames</em> can be used to specify applicable resource subnode names.</li> </ul> <p>For <em>templates</em>, <em>pageResourceTypes</em>, <em>parents</em>, <em>pagePaths</em> and the <em>value</em> itself, you can use wildcard symbol (<code>*</code>) to omit the beginning or the end of the path to a component or template: <code>/apps/acme/components/content/new_design/*</code>, <code>*/new_design/*</code>, <code>*/text</code>. However, such policies are hard to support and may lead to unwanted components being allowed, therefore they should be used with caution.</p> <p>The final setting that can be applied to a rule is the <em>mode</em>. Mode defines whether the current rule replaces (or "overrides") the rules defined through the conventional policies for editable templates / designs, or just merges with them.</p> <p>The default behavior is "override". It helps to keep the policies and the <code>@AllowedChildren</code> logic apart.</p> <p>Use the <em>merge</em> mode with caution. It allows using the policies of editable templates and the code-defined rules at the same time, and this can be a quick way to alter things. But it complicates debugging policy issues: it will be harder to guess for what exact reason a component is in or out of the "allowed" list.</p> <h2 id="allowed-children-for-a-top-level-container">Allowed children for a top-level container</h2> <p>In almost every AEM page, there are containers that a developer hasn't created with one's own hands. Such are built-in <code>parsys</code>-es, <code>responsivegrid</code>-s, etc. Usually, they are situated above the user-defined components' nodes in the page's node tree. Therefore we name them "top-level containers".</p> <p>There would unlikely be a dedicated component for a top-level container in the code base (unless you, e.g., introduce a descendant for <code>parsys</code> of your own). However, there is a way to define policies for top-level containers as well.</p> <p>You can create (or reuse) an <code>@AemComponent</code>-annotated class that manifests a page. This technique is described in the section on <a href="component-management/component-structure.md#page-properties-dialogs">Page properties</a>. Please mind that you don't necessarily need a <code>@Dialog</code>, etc. for such a class if you're not going to modify the page properties UI. Just <code>@AemComponent</code> and then <code>@AllowedChildren</code> would be enough.</p> <p>In <code>@AllowedChildren</code> you specify the node name of the appropriate top-level container. To restrict the rule to s specific page or set of pages, you can use <em>templates</em> and <em>pagePaths</em>. Note that either <em>parents</em> or <em>pageResourceTypes</em> are not welcome in this case.</p> <h2 id="examples">Examples</h2> <p>Here are some examples that showcase the typical use cases.</p> <ol> <li>Allow <em>Text</em> component under <em>Columns</em> component anywhere the columns component is supported:</li> </ol> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"Columns Component"</span><span class="token punctuation">,</span> path <span class="token operator">=</span> <span class="token string">"columns"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@AllowedChildren</span><span class="token punctuation">(</span><span class="token string">"/apps/acme/components/content/text"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColumnsComponent</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <ol start="2"> <li>Allow <em>Text</em> component under <em>Columns</em> with the reference to the Java class backing that component. Additionally, allow <em>Image</em> component by its resource type:</li> </ol> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"Columns Component"</span><span class="token punctuation">,</span> path <span class="token operator">=</span> <span class="token string">"columns"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@AllowedChildren</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token class-name">TextComponent</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> value <span class="token operator">=</span> '<span class="token operator">/</span>apps<span class="token operator">/</span>acme<span class="token operator">/</span>components<span class="token operator">/</span>content<span class="token operator">/</span>image'<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColumnsComponent</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <ol start="3"> <li>Allow "General" group of components under Columns component if it is placed on the Articles template, and only Text component in all other cases:</li> </ol> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"Columns Component"</span><span class="token punctuation">,</span> path <span class="token operator">=</span> <span class="token string">"columns"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@AllowedChildren</span><span class="token punctuation">(</span>
    value <span class="token operator">=</span> <span class="token string">"group:General"</span><span class="token punctuation">,</span>
    templates <span class="token operator">=</span> <span class="token string">"/conf/acme/settings/wcm/templates/article"</span>
<span class="token punctuation">)</span>
<span class="token annotation punctuation">@AllowedChildren</span><span class="token punctuation">(</span><span class="token string">"/apps/acme/components/content/text"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColumnsComponent</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <ol start="4"> <li>Allow Text component under Columns component only if the Columns component is placed inside the specified "chain" of parents:</li> </ol> <pre><code class="language-text">└── /apps/acme/components/content/rootColumn (a member of "Root Components" group)
    └── /apps/acme/components/content/grandparent-component
       └── /apps/acme/components/content/parent-component
          └── /apps/acme/components/content/columns
</code></pre> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"Columns Component"</span><span class="token punctuation">,</span> path <span class="token operator">=</span> <span class="token string">"columns"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@AllowedChildren</span><span class="token punctuation">(</span>
    value <span class="token operator">=</span> <span class="token string">"/apps/acme/components/content/text"</span><span class="token punctuation">,</span>
    parents <span class="token operator">=</span> <span class="token string">"Group:'Root Components' */grandparent-component */parent-component"</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColumnsComponent</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <ol start="5"> <li>Disallow all components under Column component</li> </ol> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>title <span class="token operator">=</span> <span class="token string">"Columns Component"</span><span class="token punctuation">,</span> path <span class="token operator">=</span> <span class="token string">"columns"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@AllowedChildren</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ColumnsComponent</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <ol start="6"> <li>Allow Text component under CustomParsys component, which extends OOTB Parsys. Let this rule be added to the conventional policy for the current component</li> </ol> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>
        title <span class="token operator">=</span> <span class="token string">"Columns Component"</span><span class="token punctuation">,</span>
        path <span class="token operator">=</span> <span class="token string">"columns"</span><span class="token punctuation">,</span>
        resourceSuperType <span class="token operator">=</span> <span class="token string">"wcm/foundation/components/parsys"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@AllowedChildren</span><span class="token punctuation">(</span>
        value <span class="token operator">=</span> <span class="token string">"/apps/acme/components/content/text"</span><span class="token punctuation">,</span>
        targetContainer <span class="token operator">=</span> <span class="token class-name">PolicyTarget</span><span class="token punctuation">.</span><span class="token constant">CURRENT</span><span class="token punctuation">,</span>
        mode <span class="token operator">=</span> <span class="token class-name">PolicyMergeMode</span><span class="token punctuation">.</span><span class="token constant">MERGE</span>
<span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomParsys</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> <ol start="7"> <li>Allow the Text and Image components in the top-level container (OOTB Parsys or a similar species) that stores nested components in a node named "body-zone" in the Generic Page template.</li> </ol> <pre><code class="language-java"><span class="token annotation punctuation">@AemComponent</span><span class="token punctuation">(</span>
        title <span class="token operator">=</span> <span class="token string">"Generic Page"</span><span class="token punctuation">,</span>
        path <span class="token operator">=</span> <span class="token string">"/apps/acme/components/pages/generic-page"</span><span class="token punctuation">,</span>
        description <span class="token operator">=</span> <span class="token string">"Standard page for various content"</span><span class="token punctuation">,</span>
        resourceSuperType <span class="token operator">=</span> <span class="token string">"acme/components/pages/base"</span><span class="token punctuation">)</span>

<span class="token annotation punctuation">@AllowedChildren</span><span class="token punctuation">(</span>
        resourceNames <span class="token operator">=</span> <span class="token string">"body-zone"</span><span class="token punctuation">,</span>
        value <span class="token operator">=</span> <span class="token punctuation">{</span>
                <span class="token string">"/apps/acme/components/content/text"</span><span class="token punctuation">,</span>
                <span class="token string">"/apps/acme/components/content/image"</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericPage</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre> </div> </main> <esl-scrollbar target="::prev" class="main-scroll"></esl-scrollbar> <div class="header-shadow"></div> </div> <script src="/bundles/site.js"></script>   </body>