{"version":3,"file":"site.js","mappings":"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","sources":["webpack://eak-website/webpack/bootstrap","webpack://eak-website/webpack/runtime/global","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/environment/export-ns.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/dom/attr.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/decorators/prop.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/dom/events/misc.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/object/utils.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/functions.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/array.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/memoize.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/object/types.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/decorators/memoize.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/object/compare.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/object/path.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/format.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/dom/traversing.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-traversing-query/core/esl-traversing-query.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-event-listener/core/listener.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-event-listener/core/api.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/dom/class.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-base-element/core/esl-base-element.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/async/raf.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/decorators/attr.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/decorators/listen.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/decorators/decorate.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/dom/rtl.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/async/promise.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/async/debounce.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/object/merge.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/dom/events/target.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/environment/device-detector.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/common/screen-dpr.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/common/screen-breakpoint.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/common/env-shortcuts.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/conditions/media-query-const.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/conditions/media-query-base.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/conditions/media-query-condition.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/conditions/media-query-containers.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/esl-media-query.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/esl-media-rule.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-media-query/core/esl-media-rule-list.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/decorators/bool-attr.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/decorators/ready.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/dom/ready.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/dom/keys.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-toggleable/core/esl-toggleable-placeholder.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-trigger/core/esl-trigger.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-tab/core/esl-tab.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-tab/core/esl-tabs.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/decorators/json-attr.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/uid.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/async/delayed-task.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-toggleable/core/esl-toggleable.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/misc/object/copy.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-toggleable/core/esl-toggleable-dispatcher.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-panel/core/esl-panel.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-panel-group/core/esl-panel-group.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/decorators/bind.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-scrollbar/core/esl-scrollbar.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-image/core/esl-image-iobserver.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-utils/dom/sanitize.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-image/core/esl-image-strategies.js","webpack://eak-website/./node_modules/@exadel/esl/modules/esl-image/core/esl-image.js","webpack://eak-website/./src/navigation/sidebar/sidebar.ts","webpack://eak-website/./src/landing/banner/banner.ts","webpack://eak-website/./src/eak-zoom-image/eak-zoom-image.ts","webpack://eak-website/./src/site.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","const NS_NAME = 'ESL';\n/**\n * Nested declaration helper\n */\nfunction define(root, name, value) {\n    name.split('.').reduce((obj, key, index, parts) => {\n        if (parts.length === index + 1) {\n            return (obj[key] = obj[key] || value);\n        }\n        const type = typeof obj[key];\n        if (type !== 'undefined' && type !== 'object' && type !== 'function') {\n            throw new Error(`Can not define ${value} on ${name}`);\n        }\n        return (obj[key] = obj[key] || {});\n    }, root);\n}\n/**\n * Method to manually declare key in library namespace\n * See {@link ExportNs} decorator for details\n */\nexport const exportNs = (name, module) => {\n    if (!(NS_NAME in window))\n        return;\n    define(window[NS_NAME], name, module);\n};\n/**\n * Decorator to declare function or class in a global ns\n * @param name - key path to declare in ESL global ns\n * NOTE: path parts should be separated by dots\n * @example\n * ```ts\n * @Export('Package.Component')\n * ```\n * NOTE: in case declaration contains components-packages, their origins will be mixed with declaration in a Runtime\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function ExportNs(name) {\n    return (module) => exportNs(name || module.name, module);\n}\n/** Declare ESL global */\nExportNs.declare = () => {\n    if ('ESL' in window)\n        return;\n    Object.defineProperty(window, 'ESL', { value: {} });\n};\n","/** @returns if attribute presented */\nexport function hasAttr($el, name) {\n    if ('$host' in $el)\n        $el = $el.$host;\n    return $el.hasAttribute(name);\n}\nexport function getAttr($el, name, fallback = null) {\n    if ('$host' in $el)\n        $el = $el.$host;\n    const value = $el.getAttribute(name);\n    return value === null ? fallback : value;\n}\n/** Set attribute */\nexport function setAttr($el, name, value) {\n    if ('$host' in $el)\n        $el = $el.$host;\n    if (value === undefined || value === null || value === false) {\n        $el.removeAttribute(name);\n    }\n    else {\n        $el.setAttribute(name, value === true ? '' : value);\n    }\n}\n","/**\n * `@prop` is auxiliary decorator to define a field on the prototype level.\n *` @prop` can be used to override decorated property from the parent level\n *\n * You can also use an @override decorator in combination with ECMA Script class property definition:\n * `@prop() public field: any = initial value;`\n *\n * The class property initial value is a part of object creation, so it goes to the object itself,\n * while the @override value is defined on the prototype level.\n *\n * @param value - value to setup in prototype\n * @param prototypeConfig - prototype property configuration\n */\nexport function prop(value, prototypeConfig = {}) {\n    return function (obj, name) {\n        if (Object.hasOwnProperty.call(obj, name)) {\n            throw new TypeError('Can\\'t override own property');\n        }\n        Object.defineProperty(obj, name, {\n            value,\n            writable: !prototypeConfig.readonly,\n            enumerable: !prototypeConfig.enumerable,\n            configurable: true\n        });\n    };\n}\n","/** Checks if the passed event is {@link MouseEvent} */\nexport const isMouseEvent = (event) => window.MouseEvent && event instanceof MouseEvent;\n/** Checks if the passed event is {@link TouchEvent} */\nexport const isTouchEvent = (event) => window.TouchEvent && event instanceof TouchEvent;\n/** Checks if the passed event is {@link PointerEvent} */\nexport const isPointerEvent = (event) => window.PointerEvent && event instanceof PointerEvent;\nconst PASSIVE_EVENTS = ['wheel', 'mousewheel', 'touchstart', 'touchmove'];\n/**\n * @returns true if the passed event should be passive by default\n * @see https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n */\nexport const isPassiveByDefault = (event) => PASSIVE_EVENTS.includes(event);\n/** Gets the original CustomEvent source in case event bubbles from Shadow DOM */\nexport const getCompositeTarget = (e) => {\n    const targets = (e.composedPath && e.composedPath());\n    return targets ? targets[0] : e.target;\n};\n/** @returns touch point coordinates of {@link TouchEvent} or {@link PointerEvent} */\nexport const getTouchPoint = (event) => {\n    const source = isTouchEvent(event) ? event.changedTouches[0] : event;\n    return {\n        x: source.pageX,\n        y: source.pageY\n    };\n};\n/** @returns element offset point coordinates */\nexport const getOffsetPoint = (el) => {\n    const props = el.getBoundingClientRect();\n    const y = props.top + window.scrollY;\n    const x = props.left + window.scrollX;\n    return { x, y };\n};\n/**\n * Dispatches custom event.\n * Event bubbles and is cancelable by default, use `eventInit` to override that.\n * @param el - EventTarget to dispatch event\n * @param eventName - name of the event to dispatch\n * @param eventInit - object that specifies characteristics of the event. See {@link CustomEventInit}\n */\nexport const dispatchCustomEvent = (el, eventName, eventInit) => {\n    const init = Object.assign({\n        bubbles: true,\n        composed: true,\n        cancelable: true\n    }, eventInit || {});\n    return el.dispatchEvent(new CustomEvent(eventName, init));\n};\n","/** @returns first defined param */\nexport function defined(...params) {\n    for (const param of params) {\n        if (param !== undefined)\n            return param;\n    }\n}\n/** Finds the closest property descriptor */\nexport function getPropertyDescriptor(o, prop) {\n    let proto = o;\n    while (proto) {\n        const desc = Object.getOwnPropertyDescriptor(proto, prop);\n        if (desc)\n            return desc;\n        proto = Object.getPrototypeOf(proto);\n    }\n}\nexport function extractValues(obj, filter) {\n    if (!obj)\n        return [];\n    const desc = [];\n    for (const key in obj) {\n        if (filter(obj[key], key))\n            desc.push(obj[key]);\n    }\n    return desc;\n}\n","/** Function that does nothing */\nexport const noop = () => undefined;\n/** Function that returns the first argument */\nexport const identity = (arg) => arg;\n/** Resolves {@link PropertyProvider} function to the value */\nexport const resolveProperty = (val, origin) => typeof val === 'function' ? val.call(origin, origin) : val;\n","import { identity } from './functions';\nimport { isArrayLike } from './object';\n/** Split array into tuples */\nexport const tuple = (arr) => arr.reduce((acc, el) => {\n    if (acc.length === 0 || acc[acc.length - 1].length >= 2)\n        acc.push([]);\n    acc[acc.length - 1].push(el);\n    return acc;\n}, []);\n/** Flat array - unwraps one level of nested arrays */\nexport const flat = (arr) => arr.reduce((acc, el) => el ? acc.concat(el) : acc, []);\n/** Wraps passed object or primitive to array */\nexport const wrap = (arr) => {\n    if (arr === undefined || arr === null)\n        return [];\n    if (Array.isArray(arr))\n        return arr;\n    return [arr];\n};\nexport function unwrap(value) {\n    return isArrayLike(value) ? value[0] : value;\n}\n/** Makes array values unique */\nexport const uniq = (arr) => {\n    if (arr.length < 2)\n        return arr.slice(0);\n    const result = [];\n    const set = new Set();\n    arr.forEach((item) => set.add(item));\n    set.forEach((item) => result.push(item));\n    return result;\n};\nexport function range(n, filler = identity) {\n    const arr = Array(n);\n    let i = 0;\n    while (i < n)\n        arr[i] = filler(i++);\n    return arr;\n}\n/**\n * @returns object with a criteria value as a key and an array of original items that belongs to the current criteria value\n */\nexport const groupBy = (array, group) => {\n    return array.reduce((obj, el) => {\n        const key = group(el);\n        obj[key] ? obj[key].push(el) : obj[key] = [el];\n        return obj;\n    }, {});\n};\n","/**\n * Memoization decorator function. Caches the original function result according to hash generated from arguments.\n * In case the hash function returns `undefined` value will not be memoized.\n * @see MemoHashFn Hash function signature.\n */\nexport function memoizeFn(fn, hashFn = defaultArgsHashFn) {\n    function memo(...args) {\n        const key = hashFn(...args);\n        if (key !== null && typeof key !== 'string') {\n            console.warn(`Can't cache value for ${fn.name} call.`);\n            return fn.apply(this, args);\n        }\n        if (!memo.cache.has(key)) {\n            memo.cache.set(key, fn.apply(this, args));\n        }\n        return memo.cache.get(key);\n    }\n    memo.cache = new Map();\n    memo.clear = () => memo.cache.clear();\n    memo.has = (...args) => {\n        const key = hashFn(...args);\n        return key === undefined ? false : memo.cache.has(key);\n    };\n    return memo;\n}\n/**\n * Default arguments hash function.\n * Supports only 0-1 arguments with a primitive type.\n */\nexport function defaultArgsHashFn(...args) {\n    if (args.length === 0)\n        return null;\n    if (args.length > 1)\n        return;\n    if (typeof args[0] !== 'string' && typeof args[0] !== 'number' && typeof args[0] !== 'boolean')\n        return;\n    return String(args[0]);\n}\n","/** Checks that passed value is object, but not a callable-object (function) */\nexport const isObject = (obj) => !!obj && typeof obj === 'object';\n/** Checks that passed value is an object or function */\nexport const isObjectLike = (obj) => isObject(obj) || typeof obj === 'function';\n/** Checks if the passed value is primitive */\nexport const isPrimitive = (obj) => obj === null ||\n    typeof obj === 'undefined' ||\n    typeof obj === 'string' ||\n    typeof obj === 'number' ||\n    typeof obj === 'boolean' ||\n    typeof obj === 'symbol';\n/** Checks that passed object is prototype of some class */\nexport const isPrototype = (obj) => Object.hasOwnProperty.call(obj, 'constructor');\n/** Checks that passed object is array-like */\nexport const isArrayLike = (value) => {\n    if (!value || typeof value !== 'object')\n        return false;\n    if (Array.isArray(value))\n        return true;\n    if (typeof value.length !== 'number' || value.length < 0)\n        return false;\n    return !value.length || Object.hasOwnProperty.call(value, value.length - 1);\n};\n","import { defaultArgsHashFn, memoizeFn } from '../misc/memoize';\nimport { isPrototype, getPropertyDescriptor } from '../misc/object';\n/**\n * Memoization decorator helper.\n * @see memoizeFn Original memoizeFn function decorator.\n */\nexport function memoize(hashFn = defaultArgsHashFn) {\n    return function (target, prop, descriptor) {\n        if (!descriptor || typeof (descriptor.value || descriptor.get) !== 'function') {\n            throw new TypeError('Only get accessors or class methods can be decorated via @memoize');\n        }\n        if (isPrototype(target)) {\n            // Object members\n            (typeof descriptor.get === 'function') && (descriptor.get = memoizeGetter(descriptor.get, prop));\n            (typeof descriptor.value === 'function') && (descriptor.value = memoizeMethod(descriptor.value, prop, hashFn));\n        }\n        else {\n            // Static members\n            (typeof descriptor.get === 'function') && (descriptor.get = memoizeFn(descriptor.get));\n            (typeof descriptor.value === 'function') && (descriptor.value = memoizeFn(descriptor.value, hashFn));\n        }\n    };\n}\n// Lock storage to prevent cache logic for some key\nconst locks = new WeakMap();\nconst defineOwnKeySafe = (obj, prop, value) => {\n    locks.set(obj, prop); // IE try to get key with the prototype instance call, so we lock it\n    Object.defineProperty(obj, prop, { value, writable: true, configurable: true });\n    locks.delete(obj); // Free property key\n};\n/** Cache getter result as an object own property */\nfunction memoizeGetter(originalMethod, prop) {\n    return function () {\n        if (locks.get(this) === prop)\n            return originalMethod;\n        const value = originalMethod.call(this);\n        defineOwnKeySafe(this, prop, value);\n        return value;\n    };\n}\n/** Cache method memo function in the current context on call */\nfunction memoizeMethod(originalMethod, prop, hashFn) {\n    return function (...args) {\n        if (locks.get(this) === prop)\n            return originalMethod;\n        const memo = memoizeFn(originalMethod, hashFn);\n        defineOwnKeySafe(this, prop, memo);\n        return memo.apply(this, args);\n    };\n}\n/**\n * Clear memoization cache for passed target and property.\n * Accepts not own properties.\n * Note: be sure that you targeting memoized property or function.\n * Clear utility has no 100% check to prevent modifying incorrect (not memoized) property keys\n */\nmemoize.clear = function (target, property) {\n    if (Array.isArray(property))\n        return property.forEach((prop) => memoize.clear(target, prop));\n    const desc = getPropertyDescriptor(target, property);\n    if (!desc)\n        return;\n    if (typeof desc.get === 'function' && typeof desc.get.clear === 'function')\n        return desc.get.clear();\n    if (typeof desc.value === 'function' && typeof desc.value.clear === 'function')\n        return desc.value.clear();\n    if (Object.hasOwnProperty.call(target, property))\n        delete target[property];\n};\n/** Check if property has cache for the passed params */\nmemoize.has = function (target, property, ...params) {\n    const desc = getPropertyDescriptor(target, property);\n    if (!desc)\n        return false;\n    if (typeof desc.get === 'function' && typeof desc.get.has === 'function')\n        return desc.get.has(...params);\n    if (typeof desc.value === 'function' && typeof desc.value.has === 'function')\n        return desc.value.has(...params);\n    return Object.hasOwnProperty.call(target, property);\n};\n","import { isObject } from './types';\n/** Deeply compares passed objects */\nexport function isEqual(obj1, obj2) {\n    if (Object.is(obj1, obj2))\n        return true;\n    if (typeof obj1 !== typeof obj2)\n        return false;\n    if (isObject(obj1) && isObject(obj2)) {\n        const keys1 = Object.keys(obj1);\n        const keys2 = Object.keys(obj2);\n        if (keys1.length !== keys2.length)\n            return false;\n        return !keys1.some((key) => !isEqual(obj1[key], obj2[key]));\n    }\n    return false;\n}\n/** @deprecated alias for `isEqual` method */\nexport const deepCompare = isEqual;\n/** Check if arr and arr mask has intersection */\nfunction isIntersect(arrObj, arrMask, comparer) {\n    return arrMask.every((key) => arrObj.some((itm) => comparer(itm, key)));\n}\n/**\n * Checks if all keys presented in the `mask` are equal to the `obj` keys\n * Note: array order is not taken into account and uses intersection strategy\n */\nexport function isSimilar(obj, mask, deep = true) {\n    if (Array.isArray(obj) && Array.isArray(mask))\n        return isIntersect(obj, mask, deep ? isSimilar : Object.is);\n    if (!isObject(obj) || !isObject(mask))\n        return Object.is(obj, mask);\n    return Object.keys(mask).every((key) => (deep ? isSimilar : Object.is)(obj[key], mask[key]));\n}\n","import { isObjectLike } from './types';\n/** @returns PathKeyDef from the PathDef */\nconst toKeyDef = (key) => typeof key === 'object' ? key : { key };\n/** Parses path to full {@link PathKeyDef} array */\nexport const parseKeys = (path) => {\n    if (Array.isArray(path))\n        return path.map(toKeyDef);\n    return parseKeysPath(path || '.');\n};\n/** Parses string path to full {@link PathKeyDef} array */\nconst parseKeysPath = (path) => {\n    let start = 0;\n    const parts = [];\n    while (start < path.length) {\n        let end = start = start + +(path[start] === '.'); // skip initial '.'\n        if (path[start] === '[') { // handle index syntax\n            end = ++start; // start bracket ignored\n            while (end < path.length && path[end] !== ']')\n                ++end;\n            const key = path.substring(start, end);\n            const isIndex = !key || Math.floor(+key) === +key;\n            parts.push({ key, isIndex });\n            start = ++end; // skip end bracket\n        }\n        else { // handle simple key\n            while (end < path.length && path[end] !== '[' && path[end] !== '.')\n                ++end;\n            const key = path.substring(start, end);\n            parts.push({ key });\n            start = end;\n        }\n    }\n    return parts;\n};\n/**\n * Gets object property using \"path\" key\n *\n * Supports three types of key definition\n * - full array of {@link PathKeyDef}\n * - array of keys (string or number), can be mixed with a full definitions {@link PathKeyDef}\n * - string path mode (supports index syntax):\n *   - `a.b` - simple key access (`{a : {b: val}}`)\n *   - `a[0]` - index access, creates collection if it's not exists  (`{a : [val]}`)\n *   - `a[]` - pushes to the end of collection (`{a : [..., val]}`)\n *   - `a[a.b.c]` - escaping: non-numeric indexes uses as a simple keys, delimiters inside square brackets are ignored (`{a : {'a.b.c': val}}`)\n *\n * @param data - object\n * @param path - key path. string or {@link PathKey} array\n * @param defaultValue - default\n * @returns specified object property\n */\nexport const getByPath = (data, path, defaultValue) => {\n    const keys = parseKeys(path);\n    const result = keys.reduce((curr, { key }) => {\n        if (isObjectLike(curr))\n            return curr[key];\n        return undefined;\n    }, data);\n    return typeof result === 'undefined' ? defaultValue : result;\n};\n/**\n * Gets object property using \"path\" with a keys separated by `.`\n * @see getByPath\n */\nexport const get = (data, path, defaultValue) => getByPath(data, (path || '').split('.'), defaultValue);\n/**\n * Sets object property using \"path\" key\n * Creates empty object if sub-key value is not presented.\n *\n * Supports three types of key definition\n * - full array of {@link PathKeyDef}\n * - array of keys (string or number), can be mixed with a full definitions {@link PathKeyDef}\n * - string path mode (supports index syntax and collection creation):\n *   - `a.b` - simple key access (`{a : {b: val}}`)\n *   - `a[0]` - index access, creates collection if it's not exists  (`{a : [val]}`)\n *   - `a[]` - pushes to the end of collection (`{a : [..., val]}`)\n *   - `a[a.b.c]` - escaping: non-numeric indexes uses as a simple keys, delimiters inside square brackets are ignored (`{a : {'a.b.c': val}}`)\n *\n * @param target - object\n * @param path - key path. string or {@link PathKey} array\n * @param value - value of property\n * @returns original object\n */\nexport const setByPath = (target, path, value) => {\n    const keys = parseKeys(path);\n    const depth = keys.length - 1;\n    keys.reduce((cur, { key, isIndex, isIndexed }, pos) => {\n        if (isIndex && !key)\n            key = cur.length || 0; // a[] only\n        if (pos !== depth && isObjectLike(cur[key]))\n            return cur[key]; // key already presented\n        if (isIndexed === undefined && pos !== depth)\n            isIndexed = keys[pos + 1].isIndex;\n        return cur[key] = (pos === depth) ? value : (isIndexed ? [] : {});\n    }, target);\n    return target;\n};\n/**\n * Sets object property using \"path\" with a keys separated by `.`\n * @see setByPath\n */\nexport const set = (target, path, value) => setByPath(target, (path || '').split('.'), value);\n","import { get } from './object';\n/** Converts string to kebab-case notation */\nexport const toKebabCase = (str) => {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/[\\s_]+/g, '-').toLowerCase();\n};\n/** Converts string to camelCase notation */\nexport const toCamelCase = (str) => {\n    return str.trim().replace(/[\\s-,_]+([a-zA-Z0-9]?)/g, (match, word) => word.toUpperCase());\n};\n/** Makes the first non-indent (space, tab, newline) letter in the string capitalized */\nexport const capitalize = (str) => {\n    let i = 0;\n    while (i < str.length && (str[i] === ' ' || str[i] === '\\t' || str[i] === '\\n'))\n        i++;\n    return str.slice(0, i) + str.charAt(i).toUpperCase() + str.slice(i + 1);\n};\n/** Unwraps string from parenthesis */\nexport const unwrapParenthesis = (str) => {\n    return str.trim().replace(/^\\((.*)\\)$/, '$1').trim();\n};\n/** Parses `null` and `undefined` as an empty string */\nexport const parseString = (val) => String(val !== null && val !== void 0 ? val : '');\n/** Parses string representation of the boolean value */\nexport const parseBoolean = (val) => val !== null && val !== 'false';\n/**\n * Parses number with the ability to pass an alternative fallback for NaN.\n * Note: falsy values except 0 are treated as NaN\n */\nexport const parseNumber = (str, nanValue) => {\n    if (str === 0)\n        return 0;\n    const value = +(str || NaN);\n    return isNaN(value) ? nanValue : value;\n};\n/**\n * Common function that returns coefficient aspect ratio\n * Supported formats: w:h, w/h, coefficient\n * @example\n * `16:9`, `16/9`, `1.77`\n * @param str - string to parse\n * @returns aspect ratio coefficient\n */\nexport function parseAspectRatio(str) {\n    const [w, h] = str.split(/[:/]/);\n    if (typeof h !== 'undefined')\n        return +w / +h;\n    return +w || 0;\n}\n/** Evaluates passed string or returns `defaultValue` */\nexport function evaluate(str, defaultValue) {\n    try {\n        // eslint-disable-next-line @typescript-eslint/no-implied-eval\n        return str ? (new Function(`return ${str}`))() : defaultValue;\n    }\n    catch (e) {\n        console.warn('Cannot parse value ', str, e);\n        return defaultValue;\n    }\n}\n/** Default RegExp to match replacements in the string for the {@link format} function */\nexport const DEF_FORMAT_MATCHER = /{[{%]?([\\w.]+)[%}]?}/g;\n/** Replaces `{key}` patterns in the string from the source object */\nexport function format(str, source, matcher = DEF_FORMAT_MATCHER) {\n    return str.replace(matcher, (match, key) => {\n        const val = get(source, key);\n        return val === undefined ? match : val;\n    });\n}\n","/** Check that `nodeA` and `nodeB` are from the same tree path */\nexport const isRelativeNode = (nodeA, nodeB) => {\n    return !!(nodeA && nodeB) && (nodeA.contains(nodeB) || nodeB.contains(nodeA));\n};\n/** Create function that finds next dom element, that matches selector, in the sequence declared by `next` function */\nexport const createSequenceFinder = (next, includeSelf = false) => {\n    return function (base, predicate) {\n        if (!predicate)\n            return includeSelf ? base : next(base);\n        for (let target = includeSelf ? base : next(base); target; target = next(target)) {\n            if (typeof predicate === 'string' && target.matches(predicate))\n                return target;\n            if (typeof predicate === 'function' && predicate.call(target, target))\n                return target;\n        }\n        return null;\n    };\n};\n/** Checks if element matches passed selector or exact predicate function */\nexport const isMatches = (el, matcher) => {\n    if (typeof matcher === 'string')\n        return el.matches(matcher);\n    if (typeof matcher === 'function')\n        return matcher(el);\n    return typeof matcher === 'undefined';\n};\n/** @returns first matching next sibling or null*/\nexport const findNext = createSequenceFinder((el) => el.nextElementSibling);\n/** @returns first matching previous sibling or null*/\nexport const findPrev = createSequenceFinder((el) => el.previousElementSibling);\n/** @returns first matching parent or null*/\nexport const findParent = createSequenceFinder((el) => el.parentElement);\n/** @returns first matching ancestor starting from passed element or null*/\nexport const findClosest = createSequenceFinder((el) => el.parentElement, true);\n/** @returns Array of all matching elements in subtree or empty array */\nexport const findAll = (base, sel) => {\n    return sel ? Array.from(base.querySelectorAll(sel)) : [base];\n};\n/** @returns Array of all matching children or empty array */\nexport const findChildren = (base, sel) => {\n    return Array.from(base.children).filter((el) => !sel || el.matches(sel));\n};\n/**\n * Find closest parent node of `node` by `predicate`.\n * Optional `skipSelf` to skip initial node\n */\nexport const findClosestBy = (node, predicate, skipSelf = false) => {\n    let current = skipSelf && node ? node.parentNode : node;\n    while (current) {\n        if (predicate(current))\n            return current;\n        current = current.parentNode;\n    }\n    return null;\n};\n/** @deprecated Cumulative traversing utility set */\nexport class TraversingUtils {\n}\nTraversingUtils.isRelative = isRelativeNode;\nTraversingUtils.closestBy = findClosestBy;\nTraversingUtils.createSequenceFinder = createSequenceFinder;\nTraversingUtils.findNext = findNext;\nTraversingUtils.findPrev = findPrev;\nTraversingUtils.findParent = findParent;\nTraversingUtils.findClosest = findClosest;\nTraversingUtils.findAll = findAll;\nTraversingUtils.findChildren = findChildren;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLTraversingQuery_1;\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { tuple, wrap, uniq } from '../../esl-utils/misc/array';\nimport { unwrapParenthesis } from '../../esl-utils/misc/format';\nimport { findAll, findChildren, findNext, findParent, findClosest, findPrev } from '../../esl-utils/dom/traversing';\n/**\n * Traversing Query utility to find element via extended selector query\n * Extended query supports\n * - plain CSS selectors\n * - relative selectors (selectors that don't start from a plain selector will use passed base Element as a root)\n * - ::next and ::prev sibling pseudo-selectors\n * - ::parent, ::closest and ::child pseudo-selectors\n * - ::find pseudo-selector\n * - ::first, ::last and :nth(#) limitation pseudo-selectors\n * - ::filter, ::not filtration pseudo-selectors\n *\n * @example\n * - `#id .class [attr]` - find by CSS selector in a current document\n * - ` ` - get current base element\n * - `::next` - get next sibling element\n * - `::prev` - get previous sibling element\n * - `::parent` - get base element parent\n * - `::parent(#id .class [attr])` - find the closest parent matching passed selector\n * - `::closest(#id .class [attr])` - find the closest ancestor including base element that matches passed selector\n * - `::child(#id .class [attr])` - find direct child element(s) that match passed selector\n * - `::find(#id .class [attr])` - find child element(s) that match passed selector\n * - `::find(buttons, a)::not([hidden])` - find all buttons and anchors that are not have hidden attribute\n * - `::find(buttons, a)::filter(:first-child)` - find all buttons and anchors that are first child in container\n * - `::parent::child(some-tag)` - find direct child element(s) that match tag 'some-tag' in the parent\n * - `#id .class [attr]::parent` - find parent of element matching selector '#id .class [attr]' in document\n * - `::find(.row)::last::parent` - find parent of the last element matching selector '.row' from the base element subtree\n */\nlet ESLTraversingQuery = ESLTraversingQuery_1 = class ESLTraversingQuery {\n    /**\n     * @returns RegExp that selects all known processors in query string\n     * e.g. /(::parent|::closest|::child|::next|::prev)/\n     */\n    static get PROCESSORS_REGEX() {\n        const keys = Object.keys(this.ELEMENT_PROCESSORS).concat(Object.keys(this.COLLECTION_PROCESSORS));\n        return new RegExp(`(${keys.join('|')})`, 'g');\n    }\n    static isCollectionProcessor([name]) {\n        return !!name && (name in this.COLLECTION_PROCESSORS);\n    }\n    static processElement(el, [name, selString]) {\n        const sel = unwrapParenthesis(selString || '');\n        if (!name || !(name in this.ELEMENT_PROCESSORS))\n            return [];\n        return wrap(this.ELEMENT_PROCESSORS[name](el, sel));\n    }\n    static processCollection(els, [name, selString]) {\n        const sel = unwrapParenthesis(selString || '');\n        if (!name || !(name in this.COLLECTION_PROCESSORS))\n            return [];\n        return wrap(this.COLLECTION_PROCESSORS[name](els, sel));\n    }\n    static traverseChain(collection, processors, findFirst) {\n        if (!processors.length || !collection.length)\n            return collection;\n        const [processor, ...rest] = processors;\n        if (this.isCollectionProcessor(processor)) {\n            const processedItem = this.processCollection(collection, processor);\n            return this.traverseChain(processedItem, rest, findFirst);\n        }\n        const result = [];\n        for (const target of collection) {\n            const processedItem = this.processElement(target, processor);\n            const resultCollection = this.traverseChain(processedItem, rest, findFirst);\n            if (!resultCollection.length)\n                continue;\n            if (findFirst)\n                return resultCollection.slice(0, 1);\n            result.push(...resultCollection);\n        }\n        return uniq(result);\n    }\n    /** Split multiple queries separated by comma (respects query brackets) */\n    // This can be solved by RegEx /(?<!\\([^\\)]*),(?![^\\(]*\\))/g)/, when the WebKit browser implements this feature\n    static splitQueries(str) {\n        let last = 0;\n        let stack = 0;\n        const result = [];\n        for (let i = 0; i < str.length; i++) {\n            if (str[i] === '(')\n                stack++;\n            if (str[i] === ')')\n                stack = Math.max(0, stack - 1);\n            if (str[i] === ',' && !stack) {\n                result.push(str.substring(last, i).trim());\n                last = i + 1;\n            }\n        }\n        result.push(str.substring(last).trim());\n        return result;\n    }\n    static traverse(query, findFirst, base, scope = document) {\n        const found = [];\n        for (const part of ESLTraversingQuery_1.splitQueries(query)) {\n            const els = this.traverseQuery(part, findFirst, base, scope);\n            if (findFirst && els.length)\n                return [els[0]];\n            found.push(...els);\n        }\n        return uniq(found);\n    }\n    static traverseQuery(query, findFirst, base, scope = document) {\n        const parts = query.split(this.PROCESSORS_REGEX).map((term) => term.trim());\n        const rootSel = parts.shift();\n        const baseCollection = base ? [base] : [];\n        const initial = rootSel ? Array.from(scope.querySelectorAll(rootSel)) : baseCollection;\n        return this.traverseChain(initial, tuple(parts), findFirst);\n    }\n    /** @returns first matching element reached via {@link ESLTraversingQuery} rules */\n    static first(query, base, scope) {\n        return ESLTraversingQuery_1.traverse(query, true, base, scope)[0] || null;\n    }\n    /** @returns Array of all matching elements reached via {@link ESLTraversingQuery} rules */\n    static all(query, base, scope) {\n        return ESLTraversingQuery_1.traverse(query, false, base, scope);\n    }\n};\nESLTraversingQuery.ELEMENT_PROCESSORS = {\n    '::find': findAll,\n    '::next': findNext,\n    '::prev': findPrev,\n    '::child': findChildren,\n    '::parent': findParent,\n    '::closest': findClosest\n};\nESLTraversingQuery.COLLECTION_PROCESSORS = {\n    '::first': (list) => list.slice(0, 1),\n    '::last': (list) => list.slice(-1),\n    '::nth': (list, sel) => {\n        const index = sel ? +sel : NaN;\n        return wrap(list[index - 1]);\n    },\n    '::not': (list, sel) => list.filter((el) => !el.matches(sel || '')),\n    '::filter': (list, sel) => list.filter((el) => el.matches(sel || ''))\n};\nESLTraversingQuery = ESLTraversingQuery_1 = __decorate([\n    ExportNs('TraversingQuery')\n], ESLTraversingQuery);\nexport { ESLTraversingQuery };\n/** @deprecated alias for {@link ESLTraversingQuery} */\nexport const TraversingQuery = ESLTraversingQuery;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { wrap } from '../../esl-utils/misc/array';\nimport { resolveProperty } from '../../esl-utils/misc/functions';\nimport { memoize } from '../../esl-utils/decorators/memoize';\nimport { isObject } from '../../esl-utils/misc/object/types';\nimport { isSimilar } from '../../esl-utils/misc/object/compare';\nimport { ESLTraversingQuery } from '../../esl-traversing-query/core';\nimport { isPassiveByDefault } from '../../esl-utils/dom/events/misc';\n/** Key to store listeners on the host */\nconst STORE = '__esl_listeners';\n/**\n * Splits and deduplicates event string\n * @returns array of unique events presented in events string\n */\nexport const splitEvents = (events) => {\n    const terms = (events || '').split(' ').map((term) => term.trim());\n    const deduplicate = new Set();\n    return terms.filter((term) => {\n        if (!term || deduplicate.has(term))\n            return false;\n        deduplicate.add(term);\n        return true;\n    });\n};\n/**\n * `EventListener` instance, used as an 'inner' record to process subscriptions made by `ESLEventUtils`\n * Uses `EventListenerObject` interface to subscribe on event.\n *\n * Use Chrome console `getEventListeners` method to check subscribers details when debugging ESLEventListener subscriptions.\n * */\nexport class ESLEventListener {\n    constructor(host, event, handler, desc) {\n        this.host = host;\n        this.event = event;\n        this.handler = handler;\n        const defaults = {\n            capture: false,\n            passive: isPassiveByDefault(event)\n        };\n        Object.assign(this, defaults, desc, { event });\n    }\n    /** @returns target element to listen */\n    get $targets() {\n        if (!isObject(this.host))\n            return [];\n        const target = resolveProperty(this.target, this.host);\n        if (isObject(target))\n            return wrap(target);\n        const $host = '$host' in this.host ? this.host.$host : this.host;\n        if (typeof target === 'string')\n            return ESLTraversingQuery.all(target, $host);\n        if (typeof target === 'undefined' && $host instanceof HTMLElement)\n            return [$host];\n        return [];\n    }\n    /** @returns resolved selector to check event target */\n    get delegate() {\n        return resolveProperty(this.selector, this.host);\n    }\n    /**\n     * Checks if the passed criteria matches current event listener\n     * - `string` type criteria checked by the `event` name\n     * - `function` type criteria checked by the `handler` reference\n     * - `object` type criteria checked as descriptor using `isSimilar` comparer\n     * Note: `function` (handler) marcher has a priority over descriptor check, so handler function own properties will be ignored\n     */\n    matches(desc) {\n        if (typeof desc === 'string')\n            return this.event === desc;\n        if (typeof desc === 'function')\n            return this.handler === desc;\n        if (typeof desc === 'object')\n            return isSimilar(this, desc, false);\n        return false;\n    }\n    /**\n     * Memoized builder for bound and decorated low level subscription.\n     * Implements DOM API {@link EventListenerObject.handleEvent}\n     */\n    get handleEvent() {\n        const handlerBound = this.handler.bind(this.host);\n        const handlerFull = this.once ? ((e) => (handlerBound(e), this.unsubscribe())) : handlerBound;\n        return this.selector ? (e) => this.isDelegatedTarget(e) && handlerFull(e) : handlerFull;\n    }\n    /** Checks if the passed event can be handled by the current event listener */\n    isDelegatedTarget(e) {\n        const target = e.target;\n        const current = e.currentTarget;\n        const delegate = this.delegate;\n        if (typeof delegate !== 'string')\n            return true;\n        if (!delegate || !(target instanceof HTMLElement) || !(current instanceof HTMLElement))\n            return false;\n        return current.contains(target.closest(delegate));\n    }\n    /**\n     * (Re-)Subscribes event listener instance\n     * @returns if subscription was successful\n     */\n    subscribe() {\n        const { passive, capture } = this;\n        this.unsubscribe();\n        memoize.clear(this, '$targets');\n        memoize.clear(this, 'handleEvent');\n        if (!this.$targets.length)\n            return false;\n        this.$targets.forEach((el) => el.addEventListener(this.event, this, { passive, capture }));\n        ESLEventListener.add(this.host, this);\n        return true;\n    }\n    /** Unsubscribes event listener instance */\n    unsubscribe() {\n        const { capture } = this;\n        if (!memoize.has(this, '$targets'))\n            return;\n        this.$targets.forEach((el) => el.removeEventListener(this.event, this, { capture }));\n        ESLEventListener.remove(this.host, this);\n    }\n    /**\n     * Gets stored listeners array the passed `host` object\n     * Supports additional filtration criteria\n     */\n    static get(host, ...criteria) {\n        if (!host)\n            return [];\n        const listeners = (host[STORE] || []);\n        if (!criteria.length)\n            return listeners;\n        return listeners.filter((listener) => criteria.every(listener.matches, listener));\n    }\n    /** Adds listener to the listener store of the host object */\n    static add(host, instance) {\n        if (!host)\n            return;\n        if (!Object.hasOwnProperty.call(host, STORE))\n            host[STORE] = [];\n        host[STORE].push(instance);\n    }\n    /** Removes listener from the listener store of the host object */\n    static remove(host, instance) {\n        const listeners = ESLEventListener.get(host);\n        const value = listeners.filter((listener) => listener !== instance);\n        Object.defineProperty(host, STORE, { value, configurable: true });\n    }\n    /** Creates or resolve existing event listeners by handler and descriptors */\n    static createOrResolve(host, handler, desc) {\n        if (!isObject(host))\n            return [];\n        const eventString = resolveProperty(desc.event, host);\n        const listeners = [];\n        for (const event of splitEvents(eventString)) {\n            const subscribed = ESLEventListener.get(host, event, handler, {\n                target: desc.target,\n                selector: desc.selector,\n                capture: !!desc.capture\n            });\n            if (subscribed.length)\n                listeners.push(...subscribed);\n            else\n                listeners.push(new ESLEventListener(host, event, handler, desc));\n        }\n        return listeners;\n    }\n}\n__decorate([\n    memoize()\n], ESLEventListener.prototype, \"$targets\", null);\n__decorate([\n    memoize()\n], ESLEventListener.prototype, \"handleEvent\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLEventUtils_1;\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { dispatchCustomEvent } from '../../esl-utils/dom/events/misc';\nimport { extractValues } from '../../esl-utils/misc/object';\nimport { ESLEventListener } from './listener';\nlet ESLEventUtils = ESLEventUtils_1 = class ESLEventUtils {\n    /**\n     * Dispatches custom event. Alias for {@link dispatchCustomEvent}\n     * @see dispatchCustomEvent\n     */\n    static dispatch(el, eventName, eventInit) {\n        return dispatchCustomEvent(el, eventName, eventInit);\n    }\n    /** Type guard to check if the passed function is typeof {@link ESLListenerDescriptorFn} */\n    static isEventDescriptor(obj) {\n        return typeof obj === 'function' && Object.hasOwnProperty.call(obj, 'event');\n    }\n    /** Gets {@link ESLListenerDescriptorFn}s of the passed object */\n    static descriptors(host, auto = true) {\n        return extractValues(host, (value) => ESLEventUtils_1.isEventDescriptor(value) && value.auto === auto);\n    }\n    /**\n     * Gets currently subscribed listeners of the host\n     * @param host - host element (listeners context)\n     * @param criteria - optional set of criteria {@link ESLListenerCriteria} to filter listeners list\n     */\n    static listeners(host, ...criteria) {\n        return ESLEventListener.get(host, ...criteria);\n    }\n    static subscribe(host, eventDesc, handler = eventDesc) {\n        if (typeof handler !== 'function')\n            return [];\n        if (typeof eventDesc === 'string')\n            eventDesc = { event: eventDesc };\n        if (ESLEventUtils_1.isEventDescriptor(handler) && eventDesc !== handler)\n            eventDesc = Object.assign({}, handler, eventDesc);\n        const listeners = ESLEventListener.createOrResolve(host, handler, eventDesc);\n        const subscribed = listeners.filter((listener) => listener.subscribe());\n        if (!subscribed.length)\n            console.warn('[ESL]: Empty subscription %o', Object.assign({}, eventDesc, { handler }));\n        return subscribed;\n    }\n    /**\n     * Unsubscribes {@link ESLEventListener}(s) from the object\n     * @param host - host element that stores subscriptions (listeners context)\n     * @param criteria - optional set of criteria {@link ESLListenerCriteria} to filter listeners to remove\n     */\n    static unsubscribe(host, ...criteria) {\n        const listeners = ESLEventListener.get(host, ...criteria);\n        listeners.forEach((listener) => listener.unsubscribe());\n        return listeners;\n    }\n};\nESLEventUtils = ESLEventUtils_1 = __decorate([\n    ExportNs('EventUtils')\n], ESLEventUtils);\nexport { ESLEventUtils };\n/** @deprecated alias for {@link ESLEventUtils} */\nexport const EventUtils = ESLEventUtils;\n","import { wrap } from '../misc/array';\n/** Store locks for key element classes*/\nconst lockStore = new WeakMap();\n/** Mange className lock for the element */\nconst lock = (el, className, locker) => {\n    const elLocks = lockStore.get(el) || new Map();\n    const classLocks = elLocks.get(className) || new Set();\n    classLocks.add(locker);\n    elLocks.set(className, classLocks);\n    lockStore.set(el, elLocks);\n};\n/**\n * Manage className unlock for the element\n * @returns true if className have no locks\n */\nconst unlock = (el, className, locker) => {\n    const elLocks = lockStore.get(el);\n    if (!elLocks)\n        return true;\n    const classLocks = elLocks.get(className);\n    if (!classLocks)\n        return true;\n    classLocks.delete(locker);\n    return !classLocks.size;\n};\n/**\n * Add single class to the element.\n * Supports inversion and locker management.\n */\nconst add = (el, className, locker) => {\n    if (className[0] === '!')\n        return remove(el, className.substring(1), locker);\n    if (locker)\n        lock(el, className, locker);\n    el.classList.add(className);\n};\n/**\n * Remove single class from the element.\n * Supports inversion and locker management.\n */\nconst remove = (el, className, locker) => {\n    if (className[0] === '!')\n        return add(el, className.substring(1), locker);\n    if (locker && !unlock(el, className, locker))\n        return;\n    if (!locker)\n        CSSClassUtils.unlock(el, className);\n    el.classList.remove(className);\n};\n/**\n * Check if the element matches passed CSS class.\n * Supports inversion.\n */\nconst has = (el, className) => {\n    if (className[0] === '!')\n        return !has(el, className.substring(1));\n    return el.classList.contains(className);\n};\n/**\n * CSS class manipulation utilities.\n *\n * Allows manipulating with CSS classes with the following set of sub-features:\n * - JQuery-like enumeration - you can pass multiple tokens separated by space\n * - safe checks - empty or falsy token sting will be ignored without throwing an error\n * - inversion syntax - tokens that start from '!' will be processed with inverted action\n * (e.g. addCls(el, '!class') - will remove 'class' from the element, while removeCls(el, '!class') adds 'class' to the element)\n * - class locks - you can manipulate with classes using `locker` option that takes into account the modification initiator.\n * That means the class added in 'locker' mode will not be removed until all initiators that requested add class have requested its removal.\n * */\nexport class CSSClassUtils {\n    /** Splitting passed token string into CSS class names array. */\n    static splitTokens(tokenString) {\n        return (tokenString || '').split(' ').filter((str) => !!str);\n    }\n    /**\n     * Add all classes from the class token string to the element.\n     * @see CSSClassUtils\n     * */\n    static add(els, cls, locker) {\n        const tokens = CSSClassUtils.splitTokens(cls);\n        wrap(els).forEach((el) => tokens.forEach((className) => add(el, className, locker)));\n    }\n    /**\n     * Remove all classes from the class token string to the element.\n     * @see CSSClassUtils\n     * */\n    static remove(els, cls, locker) {\n        const tokens = CSSClassUtils.splitTokens(cls);\n        wrap(els).forEach((el) => tokens.forEach((className) => remove(el, className, locker)));\n    }\n    /**\n     * Toggle all classes from the class token string on the element to the passed state.\n     * @see CSSClassUtils\n     * */\n    static toggle(els, cls, state, locker) {\n        (state ? CSSClassUtils.add : CSSClassUtils.remove)(els, cls, locker);\n    }\n    /**\n     * Check if all class from token string matches to the element or elements.\n     * @see CSSClassUtils\n     * */\n    static has(els, cls) {\n        const tokens = CSSClassUtils.splitTokens(cls);\n        return wrap(els).every((el) => tokens.every((className) => has(el, className)));\n    }\n    /** Remove all lockers for the element or passed element className */\n    static unlock(els, className) {\n        if (className) {\n            wrap(els).forEach((el) => { var _a; return (_a = lockStore.get(el)) === null || _a === void 0 ? void 0 : _a.delete(className); });\n        }\n        else {\n            wrap(els).forEach((el) => lockStore.delete(el));\n        }\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setAttr } from '../../esl-utils/dom/attr';\nimport { prop } from '../../esl-utils/decorators';\nimport { ESLEventUtils } from '../../esl-utils/dom/events';\nimport { CSSClassUtils } from '../../esl-utils/dom/class';\n/**\n * Base class for ESL custom elements\n * Allows defining custom element with the optional custom tag name\n */\nexport class ESLBaseElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this._connected = false;\n    }\n    connectedCallback() {\n        this._connected = true;\n        this.classList.add(this.constructor.is);\n        ESLEventUtils.descriptors(this).forEach((desc) => ESLEventUtils.subscribe(this, desc));\n    }\n    disconnectedCallback() {\n        this._connected = false;\n        ESLEventUtils.unsubscribe(this);\n    }\n    /** Check that the element is connected and `connectedCallback` has been executed */\n    get connected() {\n        return this._connected;\n    }\n    $$on(event, handler) {\n        return ESLEventUtils.subscribe(this, event, handler);\n    }\n    /** Unsubscribes event listener */\n    $$off(...condition) {\n        return ESLEventUtils.unsubscribe(this, ...condition);\n    }\n    /**\n     * Gets or sets CSS classes for the current element.\n     * @param cls - CSS classes query {@link CSSClassUtils}\n     * @param value - boolean to set CSS class(es) state or undefined to skip mutation\n     * @returns current classes state or passed state\n     */\n    $$cls(cls, value) {\n        if (value === undefined)\n            return CSSClassUtils.has(this, cls);\n        CSSClassUtils.toggle(this, cls, value);\n        return value;\n    }\n    /**\n     * Gets or sets an attribute for the current element.\n     * If the `value` param is undefined then skips mutation.\n     * @param name - attribute name\n     * @param value - string attribute value, boolean attribute state or `null` to delete attribute\n     * @returns the current attribute value or previous value for mutation\n     */\n    $$attr(name, value) {\n        const prevValue = this.getAttribute(name);\n        if (value !== undefined)\n            setAttr(this, name, value);\n        return prevValue;\n    }\n    /**\n     * Dispatches component custom event.\n     * @param eventName - event name\n     * @param eventInit - custom event init. See {@link CustomEventInit}\n     */\n    $$fire(eventName, eventInit) {\n        return ESLEventUtils.dispatch(this, eventName, eventInit);\n    }\n    /**\n     * Register component in the {@link customElements} registry\n     * @param tagName - custom tag name to register custom element\n     */\n    static register(tagName) {\n        tagName = tagName || this.is;\n        if (!tagName)\n            throw new Error('Can not define custom element');\n        const constructor = customElements.get(tagName);\n        if (constructor) {\n            if (constructor.is !== tagName)\n                throw new Error('Element declaration tag inconsistency');\n            return;\n        }\n        if (this.is !== tagName) {\n            this.is = tagName;\n        }\n        customElements.define(tagName, this);\n    }\n    /** Shortcut for `customElements.whenDefined(currentCustomElement)` */\n    static get registered() {\n        return customElements.whenDefined(this.is);\n    }\n    static create() {\n        return document.createElement(this.is);\n    }\n}\n/** Custom element tag name */\nESLBaseElement.is = '';\n__decorate([\n    prop('esl:refresh')\n], ESLBaseElement.prototype, \"REFRESH_EVENT\", void 0);\n","/**\n * Postpone action after next render\n */\nexport const afterNextRender = (callback) => requestAnimationFrame(() => requestAnimationFrame(callback));\n/**\n * Postpone action after a couple of renders\n */\nexport const skipOneRender = (callback) => requestAnimationFrame(() => afterNextRender(callback));\n/**\n * Decorate function to schedule execution after next render\n * @returns decorated function\n */\nexport const rafDecorator = (fn) => {\n    let lastArgs = null; // null if no calls requested\n    return function (...args) {\n        if (lastArgs === null) {\n            requestAnimationFrame(() => {\n                lastArgs && fn.call(this, ...lastArgs);\n                lastArgs = null;\n            });\n        }\n        lastArgs = args;\n    };\n};\n","import { identity } from '../misc/functions';\nimport { parseString, toKebabCase } from '../misc/format';\nimport { getAttr, setAttr } from '../dom/attr';\nconst buildAttrName = (propName, dataAttr) => dataAttr ? `data-${toKebabCase(propName)}` : toKebabCase(propName);\n/**\n * Decorator to map current property to element attribute value.\n * Maps string type property.\n * @param config - mapping configuration. See {@link AttrDescriptor}\n */\nexport const attr = (config = {}) => {\n    return (target, propName) => {\n        const attrName = buildAttrName(config.name || propName, !!config.dataAttr);\n        function get() {\n            const val = getAttr(this, attrName);\n            if (val === null && 'defaultValue' in config)\n                return config.defaultValue;\n            return (config.parser || parseString)(val);\n        }\n        function set(value) {\n            setAttr(this, attrName, (config.serializer || identity)(value));\n        }\n        Object.defineProperty(target, propName, config.readonly ? { get } : { get, set });\n    };\n};\n","import { ESLEventUtils } from '../../esl-event-listener/core';\nexport function listen(desc) {\n    return function listener(target, propertyKey, descriptor) {\n        const superDesc = Object.getPrototypeOf(target)[propertyKey];\n        desc = typeof desc === 'string' || typeof desc === 'function' ? { event: desc } : desc;\n        desc = Object.assign({ auto: true }, desc.inherit && ESLEventUtils.isEventDescriptor(superDesc) ? superDesc : {}, desc);\n        const fn = descriptor.value || descriptor.get && descriptor.get.call(target);\n        if (typeof fn !== 'function') {\n            throw new TypeError('Only class methods can be decorated via listener decorator');\n        }\n        if (ESLEventUtils.isEventDescriptor(fn) && fn.event !== desc.event) {\n            throw new TypeError(`Method ${propertyKey} already decorated as ESLListenerDescriptor`);\n        }\n        Object.assign(fn, desc);\n        // Allow collecting\n        descriptor.enumerable = true;\n    };\n}\n","import { getPropertyDescriptor } from '../misc/object/utils';\n/**\n * Common TS decorator to apply decorator function\n * (like {@link debounce}, {@link throttle}, {@link rafDecorator})\n * to the class method\n * @param decorator - function decorator, should accept decorated method as first argument\n * @param args - additional arguments to pass into `decorator`\n */\nexport function decorate(decorator, ...args) {\n    return function (target, propertyKey, descriptor) {\n        if (!descriptor || typeof descriptor.value !== 'function') {\n            throw new TypeError('Only class methods can be decorated');\n        }\n        const originalFn = descriptor.value;\n        return descriptor = {\n            enumerable: descriptor.enumerable,\n            configurable: true,\n            get: function getBound() {\n                // Skip own properties\n                const proto = Object.getPrototypeOf(this);\n                // Find the closest descriptor for property\n                const desc = getPropertyDescriptor(proto, propertyKey);\n                // Return original function in case of prototype or super call\n                if (!desc || desc.get !== getBound)\n                    return originalFn;\n                // Create a new decorated instance of function\n                const decoratedFn = decorator(originalFn.bind(this), ...args);\n                // Copy original function own keys\n                Object.assign(decoratedFn, originalFn);\n                // Defines own property with the decorated instance\n                return this[propertyKey] = decoratedFn;\n            },\n            set(value) {\n                Object.defineProperty(this, propertyKey, {\n                    value,\n                    writable: true,\n                    configurable: true,\n                    enumerable: descriptor.enumerable\n                });\n            }\n        };\n    };\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { memoize } from '../decorators/memoize';\n// TODO: functional\nexport class RTLUtils {\n    /** Check if the element in a RTL direction context */\n    static isRtl(el) {\n        return getComputedStyle(el || document.body).direction === 'rtl';\n    }\n    /**\n     * @returns RTL scroll type (lazy, memoized)\n     */\n    static get scrollType() {\n        let scrollType = 'default';\n        const el = createDummyEl();\n        document.body.appendChild(el);\n        if (el.scrollLeft <= 0) {\n            el.scrollLeft = 2;\n            scrollType = el.scrollLeft < 2 ? 'negative' : 'reverse';\n        }\n        document.body.removeChild(el);\n        return scrollType;\n    }\n    static normalizeScrollLeft(el, value = null, isRtl = RTLUtils.isRtl(el)) {\n        value = (value === null) ? el.scrollLeft : value;\n        switch (isRtl ? RTLUtils.scrollType : '') {\n            case 'negative':\n                return el.scrollWidth - el.clientWidth + value;\n            case 'reverse':\n                return el.scrollWidth - el.clientWidth - value;\n            default:\n                return value;\n        }\n    }\n}\n__decorate([\n    memoize()\n], RTLUtils, \"scrollType\", null);\n/** Creates the dummy test element with a horizontal scroll presented */\nfunction createDummyEl() {\n    const el = document.createElement('div');\n    el.appendChild(document.createTextNode('ESL!'));\n    el.dir = 'rtl';\n    Object.assign(el.style, {\n        position: 'absolute',\n        top: '-1000px',\n        width: '4px',\n        height: '1px',\n        fontSize: '14px',\n        overflow: 'scroll'\n    });\n    return el;\n}\n","/**\n * @returns Promise that will be resolved or rejected in `timeout` with an optional `payload`\n * If `isReject` is `true` the result promise will be rejected, otherwise (by default) the result promise will be resolved\n */\nexport function promisifyTimeout(timeout, payload, isReject) {\n    return new Promise((resolve, reject) => setTimeout((isReject ? reject : resolve).bind(null, payload), timeout));\n}\n/**\n * @returns Promise that will be resolved by dispatching `event` on `target`\n * Or it will be rejected in `timeout` if it's specified\n * Optional `options` for addEventListener can be also specified\n */\nexport function promisifyEvent(target, event, timeout, options) {\n    return new Promise((resolve, reject) => {\n        function eventCallback(e) {\n            target.removeEventListener(event, eventCallback, options);\n            resolve(e);\n        }\n        target.addEventListener(event, eventCallback, options);\n        if (typeof timeout === 'number' && timeout >= 0) {\n            setTimeout(() => reject(new Error('Rejected by timeout')), timeout);\n        }\n    });\n}\n/**\n * Short helper to make Promise from element state marker\n * @returns Promise that will be resolved if the target `marker` property is truthful or `event` is dispatched\n * @example\n * `const imgReady = promisifyMarker(eslImage, 'ready');`\n */\nexport function promisifyMarker(target, marker, event = marker) {\n    if (target[marker])\n        return Promise.resolve(target);\n    return promisifyEvent(target, event).then(() => target);\n}\n/**\n * Call `callback` limited by `tryCount` amount of times with interval in `timeout` ms\n * @returns Promise that will be resolved as soon as callback returns truthy value, or reject it by limit.\n */\nexport function tryUntil(callback, tryCount = 2, timeout = 100) {\n    return new Promise((resolve, reject) => {\n        (function check() {\n            let result;\n            try {\n                result = callback();\n            }\n            catch (_a) {\n                result = undefined;\n            }\n            if (result || (tryCount--) < 0) {\n                result ? resolve(result) : reject(new Error('Rejected by limit of tries'));\n            }\n            else {\n                setTimeout(check, timeout);\n            }\n        })();\n    });\n}\n/**\n * Call async callback in a sequence passed number of times\n * Initial call starts as a microtask\n * @param callback - async chain function\n * @param count - count o calls\n * @returns sequence end promise\n */\nexport function repeatSequence(callback, count = 1) {\n    if (count < 1)\n        return Promise.reject();\n    if (count === 1)\n        return Promise.resolve().then(callback);\n    return repeatSequence(callback, count - 1).then(callback);\n}\n/**\n * Create Deferred Object that wraps promise and its resolve and reject callbacks\n */\nexport function createDeferred() {\n    let reject;\n    let resolve;\n    // Both reject and resolve will be assigned anyway while the Promise constructing.\n    const promise = new Promise((res, rej) => {\n        resolve = res;\n        reject = rej;\n    });\n    return { promise, resolve, reject };\n}\n/**\n * Safe wrap for Promise.resolve to use in Promise chain\n * @example\n * `const resolvedPromise = rejectedPromise.catch(resolvePromise);`\n */\nexport function resolvePromise(arg) {\n    return Promise.resolve(arg);\n}\n/**\n * Safe wrap for Promise.reject to use in Promise chain\n * @example\n * `const rejectedPromise = resolvedPromise.then(rejectPromise);`\n */\nexport function rejectPromise(arg) {\n    return Promise.reject(arg);\n}\n/**\n * Promise utils helper class\n * Note: use individual methods in case you need correct \"tree shaking\"\n */\nexport class PromiseUtils {\n}\nPromiseUtils.fromTimeout = promisifyTimeout;\nPromiseUtils.fromEvent = promisifyEvent;\nPromiseUtils.fromMarker = promisifyMarker;\nPromiseUtils.repeat = repeatSequence;\nPromiseUtils.tryUntil = tryUntil;\nPromiseUtils.deferred = createDeferred;\nPromiseUtils.resolve = resolvePromise;\nPromiseUtils.reject = rejectPromise;\n","import { createDeferred } from './promise';\n/**\n * Creates a debounced function that implements {@link Debounced}.\n * Debounced function delays invoking func until after wait milliseconds have elapsed\n * since the last time the debounced function was invoked.\n * The func is invoked with the last arguments provided to the debounced function.\n * @param fn - function to decorate\n * @param wait - time to debounce\n * @param thisArg - optional context to call original function, use debounced method call context if not defined\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function debounce(fn, wait = 10, thisArg) {\n    let timeout = null;\n    let deferred = null;\n    function debouncedSubject(...args) {\n        deferred = deferred || createDeferred();\n        (typeof timeout === 'number') && clearTimeout(timeout);\n        timeout = window.setTimeout(() => {\n            timeout = null;\n            // fn.apply to save call context\n            deferred.resolve(fn.apply(thisArg || this, args));\n            deferred = null;\n        }, wait);\n    }\n    function cancel() {\n        (typeof timeout === 'number') && clearTimeout(timeout);\n        timeout = null;\n        deferred === null || deferred === void 0 ? void 0 : deferred.reject();\n        deferred = null;\n    }\n    Object.defineProperty(debouncedSubject, 'promise', {\n        get: () => deferred ? deferred.promise : Promise.resolve()\n    });\n    Object.defineProperty(debouncedSubject, 'cancel', {\n        writable: false,\n        enumerable: false,\n        value: cancel\n    });\n    return debouncedSubject;\n}\n","import { isObject } from './types';\nexport function deepMerge(...objects) {\n    return objects.reduce((res, obj) => {\n        if (typeof obj === 'undefined')\n            return res;\n        if (typeof res === 'undefined')\n            res = Array.isArray(obj) ? [] : {};\n        if (!isObject(obj) || !isObject(res))\n            return obj;\n        Object.keys(obj).forEach((key) => {\n            res[key] = isObject(obj[key]) ? deepMerge(res[key], obj[key]) : obj[key];\n        });\n        return res;\n    }, undefined);\n}\n","/**\n * Synthetic implementation of EventTarget\n * Replicates behavior of native event\n * Doesn't give explicit access to callback storage\n */\nexport class SyntheticEventTarget {\n    constructor() {\n        this._listeners = {};\n    }\n    hasEventListener(type = 'change', minCount = 0) {\n        var _a;\n        if (typeof type !== 'string')\n            return this.hasEventListener('change', type || 0);\n        return ((_a = this._listeners[type]) === null || _a === void 0 ? void 0 : _a.length) > minCount;\n    }\n    addEventListener(type, callback) {\n        if (typeof type !== 'string')\n            return this.addEventListener('change', type);\n        validateEventListenerType(callback);\n        if (this._listeners[type] && this._listeners[type].includes(callback))\n            return;\n        if (this._listeners[type])\n            this._listeners[type].push(callback);\n        else\n            Object.assign(this._listeners, { [type]: [callback] });\n    }\n    removeEventListener(type, callback) {\n        if (typeof type !== 'string')\n            return this.removeEventListener('change', type);\n        validateEventListenerType(callback);\n        if (!this._listeners[type])\n            return;\n        this._listeners[type] = this._listeners[type].filter((cb) => cb !== callback);\n    }\n    dispatchEvent(e) {\n        var _a;\n        const target = () => this; // use get due IE specific\n        Object.defineProperty(e, 'target', { get: target, enumerable: true });\n        Object.defineProperty(e, 'currentTarget', { get: target, enumerable: true });\n        Object.defineProperty(e, 'srcElement', { get: target, enumerable: true });\n        (_a = this._listeners[e.type]) === null || _a === void 0 ? void 0 : _a.forEach((listener) => {\n            if (typeof listener === 'function')\n                listener.call(this, e);\n            else\n                listener.handleEvent.call(listener, e);\n        });\n        return e.defaultPrevented;\n    }\n    /** @deprecated alias for `addEventListener` */\n    addListener(cb) {\n        this.addEventListener(cb);\n    }\n    /** @deprecated alias for `removeEventListener` */\n    removeListener(cb) {\n        this.removeEventListener(cb);\n    }\n}\nfunction validateEventListenerType(callback) {\n    if (!callback || typeof callback !== 'function' && typeof callback.handleEvent !== 'function') {\n        throw Error('Callback should be a function or EventListenerObject');\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ExportNs } from './export-ns';\nconst { userAgent, vendor, platform } = window.navigator;\n// IE Detection\nexport const isTrident = /trident/i.test(userAgent);\nexport const isIE = isTrident;\n// Edge Detection\nexport const isEdgeHTML = /edg([ea]|ios)/i.test(userAgent);\nexport const isBlinkEdge = /\\sedg\\//i.test(userAgent);\nexport const isEdge = isEdgeHTML || isBlinkEdge;\n// Gecko\nexport const isGecko = /gecko/i.test(userAgent) && !/like gecko/i.test(userAgent);\nexport const isFirefox = /firefox|iceweasel|fxios/i.test(userAgent);\n// Opera / Chrome\nexport const isOpera = /(?:^opera.+?version|opr)/.test(userAgent);\nexport const isChrome = !isOpera && /google inc/.test(vendor);\n// Webkit\nexport const isWebkit = /(apple)?webkit/i.test(userAgent);\n// Safari\nexport const isSafari = isWebkit && /^((?!chrome|android).)*safari/i.test(userAgent);\n// Blink\nexport const isBlink = isWebkit && !isSafari;\n// Bot detection\nexport const isBot = /Chrome-Lighthouse|Google Page Speed Insights/i.test(userAgent);\n// Mobile\nexport const isAndroid = /Android/i.test(userAgent);\nexport const isMobileIOS13 = /* iOS 13+ detection */ (platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\nexport const isMobileIOS = /iPad|iPhone|iPod/.test(platform) || isMobileIOS13;\nexport const isLegacyMobile = /webOS|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\nexport const isMobile = isMobileIOS || isAndroid || isLegacyMobile;\nexport const isMobileSafari = isMobileIOS && isWebkit && /CriOS/i.test(userAgent);\n// Touch Detection\nexport const isTouchDevice = (() => {\n    const navApi = window.navigator;\n    if (navApi.maxTouchPoints || navApi.msMaxTouchPoints)\n        return true;\n    return ('ontouchstart' in window) || ('DocumentTouch' in window && document instanceof Touch);\n})();\n// Hover check\n// Note: always true for IE\nexport const hasHover = !matchMedia('(hover: none)').matches;\n/** @deprecated TODO: needs to be reworked or moved away from device detector */\nexport const TOUCH_EVENTS = (() => {\n    const isTouch = isTouchDevice;\n    return {\n        START: isTouch ? 'touchstart' : 'pointerdown',\n        MOVE: isTouch ? 'touchmove' : 'pointermove',\n        END: isTouch ? 'touchend' : 'pointerup'\n    };\n})();\n/**\n * Device detection utility\n * @readonly\n */\nlet DeviceDetector = class DeviceDetector {\n};\n// IE Detection\nDeviceDetector.isTrident = isTrident;\nDeviceDetector.isIE = isIE;\n// Edge Detection\nDeviceDetector.isEdgeHTML = isEdgeHTML;\nDeviceDetector.isBlinkEdge = isBlinkEdge;\nDeviceDetector.isEdge = isEdge;\n// Gecko\nDeviceDetector.isGecko = isGecko;\nDeviceDetector.isFirefox = isFirefox;\n// Opera / Chrome\nDeviceDetector.isOpera = isOpera;\nDeviceDetector.isChrome = isChrome;\n// Webkit\nDeviceDetector.isWebkit = isWebkit;\n// Safari\nDeviceDetector.isSafari = isSafari;\n// Blink\nDeviceDetector.isBlink = isBlink;\n// Bot detection\nDeviceDetector.isBot = isBot;\n// Mobile\nDeviceDetector.isAndroid = isAndroid;\nDeviceDetector.isMobileIOS13 = isMobileIOS13;\nDeviceDetector.isMobileIOS = isMobileIOS;\nDeviceDetector.isLegacyMobile = isLegacyMobile;\nDeviceDetector.isMobile = isMobile;\nDeviceDetector.isMobileSafari = isMobileSafari;\n// Touch Detection\nDeviceDetector.isTouchDevice = isTouchDevice;\n// Hover check\n// Note: always true for IE\nDeviceDetector.hasHover = hasHover;\n/** @deprecated TODO: needs to be reworked or moved away from device detector */\nDeviceDetector.TOUCH_EVENTS = TOUCH_EVENTS;\nDeviceDetector = __decorate([\n    ExportNs('DeviceDetector')\n], DeviceDetector);\nexport { DeviceDetector };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLScreenDPR_1;\nimport { ExportNs } from '../../../esl-utils/environment/export-ns';\nimport { DeviceDetector } from '../../../esl-utils/environment/device-detector';\n/**\n * DPR preprocessor. Used to replace DPR shortcuts.\n * @author Alexey Stsefanovich (ala'n)\n *\n * @implements IMediaQueryPreprocessor statically\n */\nlet ESLScreenDPR = ESLScreenDPR_1 = class ESLScreenDPR {\n    static toDPI(dpr) {\n        return (96 * dpr).toFixed(1);\n    }\n    static process(match) {\n        if (!ESLScreenDPR_1.VALUE_REGEXP.test(match))\n            return;\n        const dpr = parseFloat(match);\n        if (dpr < 0 || isNaN(dpr))\n            return;\n        if (ESLScreenDPR_1.ignoreBotsDpr && DeviceDetector.isBot && dpr > 1)\n            return 'not all';\n        if (DeviceDetector.isSafari)\n            return `(-webkit-min-device-pixel-ratio: ${dpr})`;\n        return `(min-resolution: ${ESLScreenDPR_1.toDPI(dpr)}dpi)`;\n    }\n};\nESLScreenDPR.VALUE_REGEXP = /(\\d(\\.\\d)?)x/;\n/** Option to exclude dpr greater then 2 for bots */\nESLScreenDPR.ignoreBotsDpr = false;\nESLScreenDPR = ESLScreenDPR_1 = __decorate([\n    ExportNs('ScreenDPR')\n], ESLScreenDPR);\nexport { ESLScreenDPR };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLScreenBreakpoints_1;\nimport { ExportNs } from '../../../esl-utils/environment/export-ns';\nconst registry = new Map();\n/**\n * ESL Screen Breakpoints registry\n * @author Yuliya Adamskaya, Alexey Stsefanovich (ala'n)\n *\n * Screen Breakpoint registry is used to provide custom breakpoints for {@link ESLMediaQuery}\n *\n * @implements IMediaQueryPreprocessor statically\n */\nlet ESLScreenBreakpoints = ESLScreenBreakpoints_1 = class ESLScreenBreakpoints {\n    /**\n     * Add or replace breakpoint shortcut that can be used inside ESLMediaQuery\n     * @param name - name of shortcut\n     * @param minWidth - min width for breakpoint\n     * @param maxWidth - max width for breakpoint\n     */\n    static add(name, minWidth, maxWidth) {\n        name = name.toLowerCase();\n        if (ESLScreenBreakpoints_1.BP_NAME_REGEXP.test(name)) {\n            const current = registry.get(name);\n            registry.set(name, new ESLScreenBreakpoint(name, minWidth, maxWidth));\n            return current;\n        }\n        throw new Error('The shortcut should consist only of Latin characters and be at least one character long.');\n    }\n    /** Removes screen breakpoint */\n    static remove(name) {\n        return registry.delete(name.toLowerCase());\n    }\n    /** @returns known breakpoint shortcut instance */\n    static get(name) {\n        return registry.get((name || '').toLowerCase());\n    }\n    /** All available breakpoints names */\n    static get names() {\n        const keys = [];\n        registry.forEach((value, key) => keys.push(key));\n        return keys;\n    }\n    /** @returns breakpoints shortcut replacement */\n    static process(term) {\n        const [, sign, bp] = term.match(ESLScreenBreakpoints_1.BP_REGEXP) || [];\n        const shortcut = ESLScreenBreakpoints_1.get(bp);\n        if (!shortcut)\n            return;\n        if (sign === '+')\n            return shortcut.mediaQueryGE;\n        if (sign === '-')\n            return shortcut.mediaQueryLE;\n        return shortcut.mediaQuery;\n    }\n};\nESLScreenBreakpoints.BP_REGEXP = /^([+-]?)([a-z]+)/i;\nESLScreenBreakpoints.BP_NAME_REGEXP = /^[a-z]+/i;\nESLScreenBreakpoints = ESLScreenBreakpoints_1 = __decorate([\n    ExportNs('ScreenBreakpoints')\n], ESLScreenBreakpoints);\nexport { ESLScreenBreakpoints };\n/** ESL Screen Breakpoint description */\nexport class ESLScreenBreakpoint {\n    constructor(name, min, max) {\n        this.name = name;\n        this.min = min;\n        this.max = max;\n    }\n    get mediaQuery() {\n        return `(min-width: ${this.min}px) and (max-width: ${this.max}px)`;\n    }\n    get mediaQueryGE() {\n        return `(min-width: ${this.min}px)`;\n    }\n    get mediaQueryLE() {\n        return `(max-width: ${this.max}px)`;\n    }\n    toString() {\n        return `[${this.name}]: ${this.min} to ${this.max}`;\n    }\n}\n// Defaults\nESLScreenBreakpoints.add('xs', 1, 767);\nESLScreenBreakpoints.add('sm', 768, 991);\nESLScreenBreakpoints.add('md', 992, 1199);\nESLScreenBreakpoints.add('lg', 1200, 1599);\nESLScreenBreakpoints.add('xl', 1600, 999999);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { DeviceDetector } from '../../../esl-utils/environment/device-detector';\nimport { ExportNs } from '../../../esl-utils/environment/export-ns';\nconst shortcuts = new Map();\n/**\n * Static shortcuts preprocessor. Used to store device related shortcuts.\n * @author Alexey Stsefanovich (ala'n)\n *\n * @implements IMediaQueryPreprocessor statically\n */\nlet ESLEnvShortcuts = class ESLEnvShortcuts {\n    /**\n     * Add mapping\n     * @param shortcut - term to find in query\n     * @param value - media query string or boolean result (that represents `all` or `not all` conditions)\n     */\n    static add(shortcut, value) {\n        if (!['boolean', 'string'].includes(typeof value))\n            value = false;\n        shortcuts.set(shortcut.toLowerCase(), value);\n    }\n    /** Remove mapping for passed shortcut term */\n    static remove(shortcut) {\n        return shortcuts.delete(shortcut.toLowerCase());\n    }\n    /** Replaces shortcut to registered result */\n    static process(match) {\n        if (shortcuts.has(match))\n            return shortcuts.get(match);\n    }\n};\n// For debug purposes\nESLEnvShortcuts._shortcuts = shortcuts;\nESLEnvShortcuts = __decorate([\n    ExportNs('EnvShortcuts')\n], ESLEnvShortcuts);\nexport { ESLEnvShortcuts };\n// Touch check\nESLEnvShortcuts.add('touch', DeviceDetector.isTouchDevice);\n// Basic device type shortcuts\nESLEnvShortcuts.add('bot', DeviceDetector.isBot);\nESLEnvShortcuts.add('mobile', DeviceDetector.isMobile);\nESLEnvShortcuts.add('desktop', !DeviceDetector.isMobile);\nESLEnvShortcuts.add('android', DeviceDetector.isAndroid);\nESLEnvShortcuts.add('ios', DeviceDetector.isMobileIOS);\n// Basic browser shortcuts\nESLEnvShortcuts.add('ie', DeviceDetector.isIE);\nESLEnvShortcuts.add('edge', DeviceDetector.isEdgeHTML);\nESLEnvShortcuts.add('gecko', DeviceDetector.isGecko);\nESLEnvShortcuts.add('webkit', DeviceDetector.isWebkit);\nESLEnvShortcuts.add('blink', DeviceDetector.isBlink);\nESLEnvShortcuts.add('safari', DeviceDetector.isSafari);\nESLEnvShortcuts.add('safari-ios', DeviceDetector.isMobileSafari);\n","/**\n * Const media condition implementation\n * @author Alexey Stsefanovich (ala'n)\n *\n * Ignores listeners always return the same result.\n * Have only two instances: {@link ALL} and {@link NOT_ALL}\n */\nclass MediaQueryConstCondition {\n    constructor(_matches) {\n        this._matches = _matches;\n    }\n    get matches() {\n        return this._matches;\n    }\n    addListener() { }\n    addEventListener() { }\n    removeListener() { }\n    removeEventListener() { }\n    dispatchEvent() {\n        return false;\n    }\n    optimize() {\n        return this;\n    }\n    toString() {\n        return this._matches ? 'all' : 'not all';\n    }\n    /** Compares const media condition with the passed query instance or string */\n    eq(val) {\n        return String(val).trim() === this.toString();\n    }\n}\nexport const ALL = new MediaQueryConstCondition(true);\nexport const NOT_ALL = new MediaQueryConstCondition(false);\n","/** Custom event dispatched by {@link ESLMediaQuery} instances */\nexport class ESLMediaChangeEvent extends Event {\n    constructor(matches) {\n        super('change');\n        this.matches = matches;\n    }\n    /** Returns serialized value of the current {@link ESLMediaQuery} */\n    get media() {\n        return String(this.target);\n    }\n}\n","import { SyntheticEventTarget } from '../../../esl-utils/dom/events';\nimport { ALL, NOT_ALL } from './media-query-const';\nimport { ESLMediaChangeEvent } from './media-query-base';\n/**\n * Simple media condition implementation\n * @author Alexey Stsefanovich (ala'n)\n *\n * Wraps matchMedia instance\n */\nexport class MediaQueryCondition extends SyntheticEventTarget {\n    constructor(query, inverted = false) {\n        super();\n        this._inverted = inverted;\n        this._mq = matchMedia(query.trim() || 'all');\n        this._onChange = this._onChange.bind(this);\n    }\n    get matches() {\n        return this._inverted ? !this._mq.matches : this._mq.matches;\n    }\n    addEventListener(type, callback = type) {\n        super.addEventListener(type, callback);\n        if (this.hasEventListener(1))\n            return;\n        if (typeof this._mq.addEventListener === 'function') {\n            this._mq.addEventListener('change', this._onChange);\n        }\n        else {\n            this._mq.addListener(this._onChange);\n        }\n    }\n    removeEventListener(type, callback = type) {\n        super.removeEventListener(type, callback);\n        if (this.hasEventListener())\n            return;\n        if (typeof this._mq.removeEventListener === 'function') {\n            this._mq.removeEventListener('change', this._onChange);\n        }\n        else {\n            this._mq.removeListener(this._onChange);\n        }\n    }\n    /** Optimize query. Can simplify query to {@link MediaQueryConstCondition} */\n    optimize() {\n        if (ALL.eq(this))\n            return this._inverted ? NOT_ALL : ALL;\n        if (NOT_ALL.eq(this))\n            return this._inverted ? ALL : NOT_ALL;\n        return this;\n    }\n    toString() {\n        const query = this._mq.media;\n        const inverted = this._inverted;\n        const complex = inverted && /\\)[\\s\\w]+\\(/.test(query);\n        return (inverted ? 'not ' : '') + (complex ? `(${query})` : query);\n    }\n    /** Handles query change and dispatches it on top level in case result value is changed */\n    _onChange() {\n        this.dispatchEvent(new ESLMediaChangeEvent(this._mq.matches));\n    }\n}\n","import { SyntheticEventTarget } from '../../../esl-utils/dom/events';\nimport { ESLMediaChangeEvent } from './media-query-base';\nimport { ALL, NOT_ALL } from './media-query-const';\n/**\n * Abstract multiple media conditions container\n * @author Alexey Stsefanovich (ala'n)\n *\n * Observe all child items. Dispatch changes when the whole condition result is changed\n */\nclass MediaQueryContainer extends SyntheticEventTarget {\n    constructor(items = []) {\n        super();\n        this.items = items;\n        this._matches = this.matches;\n        this._onChange = this._onChange.bind(this);\n    }\n    addEventListener(type, callback = type) {\n        super.addEventListener(type, callback);\n        if (this.hasEventListener(1))\n            return;\n        this.items.forEach((item) => item.addEventListener('change', this._onChange));\n    }\n    removeEventListener(type, callback = type) {\n        super.removeEventListener(type, callback);\n        if (this.hasEventListener())\n            return;\n        this.items.forEach((item) => item.removeEventListener('change', this._onChange));\n    }\n    optimize() {\n        return this;\n    }\n    get matches() {\n        return false;\n    }\n    /** Handles query change and dispatches it on top level in case result value is changed */\n    _onChange() {\n        const { matches } = this;\n        if (this._matches === matches)\n            return;\n        this.dispatchEvent(new ESLMediaChangeEvent(this._matches = matches));\n    }\n}\n/** Conjunction (AND) group of media conditions */\nexport class MediaQueryConjunction extends MediaQueryContainer {\n    get matches() {\n        return this.items.every((item) => item.matches);\n    }\n    optimize() {\n        const optimizedItems = this.items.map((item) => item.optimize());\n        if (optimizedItems.some((item) => NOT_ALL.eq(item)))\n            return NOT_ALL;\n        const items = optimizedItems.filter((item) => !ALL.eq(item));\n        if (items.length === 0)\n            return ALL;\n        if (items.length === 1)\n            return items[0];\n        return new MediaQueryConjunction(items);\n    }\n    toString() {\n        return this.items.join(' and ');\n    }\n}\n/** Disjunction (OR) group of media conditions */\nexport class MediaQueryDisjunction extends MediaQueryContainer {\n    get matches() {\n        return this.items.some((item) => item.matches);\n    }\n    optimize() {\n        const optimizedItems = this.items.map((item) => item.optimize());\n        if (optimizedItems.some((item) => ALL.eq(item)))\n            return ALL;\n        const items = optimizedItems.filter((item) => !NOT_ALL.eq(item));\n        if (items.length === 0)\n            return NOT_ALL;\n        if (items.length === 1)\n            return items[0];\n        return new MediaQueryDisjunction(items);\n    }\n    toString(pretty = false) {\n        return this.items.join(pretty ? ' or ' : ', ');\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLMediaQuery_1;\nimport { memoize } from '../../esl-utils/decorators';\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { ESLScreenDPR } from './common/screen-dpr';\nimport { ESLScreenBreakpoints } from './common/screen-breakpoint';\nimport { ESLEnvShortcuts } from './common/env-shortcuts';\nimport { ALL, NOT_ALL } from './conditions/media-query-const';\nimport { MediaQueryCondition } from './conditions/media-query-condition';\nimport { MediaQueryConjunction, MediaQueryDisjunction } from './conditions/media-query-containers';\n/**\n * ESL Media Query\n * @implements EventTarget\n * Provides special media condition syntax - ESLMediaQuery\n * @author Alexey Stsefanovich (ala'n), Yuliya Adamskaya, Natallia Harshunova\n *\n * Utility to support extended MediaQuery features\n * Supports\n * - CSS MediaQuery matching check\n * - DPR display queries (`@x1|@x2|@x3`)\n * - Registered screen default sizes (breakpoints) shortcuts (`@[-|+](XS|SM|MD|LG|XL)`)\n * - Device and browser shortcuts (`@MOBILE|@DESKTOP|@IE`)\n * - Custom static shortcuts and custom query preprocessors\n * - `not` logic operation (can have multiple not operators before any term of the query)\n * - `or` or `,` logical operator (have a lowest priority)\n * - Query matching change listeners\n * - Implements {@link EventTarget}, compatible with {@link ESLEventListener}\n *\n * Building query process:\n *\n * [Building query logical tree] - [preprocess nodes queries] - [building native MediaQueryList nodes] - [query tree optimization]\n */\nlet ESLMediaQuery = ESLMediaQuery_1 = class ESLMediaQuery {\n    /** Adds {@link IMediaQueryPreprocessor} instance for query preprocessing step */\n    static use(preprocessor) {\n        this._preprocessors.unshift(preprocessor);\n        return this;\n    }\n    /** Cached method to create {@link ESLMediaQuery} condition instance from query string */\n    static for(query) {\n        return ESLMediaQuery_1.from(query);\n    }\n    /** Creates {@link ESLMediaQuery} condition instance from query string */\n    static from(query) {\n        const conjunctions = query.split(/\\sor\\s|,/).map((term) => {\n            const conditions = term.split(/\\sand\\s/).map(ESLMediaQuery_1.parseSimpleQuery);\n            return new MediaQueryConjunction(conditions);\n        });\n        return new MediaQueryDisjunction(conjunctions).optimize();\n    }\n    /** Preprocess simple query term by applying replacers and shortcuts rules */\n    static preprocess(term) {\n        if (!this.SHORTCUT_PATTERN.test(term))\n            return term;\n        const shortcut = term.trim().substring(1).toLowerCase();\n        for (const replacer of this._preprocessors) {\n            const result = replacer.process(shortcut);\n            if (typeof result === 'string')\n                return result;\n            if (typeof result === 'boolean')\n                return result ? 'all' : 'not all';\n        }\n        return term;\n    }\n    /** Creates simple {@link ESLMediaQuery} condition */\n    static parseSimpleQuery(term) {\n        const query = term.replace(/^\\s*not\\s+/, '');\n        const queryInverted = query !== term;\n        const processedQuery = ESLMediaQuery_1.preprocess(query);\n        const sanitizedQuery = processedQuery.replace(/^\\s*not\\s+/, '');\n        const resultInverted = processedQuery !== sanitizedQuery;\n        const invert = queryInverted !== resultInverted;\n        if (ALL.eq(sanitizedQuery))\n            return invert ? NOT_ALL : ALL;\n        if (NOT_ALL.eq(sanitizedQuery))\n            return invert ? ALL : NOT_ALL;\n        return new MediaQueryCondition(sanitizedQuery, invert);\n    }\n};\n/** Always true condition */\nESLMediaQuery.ALL = ALL;\n/** Always false condition */\nESLMediaQuery.NOT_ALL = NOT_ALL;\nESLMediaQuery.SHORTCUT_PATTERN = /@([a-z0-9.+-]+)/i;\nESLMediaQuery._preprocessors = [];\n__decorate([\n    memoize()\n], ESLMediaQuery, \"for\", null);\nESLMediaQuery = ESLMediaQuery_1 = __decorate([\n    ExportNs('MediaQuery')\n], ESLMediaQuery);\nexport { ESLMediaQuery };\n// Register otb preprocessors\nESLMediaQuery.use(ESLScreenDPR);\nESLMediaQuery.use(ESLScreenBreakpoints);\nESLMediaQuery.use(ESLEnvShortcuts);\n","import { ESLMediaQuery } from './esl-media-query';\n/**\n * ESL Media Rule\n * @author Yuliya Adamskaya\n *\n * Helper class to wrap {@link ESLMediaQuery} with the payload value\n * @see ESLMediaQuery\n * @see ESLMediaRuleList\n */\nexport class ESLMediaRule {\n    constructor(payload, query = '') {\n        this.query = ESLMediaQuery.for(query);\n        this.payload = payload;\n    }\n    /** @returns if the inner {@link ESLMediaQuery} is matching current device configuration */\n    get matches() {\n        return this.query.matches;\n    }\n    addEventListener(type, callback = type) {\n        this.query.addEventListener(callback);\n    }\n    removeEventListener(type, callback = type) {\n        this.query.removeEventListener(callback);\n    }\n    toString() {\n        const val = typeof this.payload === 'object' ?\n            JSON.stringify(this.payload) :\n            String(this.payload);\n        return `${this.query} => ${val}`;\n    }\n    /**\n     * Creates the {@link ESLMediaRule} instance from payload string, query and valueParser.\n     * If the payload parse result is undefined then rule will be undefined.\n     */\n    static create(payload, query, parser) {\n        const payloadValue = parser(payload.trim());\n        if (typeof payloadValue === 'undefined')\n            return undefined;\n        return new ESLMediaRule(payloadValue, query.trim());\n    }\n    /** Parses the rule string to the {@link ESLMediaRule} instance */\n    static parse(lex, parser) {\n        const parts = lex.split('=>');\n        const query = parts.length === 2 ? parts[0] : '';\n        const payload = parts.length === 2 ? parts[1] : parts[0];\n        return ESLMediaRule.create(payload, query, parser);\n    }\n    /** Shortcut to create always active {@link ESLMediaRule} with passed value */\n    static all(payload) {\n        return new ESLMediaRule(payload, 'all');\n    }\n    /** Shortcut to create always inactive {@link ESLMediaRule} */\n    static empty() {\n        return new ESLMediaRule(undefined, 'all');\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLMediaRuleList_1;\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { evaluate } from '../../esl-utils/misc/format';\nimport { deepMerge, isEqual } from '../../esl-utils/misc/object';\nimport { SyntheticEventTarget } from '../../esl-utils/dom/events';\nimport { ESLMediaRule } from './esl-media-rule';\n/** Custom event dispatched by {@link ESLMediaRuleList} instances */\nexport class ESLMediaRuleListEvent extends Event {\n    constructor(current, previous) {\n        super('change');\n        Object.assign(this, { current, previous });\n    }\n}\n/**\n * ESLMediaRuleList - {@link ESLMediaRule} observable collection\n * @author Yuliya Adamskaya, Alexey Stsefanovich (ala'n)\n *\n * Represents observable object that wraps environment to value mapping\n */\nlet ESLMediaRuleList = ESLMediaRuleList_1 = class ESLMediaRuleList extends SyntheticEventTarget {\n    static parse(query, ...common) {\n        const parser = typeof common[common.length - 1] === 'function' ? common.pop() : String;\n        const value = common.pop();\n        return typeof value === 'string' ?\n            ESLMediaRuleList_1.parseTuple(query, value, parser) :\n            ESLMediaRuleList_1.parseQuery(query, parser);\n    }\n    static parseQuery(query, parser = String) {\n        const rules = query.split('|')\n            .map((lex) => ESLMediaRule.parse(lex, parser))\n            .filter((rule) => !!rule);\n        return new ESLMediaRuleList_1(rules);\n    }\n    static parseTuple(mask, values, parser = String) {\n        const queries = mask.split('|');\n        const valueList = values.split('|');\n        while (valueList.length < queries.length && valueList.length !== 0)\n            valueList.push(valueList[valueList.length - 1]);\n        if (valueList.length !== queries.length)\n            throw Error('Value doesn\\'t correspond to mask');\n        const rules = queries.map((query, i) => ESLMediaRule.create(valueList[i], query, parser));\n        const validRules = rules.filter((rule) => !!rule);\n        return new ESLMediaRuleList_1(validRules);\n    }\n    constructor(rules) {\n        super();\n        this._rules = rules;\n        this._onMatchChanged = this._onMatchChanged.bind(this);\n    }\n    addEventListener(type, callback = type) {\n        super.addEventListener(type, callback);\n        if (this.hasEventListener(1))\n            return;\n        this._value = this.computedValue;\n        this.rules.forEach((rule) => rule.addEventListener(this._onMatchChanged));\n    }\n    removeEventListener(type, callback = type) {\n        super.removeEventListener(type, callback);\n        if (this.hasEventListener())\n            return;\n        delete this._value;\n        this.rules.forEach((rule) => rule.removeEventListener(this._onMatchChanged));\n    }\n    /** Array of {@link ESLMediaRule}s that forms the current {@link ESLMediaRuleList} */\n    get rules() {\n        return this._rules;\n    }\n    /** All active {@link ESLMediaRule}s */\n    get active() {\n        return this.rules.filter((rule) => rule.matches);\n    }\n    /** Value of the last of active rules */\n    get activeValue() {\n        var _a;\n        return (_a = this.active.pop()) === null || _a === void 0 ? void 0 : _a.payload;\n    }\n    /** All active rule values */\n    get activeValues() {\n        return this.active.map((rule) => rule.payload);\n    }\n    /**\n     * Current value of {@link ESLMediaRuleList} object\n     * Uses cache if current object is under observation\n     */\n    get value() {\n        if (!this.hasEventListener())\n            return this.computedValue;\n        return Object.hasOwnProperty.call(this, '_value') ? this._value : this.computedValue;\n    }\n    /** Always computed value of the current {@link ESLMediaRuleList} object */\n    get computedValue() {\n        return deepMerge(undefined, ...this.activeValues);\n    }\n    /** Handles inner rules state change */\n    _onMatchChanged() {\n        const curValue = this.value;\n        const newValue = this.computedValue;\n        if (isEqual(curValue, newValue))\n            return;\n        this._value = newValue;\n        this.dispatchEvent(new ESLMediaRuleListEvent(newValue, curValue));\n    }\n    /** @returns serialized {@link ESLMediaRuleList} object representation*/\n    toString() {\n        return this.rules.join('|');\n    }\n};\n/** String value parser (default) */\nESLMediaRuleList.STRING_PARSER = String;\n/** Object value parser. Uses {@link evaluate} to parse value */\nESLMediaRuleList.OBJECT_PARSER = (val) => evaluate(val);\nESLMediaRuleList = ESLMediaRuleList_1 = __decorate([\n    ExportNs('MediaRuleList')\n], ESLMediaRuleList);\nexport { ESLMediaRuleList };\n","import { hasAttr, setAttr } from '../dom/attr';\nimport { toKebabCase } from '../misc/format';\nfunction buildConditionalDescriptor(attrName, readOnly) {\n    function get() {\n        return hasAttr(this, attrName);\n    }\n    function set(value) {\n        setAttr(this, attrName, !!value);\n    }\n    return readOnly ? { get } : { get, set };\n}\nconst buildAttrName = (propName, dataAttr) => dataAttr ? `data-${toKebabCase(propName)}` : toKebabCase(propName);\n/**\n * Decorator to map current property to element boolean (marker) attribute state.\n * Maps boolean type property.\n * @param config - mapping configuration. See {@link BoolAttrDescriptor}\n */\nexport const boolAttr = (config = {}) => {\n    return (target, propName) => {\n        const attrName = buildAttrName(config.name || propName, !!config.dataAttr);\n        Object.defineProperty(target, propName, buildConditionalDescriptor(attrName, !!config.readonly));\n    };\n};\n","import { onDocumentReady } from '../dom/ready';\n/** Defer method execution to the next task with dom ready state precondition */\nexport function ready(target, propertyKey, descriptor) {\n    if (!descriptor || typeof descriptor.value !== 'function') {\n        throw new TypeError('Only class methods can be decorated via document ready decorator');\n    }\n    const fn = descriptor.value;\n    descriptor.value = function (...arg) {\n        onDocumentReady(() => fn.call(this, ...arg));\n    };\n}\n","/**\n * Execute callback in bounds of the next task with dom ready state precondition\n */\nexport function onDocumentReady(callback) {\n    if (document.readyState === 'loading') {\n        document.addEventListener('DOMContentLoaded', function fn() {\n            document.removeEventListener('DOMContentLoaded', fn);\n            setTimeout(() => callback());\n        });\n    }\n    else {\n        setTimeout(() => callback());\n    }\n}\n","export const TAB = 'Tab';\nexport const ENTER = 'Enter';\nexport const ESC = 'Escape';\nexport const SPACE = ' ';\nexport const BACKSPACE = 'Backspace';\nexport const ALT = 'Alt';\nexport const SHIFT = 'Shift';\nexport const CONTROL = 'Control';\nexport const PAUSE = 'Pause';\nexport const END = 'End';\nexport const HOME = 'Home';\nexport const DELETE = 'Delete';\nexport const PAGE_UP = 'PageUp';\nexport const PAGE_DOWN = 'PageDown';\nexport const ARROW_LEFT = 'ArrowLeft';\nexport const ARROW_UP = 'ArrowUp';\nexport const ARROW_RIGHT = 'ArrowRight';\nexport const ARROW_DOWN = 'ArrowDown';\nexport const SYSTEM_KEYS = [TAB, ALT, SHIFT, CONTROL, PAGE_UP, PAGE_DOWN, ARROW_LEFT, ARROW_UP, ARROW_RIGHT, ARROW_DOWN];\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLToggleablePlaceholder_1;\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { ESLBaseElement } from '../../esl-base-element/core';\nlet ESLToggleablePlaceholder = ESLToggleablePlaceholder_1 = class ESLToggleablePlaceholder extends ESLBaseElement {\n    /** reates a placeholder for a given element of the toggleable's descendant */\n    static from($el) {\n        const $placeholder = document.createElement(this.is);\n        $placeholder.$origin = $el;\n        return $placeholder;\n    }\n    connectedCallback() {\n        this.copyAttributesFromOrigin();\n        super.connectedCallback();\n    }\n    /** Builds attribute name for copy */\n    buildAttrName(name) {\n        return name === 'id' ? 'original-id' : name;\n    }\n    /** Copies allowed attributes from origin to this element */\n    copyAttributesFromOrigin() {\n        const { $origin } = this;\n        if (!$origin)\n            return;\n        this.constructor.allowedAttrs.forEach((name) => {\n            const value = $origin.getAttribute(name);\n            if (value) {\n                this.setAttribute(this.buildAttrName(name), value);\n            }\n        });\n        // sanitize class list of placeholder from the tag name of origin's element\n        this.classList.remove($origin.constructor.is);\n    }\n};\nESLToggleablePlaceholder.is = 'esl-toggleable-placeholder';\n/** List of attributes allowed to copy from origin to this element */\nESLToggleablePlaceholder.allowedAttrs = ['id', 'class'];\nESLToggleablePlaceholder = ESLToggleablePlaceholder_1 = __decorate([\n    ExportNs('ToggleablePlaceholder')\n], ESLToggleablePlaceholder);\nexport { ESLToggleablePlaceholder };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { ESLBaseElement } from '../../esl-base-element/core';\nimport { setAttr } from '../../esl-utils/dom/attr';\nimport { attr, boolAttr, prop, listen, ready } from '../../esl-utils/decorators';\nimport { parseNumber } from '../../esl-utils/misc/format';\nimport { CSSClassUtils } from '../../esl-utils/dom/class';\nimport { ENTER, SPACE, ESC } from '../../esl-utils/dom/keys';\nimport { ESLTraversingQuery } from '../../esl-traversing-query/core';\nimport { DeviceDetector } from '../../esl-utils/environment/device-detector';\nimport { ESLMediaQuery } from '../../esl-media-query/core';\nimport { ESLToggleablePlaceholder } from '../../esl-toggleable/core';\nlet ESLTrigger = class ESLTrigger extends ESLBaseElement {\n    attributeChangedCallback(attrName) {\n        if (!this.connected)\n            return;\n        if (attrName === 'target')\n            return this.updateTargetFromSelector();\n    }\n    /** Target observable Toggleable */\n    get $target() {\n        return this._$target;\n    }\n    set $target(newPopupInstance) {\n        this.$$off(this._onTargetStateChange);\n        this._$target = newPopupInstance;\n        this.$$on(this._onTargetStateChange);\n        this._onTargetStateChange();\n    }\n    /** Element target to setup aria attributes */\n    get $a11yTarget() {\n        return this.a11yTarget ? this.querySelector(this.a11yTarget) : this;\n    }\n    /** Value to setup aria-label */\n    get a11yLabel() {\n        if (!this.$target)\n            return null;\n        return (this.$target.open ? this.a11yLabelActive : this.a11yLabelInactive) || null;\n    }\n    /** Marker to allow track hover */\n    get allowHover() {\n        return DeviceDetector.hasHover && ESLMediaQuery.for(this.trackHover).matches;\n    }\n    /** Marker to allow track clicks */\n    get allowClick() {\n        return ESLMediaQuery.for(this.trackClick).matches;\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.updateTargetFromSelector();\n        this.initA11y();\n    }\n    /** Update `$target` Toggleable  from `target` selector */\n    updateTargetFromSelector() {\n        if (!this.target)\n            return;\n        this.$target = ESLTraversingQuery.first(this.target, this);\n        if (this.$target instanceof ESLToggleablePlaceholder && this.$target.$origin) {\n            // change target if it is an instance of the placeholder element\n            this.$target = this.$target.$origin;\n        }\n    }\n    /** Check if the event target should be ignored */\n    isTargetIgnored(target) {\n        if (!target || !(target instanceof HTMLElement) || !this.ignore)\n            return false;\n        const $ignore = target.closest(this.ignore);\n        // Ignore only inner elements (but do not ignore the trigger itself)\n        return !!$ignore && $ignore !== this && this.contains($ignore);\n    }\n    /** Merge params to pass to the toggleable */\n    mergeToggleableParams(...params) {\n        return Object.assign({\n            initiator: 'trigger',\n            activator: this\n        }, ...params);\n    }\n    /** Show target toggleable with passed params */\n    showTarget(params = {}) {\n        const actionParams = this.mergeToggleableParams({\n            delay: parseNumber(this.showDelay)\n        }, params);\n        if (this.$target && typeof this.$target.show === 'function') {\n            this.$target.show(actionParams);\n        }\n    }\n    /** Hide target toggleable with passed params */\n    hideTarget(params = {}) {\n        const actionParams = this.mergeToggleableParams({\n            delay: parseNumber(this.hideDelay)\n        }, params);\n        if (this.$target && typeof this.$target.hide === 'function') {\n            this.$target.hide(actionParams);\n        }\n    }\n    /** Toggles target toggleable with passed params */\n    toggleTarget(params = {}, state = !this.active) {\n        state ? this.showTarget(params) : this.hideTarget(params);\n    }\n    /**\n     * Updates trigger state according to toggleable state\n     * Does not produce `esl:change:active` event\n     */\n    updateState() {\n        var _a;\n        const isActive = !!((_a = this.$target) === null || _a === void 0 ? void 0 : _a.open);\n        const wasActive = this.active;\n        this.toggleAttribute('active', isActive);\n        const clsTarget = ESLTraversingQuery.first(this.activeClassTarget, this);\n        clsTarget && CSSClassUtils.toggle(clsTarget, this.activeClass, isActive);\n        this.updateA11y();\n        return isActive !== wasActive;\n    }\n    /** Handles ESLToggleable state change */\n    _onTargetStateChange(originalEvent) {\n        if (!this.updateState())\n            return;\n        const detail = { active: this.active, originalEvent };\n        this.$$fire(this.CHANGE_EVENT, { detail });\n    }\n    /** Handles `click` event */\n    _onClick(event) {\n        if (!this.allowClick || this.isTargetIgnored(event.target))\n            return;\n        event.preventDefault();\n        this._onPrimaryEvent(event);\n    }\n    /** Handles `keydown` event */\n    _onKeydown(event) {\n        if (![ENTER, SPACE, ESC].includes(event.key) || this.isTargetIgnored(event.target))\n            return;\n        event.preventDefault();\n        if (event.key === ESC) {\n            if (this.ignoreEsc)\n                return;\n            this.hideTarget({ event });\n        }\n        else {\n            this._onPrimaryEvent(event);\n        }\n    }\n    /** Handles target primary (observed) event */\n    _onPrimaryEvent(event) {\n        switch (this.mode) {\n            case 'show':\n                return this.showTarget({ event });\n            case 'hide':\n                return this.hideTarget({ event });\n            default:\n                return this.toggleTarget({ event });\n        }\n    }\n    /** Handles hover `mouseenter` event */\n    _onMouseEnter(event) {\n        if (!this.allowHover)\n            return;\n        const delay = parseNumber(this.hoverShowDelay);\n        this.toggleTarget({ event, delay }, this.mode !== 'hide');\n        event.preventDefault();\n    }\n    /** Handles hover `mouseleave` event */\n    _onMouseLeave(event) {\n        if (!this.allowHover)\n            return;\n        if (this.mode === 'show' || this.mode === 'hide')\n            return;\n        const delay = parseNumber(this.hoverHideDelay);\n        this.hideTarget({ event, delay, trackHover: true });\n        event.preventDefault();\n    }\n    /** Set initial a11y attributes. Do nothing if trigger contains actionable element */\n    initA11y() {\n        if (this.$a11yTarget !== this)\n            return;\n        if (!this.hasAttribute('role'))\n            this.setAttribute('role', 'button');\n        if (this.getAttribute('role') === 'button' && !this.hasAttribute('tabindex')) {\n            this.setAttribute('tabindex', '0');\n        }\n    }\n    /** Update aria attributes */\n    updateA11y() {\n        const target = this.$a11yTarget;\n        if (!target)\n            return;\n        if (this.a11yLabelActive !== null || this.a11yLabelInactive !== null) {\n            setAttr(target, 'aria-label', this.a11yLabel);\n        }\n        setAttr(target, 'aria-expanded', String(this.active));\n        if (this.$target && this.$target.id) {\n            setAttr(target, 'aria-controls', this.$target.id);\n        }\n    }\n};\nESLTrigger.is = 'esl-trigger';\nESLTrigger.observedAttributes = ['target'];\n__decorate([\n    prop('esl:change:active')\n], ESLTrigger.prototype, \"CHANGE_EVENT\", void 0);\n__decorate([\n    prop('esl:show esl:hide')\n], ESLTrigger.prototype, \"OBSERVED_EVENTS\", void 0);\n__decorate([\n    boolAttr({ readonly: true })\n], ESLTrigger.prototype, \"active\", void 0);\n__decorate([\n    attr({ defaultValue: '' })\n], ESLTrigger.prototype, \"activeClass\", void 0);\n__decorate([\n    attr({ defaultValue: '' })\n], ESLTrigger.prototype, \"activeClassTarget\", void 0);\n__decorate([\n    attr({ defaultValue: 'a[href]' })\n], ESLTrigger.prototype, \"ignore\", void 0);\n__decorate([\n    attr({ defaultValue: '::next' })\n], ESLTrigger.prototype, \"target\", void 0);\n__decorate([\n    attr({ defaultValue: 'toggle' })\n], ESLTrigger.prototype, \"mode\", void 0);\n__decorate([\n    attr({ defaultValue: 'all' })\n], ESLTrigger.prototype, \"trackClick\", void 0);\n__decorate([\n    attr({ defaultValue: 'not all' })\n], ESLTrigger.prototype, \"trackHover\", void 0);\n__decorate([\n    attr({ defaultValue: '' })\n], ESLTrigger.prototype, \"a11yTarget\", void 0);\n__decorate([\n    attr({ defaultValue: null })\n], ESLTrigger.prototype, \"a11yLabelActive\", void 0);\n__decorate([\n    attr({ defaultValue: null })\n], ESLTrigger.prototype, \"a11yLabelInactive\", void 0);\n__decorate([\n    attr({ defaultValue: 'none' })\n], ESLTrigger.prototype, \"showDelay\", void 0);\n__decorate([\n    attr({ defaultValue: 'none' })\n], ESLTrigger.prototype, \"hideDelay\", void 0);\n__decorate([\n    attr({ defaultValue: '0' })\n], ESLTrigger.prototype, \"hoverShowDelay\", void 0);\n__decorate([\n    attr({ defaultValue: '0' })\n], ESLTrigger.prototype, \"hoverHideDelay\", void 0);\n__decorate([\n    boolAttr()\n], ESLTrigger.prototype, \"ignoreEsc\", void 0);\n__decorate([\n    ready\n], ESLTrigger.prototype, \"connectedCallback\", null);\n__decorate([\n    listen({\n        event: (that) => that.OBSERVED_EVENTS,\n        target: (that) => that.$target\n    })\n], ESLTrigger.prototype, \"_onTargetStateChange\", null);\n__decorate([\n    listen('click')\n], ESLTrigger.prototype, \"_onClick\", null);\n__decorate([\n    listen('keydown')\n], ESLTrigger.prototype, \"_onKeydown\", null);\n__decorate([\n    listen('mouseenter')\n], ESLTrigger.prototype, \"_onMouseEnter\", null);\n__decorate([\n    listen('mouseleave')\n], ESLTrigger.prototype, \"_onMouseLeave\", null);\nESLTrigger = __decorate([\n    ExportNs('Trigger')\n], ESLTrigger);\nexport { ESLTrigger };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { attr } from '../../esl-utils/decorators';\nimport { setAttr } from '../../esl-utils/dom/attr';\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { ESLTrigger } from '../../esl-trigger/core';\n/**\n * ESlTab component\n * @author Julia Murashko\n *\n * Tab trigger item, usually used in conjunction with a {@link ESLTabs}.\n * Can control any {@link ESLToggleable} instance but is usually used in conjunction with {@link ESLPanel}\n */\nlet ESLTab = class ESLTab extends ESLTrigger {\n    initA11y() {\n        const target = this.$a11yTarget;\n        if (!target)\n            return;\n        if (target.hasAttribute('role'))\n            return;\n        setAttr(target, 'role', 'tab');\n    }\n    updateA11y() {\n        const target = this.$a11yTarget;\n        if (!target)\n            return;\n        if (this.a11yLabelActive !== null || this.a11yLabelInactive !== null) {\n            setAttr(target, 'aria-label', this.a11yLabel);\n        }\n        setAttr(target, 'aria-selected', String(this.active));\n        setAttr(target, 'tabindex', this.active ? '0' : '-1');\n        if (this.$target && this.$target.id) {\n            setAttr(target, 'aria-controls', this.$target.id);\n        }\n    }\n};\nESLTab.is = 'esl-tab';\n__decorate([\n    attr({ defaultValue: 'show' })\n], ESLTab.prototype, \"mode\", void 0);\n__decorate([\n    attr({ defaultValue: 'active' })\n], ESLTab.prototype, \"activeClass\", void 0);\nESLTab = __decorate([\n    ExportNs('Tab')\n], ESLTab);\nexport { ESLTab };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLTabs_1;\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { ESLBaseElement } from '../../esl-base-element/core';\nimport { rafDecorator } from '../../esl-utils/async/raf';\nimport { memoize, attr, listen, decorate } from '../../esl-utils/decorators';\nimport { RTLUtils } from '../../esl-utils/dom/rtl';\nimport { debounce } from '../../esl-utils/async/debounce';\nimport { ESLMediaRuleList } from '../../esl-media-query/core/esl-media-rule-list';\nimport { ESLTab } from './esl-tab';\n/**\n * ESlTabs component\n * @author Julia Murashko\n *\n * Tabs container component for Tabs trigger group.\n * Uses {@link ESLTab} as an item.\n * Each individual {@link ESLTab} can control {@link ESLToggleable} or, usually, {@link ESLPanel}\n */\nlet ESLTabs = ESLTabs_1 = class ESLTabs extends ESLBaseElement {\n    constructor() {\n        super(...arguments);\n        this._deferredUpdateArrows = debounce(this.updateArrows, 100, this);\n        this._deferredFitToViewport = debounce(this.fitToViewport, 100, this);\n    }\n    /** ESLMediaRuleList instance of the scrollable type mapping */\n    get scrollableTypeRules() {\n        return ESLMediaRuleList.parse(this.scrollable);\n    }\n    /** @returns current scrollable type */\n    get currentScrollableType() {\n        return this.scrollableTypeRules.activeValue || 'side';\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.updateScrollableType();\n    }\n    attributeChangedCallback(attrName, oldVal, newVal) {\n        if (!this.connected || oldVal === newVal)\n            return;\n        if (attrName === 'scrollable') {\n            memoize.clear(this, 'scrollableTypeRules');\n            this.$$on(this._onScrollableTypeChange);\n            this.updateScrollableType();\n        }\n    }\n    bindScrollableEvents() {\n        this.$$on(this._onScroll);\n        this.$$on(this._onResize);\n    }\n    unbindScrollableEvents() {\n        this.$$off(this._onScroll);\n        this.$$off(this._onResize);\n    }\n    /** Collection of inner {@link ESLTab} items */\n    get $tabs() {\n        const els = this.querySelectorAll(ESLTab.is);\n        return els ? Array.from(els) : [];\n    }\n    /** Active {@link ESLTab} item */\n    get $current() {\n        return this.$tabs.find((el) => el.active) || null;\n    }\n    /** Container element to scroll */\n    get $scrollableTarget() {\n        return this.querySelector(this.scrollableTarget);\n    }\n    /** Is the scrollable mode enabled ? */\n    get isScrollable() {\n        return this.currentScrollableType !== 'disabled';\n    }\n    /** Move scroll to the next/previous item */\n    moveTo(direction, behavior = 'smooth') {\n        const $scrollableTarget = this.$scrollableTarget;\n        if (!$scrollableTarget)\n            return;\n        let left = $scrollableTarget.offsetWidth;\n        left = RTLUtils.isRtl(this) && RTLUtils.scrollType !== 'reverse' ? -left : left;\n        left = direction === 'left' ? -left : left;\n        $scrollableTarget.scrollBy({ left, behavior });\n    }\n    /** Scroll tab to the view */\n    fitToViewport($trigger, behavior = 'smooth') {\n        this.updateMarkers();\n        const $scrollableTarget = this.$scrollableTarget;\n        if (!$scrollableTarget || !$trigger)\n            return;\n        const areaRect = $scrollableTarget.getBoundingClientRect();\n        const itemRect = $trigger.getBoundingClientRect();\n        $scrollableTarget.scrollBy({\n            left: this.calcScrollOffset(itemRect, areaRect),\n            behavior\n        });\n        this.updateArrows();\n    }\n    /** Get scroll offset position from the selected item rectangle */\n    calcScrollOffset(itemRect, areaRect) {\n        const isReversedRTL = RTLUtils.isRtl(this) && RTLUtils.scrollType === 'reverse';\n        if (this.currentScrollableType === 'center') {\n            const shift = itemRect.left + itemRect.width / 2 - (areaRect.left + areaRect.width / 2);\n            return isReversedRTL ? -shift : shift;\n        }\n        // item is out of area from the right side\n        // else item out is of area from the left side\n        if (itemRect.right > areaRect.right) {\n            return isReversedRTL ? Math.floor(areaRect.right - itemRect.right) : Math.ceil(itemRect.right - areaRect.right);\n        }\n        else if (itemRect.left < areaRect.left) {\n            return isReversedRTL ? Math.ceil(areaRect.left - itemRect.left) : Math.floor(itemRect.left - areaRect.left);\n        }\n    }\n    updateArrows() {\n        const $scrollableTarget = this.$scrollableTarget;\n        if (!$scrollableTarget)\n            return;\n        const swapSides = RTLUtils.isRtl(this) && RTLUtils.scrollType === 'default';\n        const scrollStart = Math.abs($scrollableTarget.scrollLeft) > 1;\n        const scrollEnd = Math.abs($scrollableTarget.scrollLeft) + $scrollableTarget.clientWidth + 1 < $scrollableTarget.scrollWidth;\n        const $rightArrow = this.querySelector('[data-tab-direction=\"right\"]');\n        const $leftArrow = this.querySelector('[data-tab-direction=\"left\"]');\n        $leftArrow && $leftArrow.toggleAttribute('disabled', !(swapSides ? scrollEnd : scrollStart));\n        $rightArrow && $rightArrow.toggleAttribute('disabled', !(swapSides ? scrollStart : scrollEnd));\n    }\n    updateMarkers() {\n        const $scrollableTarget = this.$scrollableTarget;\n        if (!$scrollableTarget)\n            return;\n        const hasScroll = this.isScrollable && ($scrollableTarget.scrollWidth > this.clientWidth);\n        this.toggleAttribute('has-scroll', hasScroll);\n    }\n    /** Update element state according to scrollable type */\n    updateScrollableType() {\n        ESLTabs_1.supportedScrollableTypes.forEach((type) => {\n            this.$$cls(`scrollable-${type}`, this.currentScrollableType === type);\n        });\n        this._deferredFitToViewport(this.$current);\n        if (this.currentScrollableType === 'disabled') {\n            this.unbindScrollableEvents();\n        }\n        else {\n            this.bindScrollableEvents();\n        }\n    }\n    _onTriggerStateChange({ detail }) {\n        if (!detail.active)\n            return;\n        this._deferredFitToViewport(this.$current);\n    }\n    _onClick(event) {\n        const eventTarget = event.target;\n        const target = eventTarget.closest('[data-tab-direction]');\n        const direction = target && target.dataset.tabDirection;\n        if (!direction)\n            return;\n        this.moveTo(direction);\n    }\n    _onFocus(e) {\n        const target = e.target;\n        if (target instanceof ESLTab)\n            this._deferredFitToViewport(target);\n    }\n    _onScroll() {\n        this._deferredUpdateArrows();\n    }\n    _onResize() {\n        this._deferredFitToViewport(this.$current, 'auto');\n    }\n    /** Handles scrollable type change */\n    _onScrollableTypeChange() {\n        this.updateScrollableType();\n    }\n};\nESLTabs.is = 'esl-tabs';\nESLTabs.observedAttributes = ['scrollable'];\n/** List of supported scrollable types */\nESLTabs.supportedScrollableTypes = ['disabled', 'side', 'center'];\n__decorate([\n    attr({ defaultValue: 'disabled' })\n], ESLTabs.prototype, \"scrollable\", void 0);\n__decorate([\n    attr({ defaultValue: '.esl-tab-container' })\n], ESLTabs.prototype, \"scrollableTarget\", void 0);\n__decorate([\n    memoize()\n], ESLTabs.prototype, \"scrollableTypeRules\", null);\n__decorate([\n    listen('esl:change:active')\n], ESLTabs.prototype, \"_onTriggerStateChange\", null);\n__decorate([\n    listen('click')\n], ESLTabs.prototype, \"_onClick\", null);\n__decorate([\n    listen('focusin')\n], ESLTabs.prototype, \"_onFocus\", null);\n__decorate([\n    listen({\n        auto: false,\n        event: 'scroll',\n        target: (el) => el.$scrollableTarget\n    })\n], ESLTabs.prototype, \"_onScroll\", null);\n__decorate([\n    listen({\n        auto: false,\n        event: 'resize',\n        target: window,\n        passive: true\n    }),\n    decorate(rafDecorator)\n], ESLTabs.prototype, \"_onResize\", null);\n__decorate([\n    listen({\n        event: 'change',\n        target: (el) => el.scrollableTypeRules\n    })\n], ESLTabs.prototype, \"_onScrollableTypeChange\", null);\nESLTabs = ESLTabs_1 = __decorate([\n    ExportNs('Tabs')\n], ESLTabs);\nexport { ESLTabs };\n","import { getAttr, setAttr } from '../dom/attr';\nimport { toKebabCase, evaluate } from '../misc/format';\nfunction buildJsonAttrDescriptor(attrName, readOnly, defaultValue) {\n    function get() {\n        const attrContent = getAttr(this, attrName, '').trim();\n        return evaluate(attrContent, defaultValue);\n    }\n    function set(value) {\n        try {\n            if (typeof value !== 'object')\n                throw Error('value should be object');\n            setAttr(this, attrName, value ? JSON.stringify(value) : false);\n        }\n        catch (e) {\n            console.error('[ESL] jsonAttr: Can not set json value ', e);\n        }\n    }\n    return readOnly ? { get } : { get, set };\n}\nconst buildAttrName = (propName, dataAttr) => dataAttr ? `data-${toKebabCase(propName)}` : toKebabCase(propName);\n/**\n * Decorator to map current property to element attribute value using JSON (de-)serialization rules.\n * Maps object type property.\n * @param config - mapping configuration. See {@link JsonAttrDescriptor}\n */\nexport const jsonAttr = (config = {}) => {\n    config = Object.assign({ defaultValue: {} }, config);\n    return (target, propName) => {\n        const attrName = buildAttrName(config.name || propName, !!config.dataAttr);\n        Object.defineProperty(target, propName, buildJsonAttrDescriptor(attrName, !!config.readonly, config.defaultValue));\n    };\n};\n","const ns = window || global;\nconst sequences = ns.__esl_sequences__ || new Map();\nns.__esl_sequences__ = sequences;\n/** Create and return sequential id */\nexport const sequentialUID = (name, prefix = name) => {\n    const uid = (sequences.get(name) || 0) + 1;\n    sequences.set(name, uid);\n    return prefix + uid;\n};\n/** Return random unique identifier */\nexport const randUID = (prefix = '') => {\n    const time = Date.now().toString(32);\n    const rand = Math.round(Math.random() * 1024 * 1024).toString(32);\n    return prefix + time + '-' + rand;\n};\n/**\n * Generate unique id\n * @deprecated Alias for {@link randUID}\n */\nexport const generateUId = randUID;\n","/**\n * Task placeholder with a single place for executing deferred task.\n * Only one task can be planed per DelayedTask instance.\n * @see put DelayedTask.put behaviour description.\n */\nexport class DelayedTask {\n    constructor() {\n        this._fn = null;\n        this._timeout = null;\n        /** Execute deferred task immediately */\n        this.run = () => {\n            this._timeout = null;\n            this._fn && this._fn();\n        };\n    }\n    /** @returns Function of currently deferred (planned) task */\n    get fn() {\n        return this._fn;\n    }\n    /**\n     * Cancel deferred task and planning passed\n     * @param task - task function\n     * @param delay - time to delay task execution\n     *  - pass negative or false to execute task immediately\n     *  - pass 0 to plan task to the macrotask\n     *  - pass positive number x to delay task on x ms.\n     * */\n    put(task, delay = false) {\n        const prev = this.cancel();\n        if (typeof task === 'function') {\n            if (delay && typeof delay === 'string')\n                delay = +delay;\n            if (typeof delay === 'number' && delay >= 0) {\n                this._fn = task;\n                this._timeout = window.setTimeout(this.run, delay);\n            }\n            else {\n                task();\n            }\n        }\n        return prev;\n    }\n    /** Cancel deferred (planned) task */\n    cancel() {\n        const prev = this._fn;\n        (typeof this._timeout === 'number') && clearTimeout(this._timeout);\n        this._fn = this._timeout = null;\n        return prev;\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLToggleable_1;\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { ESC, SYSTEM_KEYS } from '../../esl-utils/dom/keys';\nimport { CSSClassUtils } from '../../esl-utils/dom/class';\nimport { prop, attr, jsonAttr, boolAttr, listen } from '../../esl-utils/decorators';\nimport { defined, copyDefinedKeys } from '../../esl-utils/misc/object';\nimport { sequentialUID } from '../../esl-utils/misc/uid';\nimport { DeviceDetector } from '../../esl-utils/environment/device-detector';\nimport { DelayedTask } from '../../esl-utils/async/delayed-task';\nimport { ESLBaseElement } from '../../esl-base-element/core';\nimport { isMatches } from '../../esl-utils/dom/traversing';\nconst activators = new WeakMap();\n/**\n * ESLToggleable component\n * @author Julia Murashko, Alexey Stsefanovich (ala'n)\n *\n * ESLToggleable - a custom element, that is used as a base for \"Popup-like\" components creation\n */\nlet ESLToggleable = ESLToggleable_1 = class ESLToggleable extends ESLBaseElement {\n    constructor() {\n        super(...arguments);\n        /** Inner state */\n        this._open = false;\n        /** Inner show/hide task manager instance */\n        this._task = new DelayedTask();\n        /** Marker for current hover listener state */\n        this._trackHover = false;\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        if (!this.id && !this.noAutoId) {\n            const tag = this.constructor.is;\n            this.id = sequentialUID(tag, tag + '-');\n        }\n        this.initiallyOpened = this.hasAttribute('open');\n        this.setInitialState();\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        activators.delete(this);\n    }\n    attributeChangedCallback(attrName, oldVal, newVal) {\n        if (!this.connected || newVal === oldVal)\n            return;\n        switch (attrName) {\n            case 'open':\n                if (this.open === this.hasAttribute('open'))\n                    return;\n                this.toggle(this.open, { initiator: 'attribute', showDelay: 0, hideDelay: 0 });\n                break;\n            case 'group':\n                this.$$fire(this.GROUP_CHANGED_EVENT, {\n                    detail: { oldGroupName: oldVal, newGroupName: newVal }\n                });\n                break;\n        }\n    }\n    /** Set initial state of the Toggleable */\n    setInitialState() {\n        if (this.initialParams) {\n            this.toggle(this.initiallyOpened, this.initialParams);\n        }\n    }\n    /** Bind outside action event listeners */\n    bindOutsideEventTracking(track) {\n        track ? this.$$on(this._onOutsideAction) : this.$$off(this._onOutsideAction);\n    }\n    /** Bind hover events listeners for the Toggleable itself */\n    bindHoverStateTracking(track, hideDelay) {\n        if (!DeviceDetector.hasHover)\n            return;\n        this._trackHoverDelay = track && hideDelay !== undefined ? +hideDelay : undefined;\n        if (this._trackHover === track)\n            return;\n        this._trackHover = track;\n        track ? this.$$on(this._onMouseEnter) : this.$$off(this._onMouseEnter);\n        track ? this.$$on(this._onMouseLeave) : this.$$off(this._onMouseLeave);\n    }\n    /** Function to merge the result action params */\n    mergeDefaultParams(params) {\n        return Object.assign({}, this.defaultParams, copyDefinedKeys(params));\n    }\n    /** Toggle the element state */\n    toggle(state = !this.open, params) {\n        return state ? this.show(params) : this.hide(params);\n    }\n    /** Change the element state to active */\n    show(params) {\n        params = this.mergeDefaultParams(params);\n        this._task.put(this.showTask.bind(this, params), defined(params.showDelay, params.delay));\n        this.bindOutsideEventTracking(this.closeOnOutsideAction);\n        this.bindHoverStateTracking(!!params.trackHover, defined(params.hideDelay, params.delay));\n        return this;\n    }\n    /** Change the element state to inactive */\n    hide(params) {\n        params = this.mergeDefaultParams(params);\n        this._task.put(this.hideTask.bind(this, params), defined(params.hideDelay, params.delay));\n        this.bindOutsideEventTracking(false);\n        this.bindHoverStateTracking(!!params.trackHover, defined(params.hideDelay, params.delay));\n        return this;\n    }\n    /** Actual show task to execute by toggleable task manger ({@link DelayedTask} out of the box) */\n    showTask(params) {\n        if (!params.force && this.open)\n            return;\n        if (!params.silent && !this.$$fire(this.BEFORE_SHOW_EVENT, { detail: { params } }))\n            return;\n        this.activator = params.activator;\n        this.open = true;\n        this.onShow(params);\n        if (!params.silent)\n            this.$$fire(this.SHOW_EVENT, { detail: { params }, cancelable: false });\n    }\n    /** Actual hide task to execute by toggleable task manger ({@link DelayedTask} out of the box) */\n    hideTask(params) {\n        if (!params.force && !this.open)\n            return;\n        if (!params.silent && !this.$$fire(this.BEFORE_HIDE_EVENT, { detail: { params } }))\n            return;\n        this.open = false;\n        this.onHide(params);\n        this.bindOutsideEventTracking(false);\n        if (!params.silent)\n            this.$$fire(this.HIDE_EVENT, { detail: { params }, cancelable: false });\n    }\n    /**\n     * Actions to execute on show toggleable.\n     * Inner state and 'open' attribute are not affected and updated before `onShow` execution.\n     * Adds CSS classes, update a11y and fire {@link ESLToggleable.REFRESH_EVENT} event by default.\n     */\n    onShow(params) {\n        CSSClassUtils.add(this, this.activeClass);\n        CSSClassUtils.add(document.body, this.bodyClass, this);\n        this.updateA11y();\n        this.$$fire(this.REFRESH_EVENT); // To notify other components about content change\n    }\n    /**\n     * Actions to execute on hide toggleable.\n     * Inner state and 'open' attribute are not affected and updated before `onShow` execution.\n     * Removes CSS classes and update a11y by default.\n     */\n    onHide(params) {\n        CSSClassUtils.remove(this, this.activeClass);\n        CSSClassUtils.remove(document.body, this.bodyClass, this);\n        this.updateA11y();\n    }\n    /** Active state marker */\n    get open() {\n        return this._open;\n    }\n    set open(value) {\n        this.toggleAttribute('open', this._open = value);\n    }\n    /** Last component that has activated the element. Uses {@link ESLToggleableActionParams.activator}*/\n    get activator() {\n        return activators.get(this);\n    }\n    set activator(el) {\n        el ? activators.set(this, el) : activators.delete(this);\n    }\n    /** Returns the element to apply a11y attributes */\n    get $a11yTarget() {\n        const target = this.getAttribute('a11y-target');\n        if (target === 'none')\n            return null;\n        return target ? this.querySelector(target) : this;\n    }\n    /** Called on show and on hide actions to update a11y state accordingly */\n    updateA11y() {\n        const targetEl = this.$a11yTarget;\n        if (!targetEl)\n            return;\n        targetEl.setAttribute('aria-hidden', String(!this._open));\n    }\n    /** @returns if the passed event should trigger hide action */\n    isOutsideAction(e) {\n        const target = e.target;\n        // target is inside current toggleable\n        if (this.contains(target))\n            return false;\n        // target is inside last activator\n        if (this.activator && this.activator.contains(target))\n            return false;\n        // Event is not a system command key\n        return !(e instanceof KeyboardEvent && SYSTEM_KEYS.includes(e.key));\n    }\n    _onCloseClick(e) {\n        this.hide({ initiator: 'close', activator: e.target, event: e });\n    }\n    _onOutsideAction(e) {\n        if (!this.isOutsideAction(e))\n            return;\n        // Used 0 delay to decrease priority of the request\n        this.hide({ initiator: 'outsideaction', hideDelay: 0, event: e });\n    }\n    _onKeyboardEvent(e) {\n        if (this.closeOnEsc && e.key === ESC) {\n            this.hide({ initiator: 'keyboard', event: e });\n        }\n    }\n    _onMouseEnter(e) {\n        const hideDelay = this._trackHoverDelay;\n        const baseParams = { initiator: 'mouseenter', trackHover: true, activator: this.activator, event: e, hideDelay };\n        this.show(Object.assign(baseParams, this.trackHoverParams));\n    }\n    _onMouseLeave(e) {\n        const hideDelay = this._trackHoverDelay;\n        const baseParams = { initiator: 'mouseleave', trackHover: true, activator: this.activator, event: e, hideDelay };\n        this.hide(Object.assign(baseParams, this.trackHoverParams));\n    }\n    /** Prepares toggle request events param */\n    buildRequestParams(e) {\n        const detail = e.detail || {};\n        if (!isMatches(this, detail.match))\n            return null;\n        return Object.assign({}, detail, { event: e });\n    }\n    /** Actions to execute on show request */\n    _onShowRequest(e) {\n        const params = this.buildRequestParams(e);\n        params && this.show(params);\n    }\n    /** Actions to execute on hide request */\n    _onHideRequest(e) {\n        const params = this.buildRequestParams(e);\n        params && this.hide(params);\n    }\n};\nESLToggleable.is = 'esl-toggleable';\nESLToggleable.observedAttributes = ['open', 'group'];\n__decorate([\n    prop('esl:before:show')\n], ESLToggleable.prototype, \"BEFORE_SHOW_EVENT\", void 0);\n__decorate([\n    prop('esl:before:hide')\n], ESLToggleable.prototype, \"BEFORE_HIDE_EVENT\", void 0);\n__decorate([\n    prop('esl:show')\n], ESLToggleable.prototype, \"SHOW_EVENT\", void 0);\n__decorate([\n    prop('esl:hide')\n], ESLToggleable.prototype, \"HIDE_EVENT\", void 0);\n__decorate([\n    prop('esl:after:show')\n], ESLToggleable.prototype, \"AFTER_SHOW_EVENT\", void 0);\n__decorate([\n    prop('esl:after:hide')\n], ESLToggleable.prototype, \"AFTER_HIDE_EVENT\", void 0);\n__decorate([\n    prop('esl:show:request')\n], ESLToggleable.prototype, \"SHOW_REQUEST_EVENT\", void 0);\n__decorate([\n    prop('esl:hide:request')\n], ESLToggleable.prototype, \"HIDE_REQUEST_EVENT\", void 0);\n__decorate([\n    prop('esl:change:group')\n], ESLToggleable.prototype, \"GROUP_CHANGED_EVENT\", void 0);\n__decorate([\n    attr()\n], ESLToggleable.prototype, \"bodyClass\", void 0);\n__decorate([\n    attr({ defaultValue: 'open' })\n], ESLToggleable.prototype, \"activeClass\", void 0);\n__decorate([\n    attr({ name: 'group' })\n], ESLToggleable.prototype, \"groupName\", void 0);\n__decorate([\n    attr({ name: 'close-on' })\n], ESLToggleable.prototype, \"closeTrigger\", void 0);\n__decorate([\n    boolAttr()\n], ESLToggleable.prototype, \"noAutoId\", void 0);\n__decorate([\n    boolAttr()\n], ESLToggleable.prototype, \"closeOnEsc\", void 0);\n__decorate([\n    boolAttr()\n], ESLToggleable.prototype, \"closeOnOutsideAction\", void 0);\n__decorate([\n    jsonAttr({ defaultValue: { force: true, initiator: 'init' } })\n], ESLToggleable.prototype, \"initialParams\", void 0);\n__decorate([\n    jsonAttr({ defaultValue: {} })\n], ESLToggleable.prototype, \"defaultParams\", void 0);\n__decorate([\n    jsonAttr({ defaultValue: {} })\n], ESLToggleable.prototype, \"trackHoverParams\", void 0);\n__decorate([\n    listen({\n        event: 'click',\n        selector: (el) => el.closeTrigger || ''\n    })\n], ESLToggleable.prototype, \"_onCloseClick\", null);\n__decorate([\n    listen({\n        auto: false,\n        event: 'keydown mouseup touchend',\n        target: document.body,\n        capture: true\n    })\n], ESLToggleable.prototype, \"_onOutsideAction\", null);\n__decorate([\n    listen('keydown')\n], ESLToggleable.prototype, \"_onKeyboardEvent\", null);\n__decorate([\n    listen({ auto: false, event: 'mouseenter' })\n], ESLToggleable.prototype, \"_onMouseEnter\", null);\n__decorate([\n    listen({ auto: false, event: 'mouseleave' })\n], ESLToggleable.prototype, \"_onMouseLeave\", null);\n__decorate([\n    listen((el) => el.SHOW_REQUEST_EVENT)\n], ESLToggleable.prototype, \"_onShowRequest\", null);\n__decorate([\n    listen((el) => el.HIDE_REQUEST_EVENT)\n], ESLToggleable.prototype, \"_onHideRequest\", null);\nESLToggleable = ESLToggleable_1 = __decorate([\n    ExportNs('Toggleable')\n], ESLToggleable);\nexport { ESLToggleable };\n","/** Makes a plain copy of obj with properties satisfying the predicate\n * If no predicate provided copies all own properties */\nexport function copy(obj, predicate = () => true) {\n    const result = Object.assign({}, obj || {});\n    Object.keys(result).forEach((key) => {\n        (!predicate(key, result[key])) && delete result[key];\n    });\n    return result;\n}\n/** Makes a flat copy without undefined keys */\nexport function copyDefinedKeys(obj) {\n    return copy(obj || {}, (key, value) => value !== void 0);\n}\n/** Omits copying provided properties from object */\nexport function omit(obj, keys) {\n    return copy(obj, key => !keys.includes(key));\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ESLBaseElement, listen } from '../../esl-base-element/core';\nimport { getCompositeTarget } from '../../esl-utils/dom/events';\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { ESLToggleable } from './esl-toggleable';\n/**\n * ESLToggleableDispatcher\n * @author Julia Murashko, Alexey Stsefanovich (ala'n)\n *\n * ESLToggleableDispatcher - plugin component, that prevents activation of multiple ESLToggleable instances in bounds of managed container.\n */\nlet ESLToggleableDispatcher = class ESLToggleableDispatcher extends ESLBaseElement {\n    constructor() {\n        super(...arguments);\n        this._popups = new Map();\n    }\n    /**\n     * Initialize ToggleableGroupDispatcher\n     * Uses esl-toggleable-dispatcher tag and document body root by default\n     */\n    static init(root = document.body, tagName = this.is) {\n        if (!root)\n            throw new Error('Root element should be specified');\n        const instances = root.getElementsByTagName(tagName);\n        if (instances.length)\n            return;\n        this.register(tagName);\n        root.insertAdjacentElement('afterbegin', document.createElement(tagName));\n    }\n    /** Observed element */\n    get root() {\n        return this.parentElement;\n    }\n    /** Guard-condition for targets */\n    isAcceptable(target) {\n        if (!(target instanceof ESLToggleable))\n            return false;\n        return !!target.groupName && target.groupName !== 'none';\n    }\n    /** Hides active element in group */\n    hideActive(groupName, activator) {\n        const active = this.getActive(groupName);\n        if (!active || active === activator)\n            return;\n        active.hide({\n            initiator: 'dispatcher',\n            dispatcher: this,\n            activator\n        });\n    }\n    /** Sets active element in group */\n    setActive(groupName, popup) {\n        if (!groupName)\n            return;\n        this.hideActive(groupName, popup);\n        this._popups.set(groupName, popup);\n    }\n    /** Gets active element in group or undefined if group doesn't exist */\n    getActive(groupName) {\n        return this._popups.get(groupName);\n    }\n    /** Deletes element from the group if passed element is currently active */\n    deleteActive(groupName, popup) {\n        if (this.getActive(groupName) !== popup)\n            return;\n        this._popups.delete(groupName);\n    }\n    /** Hides active element before e.target will be shown */\n    _onBeforeShow(e) {\n        const target = getCompositeTarget(e);\n        if (!this.isAcceptable(target))\n            return;\n        this.hideActive(target.groupName, target);\n    }\n    /** Updates active element after a new element is shown */\n    _onShow(e) {\n        const target = getCompositeTarget(e);\n        if (!this.isAcceptable(target))\n            return;\n        this.setActive(target.groupName, target);\n    }\n    /** Updates group state after active element is hidden */\n    _onHide(e) {\n        const target = getCompositeTarget(e);\n        if (!this.isAcceptable(target))\n            return;\n        this.deleteActive(target.groupName, target);\n    }\n    /** Updates active elements */\n    _onChangeGroup(e) {\n        const target = getCompositeTarget(e);\n        if (!this.isAcceptable(target))\n            return;\n        const { oldGroupName, newGroupName } = e.detail;\n        this.deleteActive(oldGroupName, target);\n        this.setActive(newGroupName, target);\n    }\n};\nESLToggleableDispatcher.is = 'esl-toggleable-dispatcher';\n__decorate([\n    listen({\n        event: ESLToggleable.prototype.BEFORE_SHOW_EVENT,\n        target: (host) => host.root\n    })\n], ESLToggleableDispatcher.prototype, \"_onBeforeShow\", null);\n__decorate([\n    listen({\n        event: ESLToggleable.prototype.SHOW_EVENT,\n        target: (host) => host.root\n    })\n], ESLToggleableDispatcher.prototype, \"_onShow\", null);\n__decorate([\n    listen({\n        event: ESLToggleable.prototype.HIDE_EVENT,\n        target: (host) => host.root\n    })\n], ESLToggleableDispatcher.prototype, \"_onHide\", null);\n__decorate([\n    listen({\n        event: ESLToggleable.prototype.GROUP_CHANGED_EVENT,\n        target: (host) => host.root\n    })\n], ESLToggleableDispatcher.prototype, \"_onChangeGroup\", null);\nESLToggleableDispatcher = __decorate([\n    ExportNs('ToggleableDispatcher')\n], ESLToggleableDispatcher);\nexport { ESLToggleableDispatcher };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { CSSClassUtils } from '../../esl-utils/dom/class';\nimport { attr, boolAttr, jsonAttr, listen } from '../../esl-utils/decorators';\nimport { afterNextRender, skipOneRender } from '../../esl-utils/async/raf';\nimport { ESLToggleable } from '../../esl-toggleable/core';\n/**\n * ESLPanel component\n * @author Julia Murashko\n *\n * ESLPanel is a custom element that is used as a wrapper for content that can be shown or hidden.\n * Can use collapsing/expanding animation (smooth height change).\n * Can be used in conjunction with {@link ESLPanelGroup} to control a group of ESLPopups\n */\nlet ESLPanel = class ESLPanel extends ESLToggleable {\n    constructor() {\n        super(...arguments);\n        /** Inner height state that updates after show/hide actions but before show/hide events triggered */\n        this._initialHeight = 0;\n    }\n    /** @returns Previous active panel height at the start of the animation */\n    get initialHeight() {\n        return this._initialHeight;\n    }\n    /** @returns Closest panel group or null if not presented */\n    get $group() {\n        if (this.groupName === 'none' || this.groupName)\n            return null;\n        return this.closest(this.panelGroupSel);\n    }\n    /** Process show action */\n    onShow(params) {\n        this._initialHeight = this.scrollHeight;\n        super.onShow(params);\n        this.beforeAnimate();\n        if (params.noAnimate)\n            return this.postAnimate(params.capturedBy);\n        this.onAnimate(0, this._initialHeight);\n    }\n    /** Process hide action */\n    onHide(params) {\n        this._initialHeight = this.scrollHeight;\n        super.onHide(params);\n        this.beforeAnimate();\n        if (params.noAnimate)\n            return this.postAnimate(null);\n        this.onAnimate(this._initialHeight, 0);\n    }\n    /** Pre-processing animation action */\n    beforeAnimate() {\n        this.toggleAttribute('animating', true);\n        CSSClassUtils.add(this, this.animateClass);\n        this.postAnimateClass && afterNextRender(() => CSSClassUtils.add(this, this.postAnimateClass));\n    }\n    /** Handles post animation process to initiate after animate step */\n    postAnimate(capturedBy) {\n        if (capturedBy) {\n            capturedBy.$$on({\n                event: capturedBy.AFTER_ANIMATE_EVENT,\n                once: true\n            }, () => this.afterAnimate());\n        }\n        else {\n            skipOneRender(() => this.afterAnimate());\n        }\n    }\n    /** Process animation */\n    onAnimate(from, to) {\n        // set initial height\n        this.style.setProperty('max-height', `${from}px`);\n        // make sure that browser applies initial height for animation\n        afterNextRender(() => {\n            this.style.setProperty('max-height', `${to}px`);\n            this.fallbackAnimate();\n        });\n    }\n    /** Checks if transition happens and runs afterAnimate step if transition is not presented*/\n    fallbackAnimate() {\n        afterNextRender(() => {\n            const distance = parseFloat(this.style.maxHeight) - this.clientHeight;\n            if (Math.abs(distance) <= 1)\n                this.afterAnimate();\n        });\n    }\n    /** Post-processing animation action */\n    afterAnimate() {\n        const { animating } = this;\n        this.clearAnimation();\n        // Prevent fallback calls from being tracked\n        if (!animating)\n            return;\n        this.$$fire(this.open ? this.AFTER_SHOW_EVENT : this.AFTER_HIDE_EVENT);\n    }\n    /** Clear animation properties */\n    clearAnimation() {\n        this.toggleAttribute('animating', false);\n        this.style.removeProperty('max-height');\n        CSSClassUtils.remove(this, this.animateClass);\n        CSSClassUtils.remove(this, this.postAnimateClass);\n    }\n    /** Catching CSS transition end event to start post-animate processing */\n    _onTransitionEnd(e) {\n        if (!e || (e.propertyName === 'max-height' && e.target === this)) {\n            this.afterAnimate();\n        }\n    }\n    /** Merge params that are used by panel group for actions */\n    mergeDefaultParams(params) {\n        var _a;\n        const stackConfig = ((_a = this.$group) === null || _a === void 0 ? void 0 : _a.panelConfig) || {};\n        return Object.assign({}, stackConfig, this.defaultParams, params || {});\n    }\n};\nESLPanel.is = 'esl-panel';\n__decorate([\n    attr({ defaultValue: 'open' })\n], ESLPanel.prototype, \"activeClass\", void 0);\n__decorate([\n    attr({ defaultValue: 'animate' })\n], ESLPanel.prototype, \"animateClass\", void 0);\n__decorate([\n    attr({ defaultValue: 'post-animate' })\n], ESLPanel.prototype, \"postAnimateClass\", void 0);\n__decorate([\n    attr({ defaultValue: 'esl-panel-group' })\n], ESLPanel.prototype, \"panelGroupSel\", void 0);\n__decorate([\n    jsonAttr({ defaultValue: { force: true, initiator: 'init' } })\n], ESLPanel.prototype, \"initialParams\", void 0);\n__decorate([\n    boolAttr({ readonly: true })\n], ESLPanel.prototype, \"animating\", void 0);\n__decorate([\n    listen('transitionend')\n], ESLPanel.prototype, \"_onTransitionEnd\", null);\nESLPanel = __decorate([\n    ExportNs('Panel')\n], ESLPanel);\nexport { ESLPanel };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLPanelGroup_1;\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { defined } from '../../esl-utils/misc/object/utils';\nimport { ESLBaseElement } from '../../esl-base-element/core';\nimport { afterNextRender } from '../../esl-utils/async/raf';\nimport { debounce } from '../../esl-utils/async/debounce';\nimport { decorate, memoize, attr, jsonAttr, prop, listen } from '../../esl-utils/decorators';\nimport { format } from '../../esl-utils/misc/format';\nimport { CSSClassUtils } from '../../esl-utils/dom/class';\nimport { ESLMediaQuery, ESLMediaRuleList } from '../../esl-media-query/core';\nimport { ESLTraversingQuery } from '../../esl-traversing-query/core';\nimport { ESLPanel } from '../../esl-panel/core';\n/** Converts special 'all' value to positive infinity */\nconst parseCount = (value) => value === 'all' ? Number.POSITIVE_INFINITY : parseInt(value, 10);\n/**\n * ESLPanelGroup component\n * @author Julia Murashko, Anastasia Lesun, Alexey Stsefanovich (ala'n)\n *\n * ESLPanelGroup is a custom element that is used as a container for a group of {@link ESLPanel}s\n */\nlet ESLPanelGroup = ESLPanelGroup_1 = class ESLPanelGroup extends ESLBaseElement {\n    constructor() {\n        super(...arguments);\n        /** Height of previous active panel */\n        this._previousHeight = 0;\n    }\n    connectedCallback() {\n        ESLPanel.registered.then(() => {\n            super.connectedCallback();\n            this.refresh();\n        });\n    }\n    attributeChangedCallback(attrName, oldVal, newVal) {\n        if (!this.connected || oldVal === newVal)\n            return;\n        if (attrName === 'mode' || attrName === 'min-open-items' || attrName === 'max-open-items') {\n            this.$$off(this._onConfigChange);\n            memoize.clear(this, 'modeRules');\n            memoize.clear(this, 'minValueRules');\n            memoize.clear(this, 'maxValueRules');\n            this.$$on(this._onConfigChange);\n            this.refresh();\n        }\n        if (attrName === 'refresh-strategy') {\n            memoize.clear(this, 'refreshRules');\n        }\n    }\n    /** Updates element state according to current mode */\n    refresh() {\n        const prevMode = this.getAttribute('current-mode');\n        const currentMode = this.currentMode;\n        this.setAttribute('current-mode', currentMode);\n        this.updateModeCls();\n        this.reset();\n        if (prevMode !== currentMode)\n            this.$$fire(this.MODE_CHANGE_EVENT, { detail: { prevMode, currentMode } });\n    }\n    /** Updates mode class marker */\n    updateModeCls() {\n        const { modeCls, currentMode } = this;\n        if (!modeCls)\n            return;\n        const $target = ESLTraversingQuery.first(this.modeClsTarget, this);\n        if (!$target)\n            return;\n        ESLPanelGroup_1.supportedModes.forEach((mode) => {\n            const className = format(modeCls, { mode });\n            $target.classList.toggle(className, currentMode === mode);\n        });\n    }\n    /** @returns ESLMediaRuleList instance of the mode mapping */\n    get modeRules() {\n        return ESLMediaRuleList.parse(this.mode);\n    }\n    /** @returns ESLMediaRuleList instance of the min-open-items mapping */\n    get minValueRules() {\n        return ESLMediaRuleList.parse(this.minOpenItems, parseCount);\n    }\n    /** @returns ESLMediaRuleList instance of the max-open-items mapping */\n    get maxValueRules() {\n        return ESLMediaRuleList.parse(this.maxOpenItems, parseCount);\n    }\n    /** @returns ESLMediaRuleList instance of the refresh-strategy mapping */\n    get refreshRules() {\n        return ESLMediaRuleList.parse(this.refreshStrategy);\n    }\n    /** @returns current mode */\n    get currentMode() {\n        return this.modeRules.activeValue || '';\n    }\n    /** @returns current value of min-open-items */\n    get currentMinItems() {\n        const min = 0;\n        const val = defined(this.minValueRules.activeValue, 1);\n        const max = this.currentMode === 'tabs' ? 1 : this.$panels.length;\n        return Math.min(max, Math.max(min, val)); // minmax\n    }\n    /** @returns current value of max-open-items */\n    get currentMaxItems() {\n        const min = this.currentMinItems;\n        const val = defined(this.maxValueRules.activeValue, 1);\n        const max = this.currentMode === 'tabs' ? 1 : this.$panels.length;\n        return Math.min(max, Math.max(min, val)); // minmax\n    }\n    /** @returns panels that are processed by the current panel group */\n    get $panels() {\n        const els = Array.from(this.querySelectorAll(this.panelSel));\n        return els.filter((el) => this.includesPanel(el));\n    }\n    /** @returns panels that are active */\n    get $activePanels() {\n        return this.$panels.filter((el) => el.open);\n    }\n    /** @returns panels that was initially opened */\n    get $initialPanels() {\n        return this.$panels.filter((el) => el.initiallyOpened);\n    }\n    /** @returns panels that requested to be opened on refresh */\n    get $resetStatePanels() {\n        switch (this.refreshRules.activeValue) {\n            case 'close': return [];\n            case 'open': return this.$panels;\n            case 'initial': return this.$initialPanels;\n            default: return this.$activePanels;\n        }\n    }\n    /** @returns whether the collapse/expand animation should be handheld by the breakpoints */\n    get shouldAnimate() {\n        return !ESLMediaQuery.for(this.noAnimate).matches;\n    }\n    /** @returns action params config that's used (inherited) by controlled {@link ESLPanel}s */\n    get panelConfig() {\n        return {\n            capturedBy: this.currentMode === 'tabs' ? this : undefined,\n            noAnimate: !this.shouldAnimate || (this.currentMode === 'tabs')\n        };\n    }\n    /** @returns merged panel action params for show/hide requests from the group */\n    mergeActionParams(...params) {\n        return Object.assign({ initiator: 'group', activator: this }, ...params);\n    }\n    /** Condition-guard to check if the passed target is a Panel that should be controlled by the Group */\n    includesPanel(target) {\n        if (!(target instanceof ESLPanel))\n            return false;\n        return target.$group === this;\n    }\n    /** Shows all panels besides excluded ones */\n    showAll(excluded = [], params = {}) {\n        this.$panels.forEach((el) => !excluded.includes(el) && el.show(this.mergeActionParams(params)));\n    }\n    /** Hides all active panels besides excluded ones */\n    hideAll(excluded = [], params = {}) {\n        this.$activePanels.forEach((el) => !excluded.includes(el) && el.hide(this.mergeActionParams(params)));\n    }\n    /** Resets to default state applicable to the current panel group configuration */\n    reset() {\n        // $activePanels - collection of items to open (ideally; without normalization)\n        const $activePanels = this.$resetStatePanels;\n        // $orderedPanels = $activePanels U ($panels / $activePanels) - the list of ordered panels\n        const $orderedPanels = $activePanels.concat(this.$panels.filter((item) => !$activePanels.includes(item)));\n        // we use current open active panels count but normalized in range of minmax\n        const activeCount = Math.min(this.currentMaxItems, Math.max($activePanels.length, this.currentMinItems));\n        const params = this.mergeActionParams(this.transformParams);\n        $orderedPanels.forEach((panel, index) => panel.toggle(index < activeCount, params));\n    }\n    /** Animates the height of the component */\n    onAnimate(from, to) {\n        const hasCurrent = this.style.height && this.style.height !== 'auto';\n        if (hasCurrent) {\n            this.style.height = `${to}px`;\n            this.fallbackAnimate();\n        }\n        else {\n            // set initial height\n            this.style.height = `${from}px`;\n            // make sure that browser applies initial height to animate\n            afterNextRender(() => {\n                this.style.height = `${to}px`;\n                this.fallbackAnimate();\n            });\n        }\n    }\n    /** Checks if transition happens and runs afterAnimate step if transition is not presented */\n    fallbackAnimate() {\n        afterNextRender(() => {\n            const distance = parseFloat(this.style.height) - this.clientHeight;\n            if (Math.abs(distance) <= 1)\n                this.afterAnimate();\n        });\n    }\n    /** Pre-processing animation action */\n    beforeAnimate() {\n        CSSClassUtils.add(this, this.animationClass);\n    }\n    /** Post-processing animation action */\n    afterAnimate(silent) {\n        this.style.removeProperty('height');\n        CSSClassUtils.remove(this, this.animationClass);\n        if (silent)\n            return;\n        this.$$fire(this.AFTER_ANIMATE_EVENT, { bubbles: false });\n    }\n    /** Process {@link ESLPanel} pre-show event */\n    _onBeforeShow(e) {\n        var _a, _b, _c;\n        const panel = e.target;\n        if (!this.includesPanel(panel))\n            return;\n        const max = this.currentMaxItems;\n        const params = this.mergeActionParams({ event: e });\n        const balanceMarker = ((_c = (_b = (_a = e.detail) === null || _a === void 0 ? void 0 : _a.params) === null || _b === void 0 ? void 0 : _b.event) === null || _c === void 0 ? void 0 : _c.type) !== 'esl:before:hide';\n        // All currently active except panel that requested to be open\n        const $activePanels = this.$activePanels.filter((el) => el !== panel);\n        // overflow = pretended to be active (current active + balanceMarker (1 if nothing hides)) - limit\n        const overflow = Math.max(0, $activePanels.length + Number(balanceMarker) - max);\n        // close all extra active panels (not includes requested one)\n        $activePanels.slice(0, overflow).forEach((el) => el.hide(params));\n        if (max <= 0)\n            return e.preventDefault();\n    }\n    /** Process {@link ESLPanel} show event */\n    _onShow(e) {\n        const panel = e.target;\n        if (!this.includesPanel(panel))\n            return;\n        if (this.currentMode !== 'tabs')\n            return;\n        this.beforeAnimate();\n        if (this.shouldAnimate) {\n            this.onAnimate(this._previousHeight, panel.initialHeight);\n        }\n        else {\n            afterNextRender(() => this.afterAnimate(true));\n        }\n    }\n    /** Process {@link ESLPanel} pre-hide event */\n    _onBeforeHide(e) {\n        var _a, _b;\n        const { target: panel, detail } = e;\n        if (!this.includesPanel(panel))\n            return;\n        const min = this.currentMinItems;\n        // Check if the hide event was produced by the show event\n        const balanceMarker = ((_b = (_a = detail === null || detail === void 0 ? void 0 : detail.params) === null || _a === void 0 ? void 0 : _a.event) === null || _b === void 0 ? void 0 : _b.type) === 'esl:before:show';\n        // activePanels = currentActivePanels - 1 (hide) + 1 if the event produced by 'before:show'\n        const activeNumber = this.$activePanels.length - 1 + Number(balanceMarker);\n        if (activeNumber < min) {\n            const $firstInactive = this.$panels.find(($panel) => !$panel.open);\n            if (min === 1 || !$firstInactive)\n                return e.preventDefault();\n            const params = this.mergeActionParams({ event: e });\n            $firstInactive.show(params);\n        }\n        this._previousHeight = this.clientHeight;\n    }\n    /** Catches CSS transition end event to start post-animate processing */\n    _onTransitionEnd(e) {\n        if (!e || (e.propertyName === 'height' && e.target === this)) {\n            this.afterAnimate();\n        }\n    }\n    /** Handles configuration change */\n    _onConfigChange() {\n        this.refresh();\n    }\n};\nESLPanelGroup.is = 'esl-panel-group';\nESLPanelGroup.observedAttributes = ['mode', 'refresh-strategy', 'min-open-items', 'max-open-items'];\n/** List of supported modes */\nESLPanelGroup.supportedModes = ['accordion', 'tabs'];\n__decorate([\n    prop('esl:change:mode')\n], ESLPanelGroup.prototype, \"MODE_CHANGE_EVENT\", void 0);\n__decorate([\n    prop('esl:after:animate')\n], ESLPanelGroup.prototype, \"AFTER_ANIMATE_EVENT\", void 0);\n__decorate([\n    attr({ defaultValue: ESLPanel.is })\n], ESLPanelGroup.prototype, \"panelSel\", void 0);\n__decorate([\n    attr({ defaultValue: 'accordion' })\n], ESLPanelGroup.prototype, \"mode\", void 0);\n__decorate([\n    attr({ defaultValue: 'esl-{mode}-view' })\n], ESLPanelGroup.prototype, \"modeCls\", void 0);\n__decorate([\n    attr({ defaultValue: '' })\n], ESLPanelGroup.prototype, \"modeClsTarget\", void 0);\n__decorate([\n    attr({ defaultValue: 'not all' })\n], ESLPanelGroup.prototype, \"noAnimate\", void 0);\n__decorate([\n    attr({ defaultValue: 'animate' })\n], ESLPanelGroup.prototype, \"animationClass\", void 0);\n__decorate([\n    attr({ defaultValue: '1' })\n], ESLPanelGroup.prototype, \"minOpenItems\", void 0);\n__decorate([\n    attr({ defaultValue: '1' })\n], ESLPanelGroup.prototype, \"maxOpenItems\", void 0);\n__decorate([\n    attr({ defaultValue: 'last' })\n], ESLPanelGroup.prototype, \"refreshStrategy\", void 0);\n__decorate([\n    jsonAttr({ defaultValue: { noAnimate: true } })\n], ESLPanelGroup.prototype, \"transformParams\", void 0);\n__decorate([\n    memoize()\n], ESLPanelGroup.prototype, \"modeRules\", null);\n__decorate([\n    memoize()\n], ESLPanelGroup.prototype, \"minValueRules\", null);\n__decorate([\n    memoize()\n], ESLPanelGroup.prototype, \"maxValueRules\", null);\n__decorate([\n    memoize()\n], ESLPanelGroup.prototype, \"refreshRules\", null);\n__decorate([\n    listen('esl:before:show')\n], ESLPanelGroup.prototype, \"_onBeforeShow\", null);\n__decorate([\n    listen('esl:show')\n], ESLPanelGroup.prototype, \"_onShow\", null);\n__decorate([\n    listen('esl:before:hide')\n], ESLPanelGroup.prototype, \"_onBeforeHide\", null);\n__decorate([\n    listen('transitionend')\n], ESLPanelGroup.prototype, \"_onTransitionEnd\", null);\n__decorate([\n    listen({\n        event: 'change',\n        target: (group) => [group.modeRules, group.minValueRules, group.maxValueRules]\n    }),\n    decorate(debounce, 0)\n], ESLPanelGroup.prototype, \"_onConfigChange\", null);\nESLPanelGroup = ESLPanelGroup_1 = __decorate([\n    ExportNs('PanelGroup')\n], ESLPanelGroup);\nexport { ESLPanelGroup };\n","import { getPropertyDescriptor } from '../misc/object/utils';\n/** Decorator \"bind\" allows to bind prototype method context to class instance */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport function bind(target, propertyKey, descriptor) {\n    // Validation check\n    if (!descriptor || (typeof descriptor.value !== 'function')) {\n        throw new TypeError('Only class methods can be decorated via @bind');\n    }\n    // Original function\n    const originalFn = descriptor.value;\n    return descriptor = {\n        enumerable: descriptor.enumerable,\n        configurable: true,\n        get: function getBound() {\n            const proto = Object.getPrototypeOf(this);\n            const desc = getPropertyDescriptor(proto, propertyKey);\n            const isProtoCall = !desc || desc.get !== getBound;\n            return isProtoCall ? originalFn : (this[propertyKey] = originalFn.bind(this));\n        },\n        set(value) {\n            Object.defineProperty(this, propertyKey, {\n                value,\n                writable: true,\n                configurable: true,\n                enumerable: descriptor.enumerable\n            });\n        }\n    };\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { ESLBaseElement } from '../../esl-base-element/core';\nimport { bind, ready, attr, boolAttr, listen } from '../../esl-utils/decorators';\nimport { rafDecorator } from '../../esl-utils/async/raf';\nimport { isMouseEvent, isTouchEvent, getTouchPoint, getOffsetPoint } from '../../esl-utils/dom/events';\nimport { isRelativeNode } from '../../esl-utils/dom/traversing';\nimport { ESLTraversingQuery } from '../../esl-traversing-query/core';\nimport { RTLUtils } from '../../esl-utils/dom/rtl';\n/**\n * ESLScrollbar is a reusable web component that replaces the browser's default scrollbar with\n * a custom scrollbar implementation.\n *\n * @author Yuliya Adamskaya\n */\nlet ESLScrollbar = class ESLScrollbar extends ESLBaseElement {\n    constructor() {\n        super(...arguments);\n        this._deferredDrag = rafDecorator((e) => this._onPointerDrag(e));\n        this._deferredRefresh = rafDecorator(() => this.refresh());\n        this._scrollTimer = 0;\n        this._resizeObserver = new ResizeObserver(this._deferredRefresh);\n        this._mutationObserver = new MutationObserver((rec) => this.updateContentObserve(rec));\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.render();\n        this.findTarget();\n    }\n    disconnectedCallback() {\n        this.unbindTargetEvents();\n        this._scrollTimer && window.clearTimeout(this._scrollTimer);\n    }\n    attributeChangedCallback(attrName, oldVal, newVal) {\n        if (!this.connected || oldVal === newVal)\n            return;\n        if (attrName === 'target')\n            this.findTarget();\n        if (attrName === 'horizontal')\n            this.refresh();\n    }\n    findTarget() {\n        this.$target = this.target ?\n            ESLTraversingQuery.first(this.target, this) :\n            null;\n    }\n    /** Target element to observe and scroll */\n    get $target() {\n        return this._$target || null;\n    }\n    set $target(content) {\n        this.unbindTargetEvents();\n        this._$target = content;\n        this.bindTargetEvents();\n        this._deferredRefresh();\n    }\n    render() {\n        this.innerHTML = '';\n        this.$scrollbarTrack = document.createElement('div');\n        this.$scrollbarTrack.className = this.trackClass;\n        this.$scrollbarThumb = document.createElement('div');\n        this.$scrollbarThumb.className = this.thumbClass;\n        this.$scrollbarTrack.appendChild(this.$scrollbarThumb);\n        this.appendChild(this.$scrollbarTrack);\n    }\n    bindTargetEvents() {\n        if (!this.$target)\n            return;\n        // Container resize/scroll observers/listeners\n        if (document.documentElement === this.$target) {\n            this.$$on({ event: 'scroll resize', target: window }, this._onScrollOrResize);\n        }\n        else {\n            this.$$on({ event: 'scroll', target: this.$target }, this._onScrollOrResize);\n            this._resizeObserver.observe(this.$target);\n        }\n        // Subscribes to the child elements resizes\n        this._mutationObserver.observe(this.$target, { childList: true });\n        Array.from(this.$target.children).forEach((el) => this._resizeObserver.observe(el));\n    }\n    /** Resubscribes resize observer on child elements when container content changes */\n    updateContentObserve(recs = []) {\n        if (!this.$target)\n            return;\n        const contentChanges = recs.filter((rec) => rec.type === 'childList');\n        contentChanges.forEach((rec) => {\n            Array.from(rec.addedNodes)\n                .filter((el) => el instanceof Element)\n                .forEach((el) => this._resizeObserver.observe(el));\n            Array.from(rec.removedNodes)\n                .filter((el) => el instanceof Element)\n                .forEach((el) => this._resizeObserver.unobserve(el));\n        });\n        if (contentChanges.length)\n            this._deferredRefresh();\n    }\n    unbindTargetEvents() {\n        if (!this.$target)\n            return;\n        this.$$off(this._onScrollOrResize);\n        if (document.documentElement !== this.$target) {\n            this._resizeObserver.disconnect();\n            this._mutationObserver.disconnect();\n        }\n    }\n    /** @readonly Scrollable distance size value (px) */\n    get scrollableSize() {\n        if (!this.$target)\n            return 0;\n        return this.horizontal ?\n            this.$target.scrollWidth - this.$target.clientWidth :\n            this.$target.scrollHeight - this.$target.clientHeight;\n    }\n    /** @readonly Track size value (px) */\n    get trackOffset() {\n        return this.horizontal ? this.$scrollbarTrack.offsetWidth : this.$scrollbarTrack.offsetHeight;\n    }\n    /** @readonly Thumb size value (px) */\n    get thumbOffset() {\n        return this.horizontal ? this.$scrollbarThumb.offsetWidth : this.$scrollbarThumb.offsetHeight;\n    }\n    /** @readonly Relative thumb size value (between 0.0 and 1.0) */\n    get thumbSize() {\n        // behave as native scroll\n        if (!this.$target || !this.$target.scrollWidth || !this.$target.scrollHeight)\n            return 1;\n        const areaSize = this.horizontal ? this.$target.clientWidth : this.$target.clientHeight;\n        const scrollSize = this.horizontal ? this.$target.scrollWidth : this.$target.scrollHeight;\n        return Math.min((areaSize + 1) / scrollSize, 1);\n    }\n    /** Relative position value (between 0.0 and 1.0) */\n    get position() {\n        if (!this.$target)\n            return 0;\n        const scrollOffset = this.horizontal ? RTLUtils.normalizeScrollLeft(this.$target) : this.$target.scrollTop;\n        return this.scrollableSize ? (scrollOffset / this.scrollableSize) : 0;\n    }\n    set position(position) {\n        this.scrollTargetTo(this.scrollableSize * this.normalizePosition(position));\n        this.update();\n    }\n    /** Normalizes position value (between 0.0 and 1.0) */\n    normalizePosition(position) {\n        const relativePosition = Math.min(1, Math.max(0, position));\n        if (!RTLUtils.isRtl(this.$target) || !this.horizontal)\n            return relativePosition;\n        return RTLUtils.scrollType === 'negative' ? (relativePosition - 1) : (1 - relativePosition);\n    }\n    /** Scrolls target element to passed position */\n    scrollTargetTo(pos) {\n        if (!this.$target)\n            return;\n        this.$target.scrollTo({\n            [this.horizontal ? 'left' : 'top']: pos,\n            behavior: this.dragging ? 'auto' : 'smooth'\n        });\n    }\n    /** Updates thumb size and position */\n    update() {\n        this.$$fire('esl:change:scroll', { bubbles: false });\n        if (!this.$scrollbarThumb || !this.$scrollbarTrack)\n            return;\n        const thumbSize = this.trackOffset * this.thumbSize;\n        const thumbPosition = (this.trackOffset - thumbSize) * this.position;\n        const style = {\n            [this.horizontal ? 'left' : 'top']: `${thumbPosition}px`,\n            [this.horizontal ? 'width' : 'height']: `${thumbSize}px`\n        };\n        Object.assign(this.$scrollbarThumb.style, style);\n    }\n    /** Updates auxiliary markers */\n    updateMarkers() {\n        const { position, thumbSize } = this;\n        this.toggleAttribute('at-start', thumbSize < 1 && position <= 0);\n        this.toggleAttribute('at-end', thumbSize < 1 && position >= 1);\n        this.toggleAttribute('inactive', thumbSize >= 1);\n    }\n    /** Refreshes scroll state and position */\n    refresh() {\n        this.update();\n        this.updateMarkers();\n    }\n    /** Returns position from MouseEvent coordinates (not normalized) */\n    toPosition(event) {\n        const { horizontal, thumbOffset, trackOffset } = this;\n        const point = getTouchPoint(event);\n        const offset = getOffsetPoint(this.$scrollbarTrack);\n        const pointPosition = horizontal ? point.x - offset.x : point.y - offset.y;\n        const freeTrackArea = trackOffset - thumbOffset; // size of free track px\n        const clickPositionNoOffset = pointPosition - thumbOffset / 2;\n        return clickPositionNoOffset / freeTrackArea;\n    }\n    // Event listeners\n    /** Handles `mousedown` / `touchstart` event to manage thumb drag start and scroll clicks */\n    _onPointerDown(event) {\n        this._initialPosition = this.position;\n        this._pointerPosition = this.toPosition(event);\n        const point = getTouchPoint(event);\n        this._initialMousePosition = this.horizontal ? point.x : point.y;\n        if (event.target === this.$scrollbarThumb) {\n            this._onThumbPointerDown(event); // Drag start handler\n        }\n        else {\n            this._onPointerDownTick(true); // Continuous scroll and click handler\n        }\n        // Subscribes inverse handlers\n        isMouseEvent(event) && this.$$on({ event: 'mouseup', target: window }, this._onPointerUp);\n        isTouchEvent(event) && this.$$on({ event: 'touchend', target: window }, this._onPointerUp);\n        // Prevents default text selection, etc.\n        if (!isTouchEvent(event))\n            event.preventDefault();\n    }\n    /** Handles a scroll click / continuous scroll*/\n    _onPointerDownTick(first) {\n        this._scrollTimer && window.clearTimeout(this._scrollTimer);\n        const position = this.position;\n        const allowedOffset = (first ? 1 : 1.5) * this.thumbSize;\n        this.position = Math.min(position + allowedOffset, Math.max(position - allowedOffset, this._pointerPosition));\n        if (this.position === this._pointerPosition || this.noContinuousScroll)\n            return;\n        this._scrollTimer = window.setTimeout(this._onPointerDownTick, 400);\n    }\n    /** Handles thumb drag start */\n    _onThumbPointerDown(event) {\n        var _a;\n        this.toggleAttribute('dragging', true);\n        (_a = this.$target) === null || _a === void 0 ? void 0 : _a.style.setProperty('scroll-behavior', 'auto');\n        // Attaches drag listeners\n        this.$$on(this._onBodyClick);\n        isMouseEvent(event) && this.$$on({ event: 'mousemove', target: window }, this._onPointerMove);\n        isTouchEvent(event) && this.$$on({ event: 'touchmove', target: window }, this._onPointerMove);\n    }\n    /** Sets position on drag */\n    _onPointerDrag(event) {\n        const point = getTouchPoint(event);\n        const mousePosition = this.horizontal ? point.x : point.y;\n        const positionChange = mousePosition - this._initialMousePosition;\n        const scrollableAreaHeight = this.trackOffset - this.thumbOffset;\n        const absChange = scrollableAreaHeight ? (positionChange / scrollableAreaHeight) : 0;\n        this.position = this._initialPosition + absChange;\n        this.updateMarkers();\n    }\n    /** `mousemove` document handler for thumb drag event. Active only if drag action is active */\n    _onPointerMove(event) {\n        if (!this.dragging)\n            return;\n        // Request position update\n        this._deferredDrag(event);\n        // Prevents default text selection, etc.\n        event.preventDefault();\n        event.stopPropagation();\n    }\n    /** `mouseup` short-time document handler for drag end action */\n    _onPointerUp(event) {\n        var _a;\n        this._scrollTimer && window.clearTimeout(this._scrollTimer);\n        this.toggleAttribute('dragging', false);\n        (_a = this.$target) === null || _a === void 0 ? void 0 : _a.style.removeProperty('scroll-behavior');\n        // Unbinds drag listeners\n        this.$$off(this._onPointerMove);\n        this.$$off(this._onPointerUp);\n    }\n    /** Body `click` short-time handler to prevent clicks event on thumb drag. Handles capture phase */\n    _onBodyClick(event) {\n        event.stopImmediatePropagation();\n    }\n    /**\n     * Handler for refresh event\n     * @param event - instance of 'esl:refresh' event.\n     */\n    _onRefresh(event) {\n        if (!(event.target instanceof Element))\n            return;\n        if (!isRelativeNode(event.target.parentNode, this.$target))\n            return;\n        this._deferredRefresh();\n    }\n    /**\n     * Handler for scroll and resize events\n     * @param event - instance of 'resize' or 'scroll' event\n     */\n    _onScrollOrResize(event) {\n        if (event.type === 'scroll' && this.dragging)\n            return;\n        this._deferredRefresh();\n    }\n};\nESLScrollbar.is = 'esl-scrollbar';\nESLScrollbar.observedAttributes = ['target', 'horizontal'];\n__decorate([\n    boolAttr()\n], ESLScrollbar.prototype, \"horizontal\", void 0);\n__decorate([\n    boolAttr()\n], ESLScrollbar.prototype, \"noContinuousScroll\", void 0);\n__decorate([\n    attr({ defaultValue: '::parent' })\n], ESLScrollbar.prototype, \"target\", void 0);\n__decorate([\n    attr({ defaultValue: 'scrollbar-thumb' })\n], ESLScrollbar.prototype, \"thumbClass\", void 0);\n__decorate([\n    attr({ defaultValue: 'scrollbar-track' })\n], ESLScrollbar.prototype, \"trackClass\", void 0);\n__decorate([\n    boolAttr({ readonly: true })\n], ESLScrollbar.prototype, \"dragging\", void 0);\n__decorate([\n    boolAttr({ readonly: true })\n], ESLScrollbar.prototype, \"inactive\", void 0);\n__decorate([\n    boolAttr({ readonly: true })\n], ESLScrollbar.prototype, \"atStart\", void 0);\n__decorate([\n    boolAttr({ readonly: true })\n], ESLScrollbar.prototype, \"atEnd\", void 0);\n__decorate([\n    ready\n], ESLScrollbar.prototype, \"connectedCallback\", null);\n__decorate([\n    ready\n], ESLScrollbar.prototype, \"disconnectedCallback\", null);\n__decorate([\n    listen('mousedown touchstart')\n], ESLScrollbar.prototype, \"_onPointerDown\", null);\n__decorate([\n    bind\n], ESLScrollbar.prototype, \"_onPointerDownTick\", null);\n__decorate([\n    bind\n], ESLScrollbar.prototype, \"_onThumbPointerDown\", null);\n__decorate([\n    listen({ auto: false, event: 'click', target: window, once: true, capture: true })\n], ESLScrollbar.prototype, \"_onBodyClick\", null);\n__decorate([\n    listen({\n        event: (el) => el.REFRESH_EVENT,\n        target: window\n    })\n], ESLScrollbar.prototype, \"_onRefresh\", null);\nESLScrollbar = __decorate([\n    ExportNs('Scrollbar')\n], ESLScrollbar);\nexport { ESLScrollbar };\n","import { DeviceDetector } from '../../esl-utils/environment/device-detector';\nlet iObserver;\n/** ESL Image lazy loading IntersectionObserver instance */\nexport function getIObserver() {\n    if (!iObserver) {\n        iObserver = new IntersectionObserver(function (entries) {\n            entries.forEach(handleViewport);\n        }, {\n            threshold: [0.01],\n            rootMargin: DeviceDetector.isMobile ? '250px' : '500px' // rootMargin value for IntersectionObserver\n        });\n    }\n    return iObserver;\n}\nfunction handleViewport(entry) {\n    const image = entry.target;\n    // Check that entry is going to appear in the viewport area\n    if (entry.isIntersecting || entry.intersectionRatio > 0) {\n        image.triggerLoad();\n    }\n}\n","/** checks if the attribute is dangerous */\nconst isDangerousAttribute = (name, value) => {\n    const val = value.replace(/\\s+/g, '').toLowerCase();\n    if (['src', 'data', 'href', 'xlink:href'].includes(name)\n        && (val.includes('javascript:') || val.includes('data:text/html')))\n        return true;\n    return name.indexOf('on') === 0;\n};\n/** loops through each attribute, if it's dangerous, remove it */\nconst removeDangerousAttributes = (el) => {\n    Array.from(el.attributes).forEach(({ name, value }) => {\n        if (isDangerousAttribute(name, value)) {\n            el.removeAttribute(name);\n        }\n    });\n};\n/** removes malicious attributes from element and its children */\nconst sanitizeElAttributes = (body) => {\n    Array.from(body.children).forEach((el) => {\n        removeDangerousAttributes(el);\n        sanitizeElAttributes(el);\n    });\n};\n/** removes script elements inside element */\nconst removeScripts = (body) => {\n    const scripts = body.querySelectorAll('script');\n    Array.from(scripts).forEach((script) => script.remove());\n};\nconst filterElements = (body, allowedTopLevelTags) => {\n    if (!allowedTopLevelTags.length)\n        return;\n    Array.from(body.childNodes).forEach((el) => {\n        if (!allowedTopLevelTags.includes(el.tagName))\n            body.removeChild(el);\n    });\n};\n/**\n * Sanitizes html string from malicious attributes, values, and scripts\n * Can also filter elements at the top nesting level by tag names.\n * @param html - html string to sanitize\n * @param allowedTopLevelTags - array of allowed tag names\n */\nexport function sanitize(html, allowedTopLevelTags = []) {\n    // converts the string to an HTML document\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n    const body = doc.body || document.createElement('body');\n    // sanitizes html\n    removeScripts(body);\n    sanitizeElAttributes(body);\n    // filter allowed tags\n    filterElements(body, allowedTopLevelTags);\n    return body.innerHTML;\n}\n","import { sanitize } from '../../esl-utils/dom/sanitize';\nexport const EMPTY_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\nexport const isEmptyImage = (src) => src === EMPTY_IMAGE;\nexport const STRATEGIES = {\n    'cover': {\n        apply(img, shadowImg) {\n            const src = shadowImg.src;\n            const isEmpty = !src || isEmptyImage(src);\n            img.style.backgroundImage = isEmpty ? '' : `url(\"${src}\")`;\n        },\n        clear(img) {\n            img.style.backgroundImage = '';\n        }\n    },\n    'save-ratio': {\n        apply(img, shadowImg) {\n            const src = shadowImg.src;\n            const isEmpty = !src || isEmptyImage(src);\n            img.style.backgroundImage = isEmpty ? '' : `url(\"${src}\")`;\n            if (shadowImg.width === 0)\n                return;\n            img.style.paddingTop = isEmpty ? '' : `${(shadowImg.height * 100 / shadowImg.width)}%`;\n        },\n        clear(img) {\n            img.style.paddingTop = '';\n            img.style.backgroundImage = '';\n        }\n    },\n    'fit': {\n        apply(img, shadowImg) {\n            const innerImg = img.attachInnerImage();\n            innerImg.src = shadowImg.src;\n            innerImg.removeAttribute('width');\n        },\n        clear(img) {\n            img.removeInnerImage();\n        }\n    },\n    'origin': {\n        apply(img, shadowImg) {\n            const innerImg = img.attachInnerImage();\n            innerImg.src = shadowImg.src;\n            innerImg.width = shadowImg.width / window.devicePixelRatio;\n        },\n        clear(img) {\n            img.removeInnerImage();\n        }\n    },\n    'inner-svg': {\n        apply(img, shadowImg) {\n            const request = new XMLHttpRequest();\n            request.open('GET', shadowImg.src, true);\n            request.onreadystatechange = () => {\n                if (request.readyState !== 4 || request.status !== 200)\n                    return;\n                img.innerHTML = sanitize(request.responseText, ['svg']);\n            };\n            request.send();\n        },\n        clear(img) {\n            img.innerHTML = '';\n        }\n    }\n};\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ESLImage_1;\nimport { ExportNs } from '../../esl-utils/environment/export-ns';\nimport { bind, prop, attr, boolAttr } from '../../esl-utils/decorators';\nimport { CSSClassUtils } from '../../esl-utils/dom/class';\nimport { ESLBaseElement } from '../../esl-base-element/core';\nimport { ESLMediaRuleList } from '../../esl-media-query/core';\nimport { ESLTraversingQuery } from '../../esl-traversing-query/core/esl-traversing-query';\nimport { getIObserver } from './esl-image-iobserver';\nimport { EMPTY_IMAGE, STRATEGIES, isEmptyImage } from './esl-image-strategies';\nconst isLoadState = (state) => ['error', 'loaded', 'ready'].includes(state);\n/**\n * ESLImage - custom element, that provides flexible ways to include images on web pages.\n * Was originally developed as an alternative to `<picture>` element, but with more features inside.\n *\n * @author Alexey Stsefanovich (ala'n), Yuliya Adamskaya\n */\nlet ESLImage = ESLImage_1 = class ESLImage extends ESLBaseElement {\n    connectedCallback() {\n        super.connectedCallback();\n        this.alt =\n            this.alt || this.getAttribute('aria-label') || this.getAttribute('data-alt') || '';\n        this.updateA11y();\n        this.srcRules.addEventListener(this._onMediaMatchChange);\n        if (this.lazyObservable) {\n            this.removeAttribute('lazy-triggered');\n            getIObserver().observe(this);\n            this._detachLazyTrigger = function () {\n                getIObserver().unobserve(this);\n                this._detachLazyTrigger = null;\n            };\n        }\n        this.refresh();\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        this._detachLazyTrigger && this._detachLazyTrigger();\n        if (this._srcRules) {\n            this._srcRules.removeEventListener(this._onMediaMatchChange);\n        }\n    }\n    attributeChangedCallback(attrName, oldVal, newVal) {\n        if (!this.connected || oldVal === newVal)\n            return;\n        switch (attrName) {\n            case 'aria-label':\n                this.alt = newVal || '';\n                break;\n            case 'alt':\n            case 'role':\n                this.updateA11y();\n                break;\n            case 'data-src':\n                this.srcRules = ESLMediaRuleList.parse(newVal);\n                this.refresh();\n                break;\n            case 'data-src-base':\n                this.refresh();\n                break;\n            case 'mode':\n                this.changeMode(oldVal, newVal);\n                break;\n            case 'lazy-triggered':\n                this.lazyTriggered && this.update();\n                break;\n        }\n    }\n    get srcRules() {\n        if (!this._srcRules) {\n            this.srcRules = ESLMediaRuleList.parse(this.src);\n        }\n        return this._srcRules;\n    }\n    set srcRules(rules) {\n        if (this._srcRules) {\n            this._srcRules.removeEventListener(this._onMediaMatchChange);\n        }\n        this._srcRules = rules;\n        this._srcRules.addEventListener(this._onMediaMatchChange);\n    }\n    get currentSrc() {\n        return this._currentSrc;\n    }\n    get empty() {\n        return !this._currentSrc || isEmptyImage(this._currentSrc);\n    }\n    get canUpdate() {\n        return this.lazyTriggered || this.lazy === 'none';\n    }\n    get lazyObservable() {\n        return this.lazy !== 'none' && this.lazy !== 'manual';\n    }\n    get originalWidth() {\n        return this._shadowImageElement ? this._shadowImageElement.width : 0;\n    }\n    get originalHeight() {\n        return this._shadowImageElement ? this._shadowImageElement.height : 0;\n    }\n    triggerLoad() {\n        this.setAttribute('lazy-triggered', '');\n    }\n    changeMode(oldVal, newVal) {\n        oldVal = oldVal || 'save-ratio';\n        newVal = newVal || 'save-ratio';\n        if (oldVal === newVal)\n            return;\n        if (!STRATEGIES[newVal]) {\n            this.mode = oldVal;\n            throw new Error('ESL Image: Unsupported mode: ' + newVal);\n        }\n        this.clearImage();\n        if (this.loaded)\n            this.syncImage();\n    }\n    update(force = false) {\n        if (!this.canUpdate)\n            return;\n        const src = this.getPath(this.srcRules.activeValue);\n        if (this._currentSrc !== src || !this.ready || force) {\n            this._currentSrc = src;\n            this._shadowImg.src = src;\n            if (this.refreshOnUpdate || !this.ready) {\n                this.syncImage();\n            }\n            if (this._shadowImg.complete) {\n                this._shadowImgError ? this._onError() : this._onLoad();\n            }\n        }\n        this._detachLazyTrigger && this._detachLazyTrigger();\n    }\n    updateA11y() {\n        const role = this.getAttribute('role') || 'img';\n        this.setAttribute('role', role);\n        this.innerImage && (this.innerImage.alt = this.alt);\n        if (role === 'img')\n            this.setAttribute('aria-label', this.alt);\n    }\n    getPath(src) {\n        if (!src || src === '0' || src === 'none') {\n            return ESLImage_1.EMPTY_IMAGE;\n        }\n        return this.srcBase + src;\n    }\n    refresh() {\n        this.removeAttribute('loaded');\n        this.removeAttribute('ready');\n        this.updateContainerClasses();\n        this.clearImage();\n        this.update(true);\n    }\n    syncImage() {\n        const strategy = STRATEGIES[this.mode];\n        this._strategy = strategy;\n        strategy && strategy.apply(this, this._shadowImg);\n    }\n    clearImage() {\n        this._strategy && this._strategy.clear(this);\n        this._strategy = null;\n    }\n    get innerImage() {\n        return this._innerImg;\n    }\n    attachInnerImage() {\n        if (!this._innerImg) {\n            this._innerImg = this.querySelector(`img.${this.innerImageClass}`) ||\n                this._shadowImg.cloneNode();\n            this._innerImg.className = this.innerImageClass;\n        }\n        if (!this._innerImg.parentNode) {\n            this.appendChild(this._innerImg);\n        }\n        this._innerImg.alt = this.alt;\n        return this._innerImg;\n    }\n    removeInnerImage() {\n        if (!this.innerImage)\n            return;\n        this.removeChild(this.innerImage);\n        setTimeout(() => {\n            if (this._innerImg && !this._innerImg.parentNode) {\n                this._innerImg = null;\n            }\n        });\n    }\n    get _shadowImg() {\n        if (!this._shadowImageElement) {\n            this._shadowImageElement = new Image();\n            this._shadowImageElement.onload = this._onLoad;\n            this._shadowImageElement.onerror = this._onError;\n        }\n        return this._shadowImageElement;\n    }\n    get _shadowImgError() {\n        if (!this._shadowImg.complete)\n            return false;\n        if (this._shadowImg.src.slice(-4) === '.svg')\n            return false;\n        return this._shadowImg.naturalHeight <= 0;\n    }\n    _onLoad() {\n        this.syncImage();\n        this._onReadyState(true);\n        this.updateContainerClasses();\n    }\n    _onError() {\n        this._onReadyState(false);\n        this.updateContainerClasses();\n    }\n    _onMediaMatchChange() {\n        this.update();\n    }\n    _onReadyState(successful) {\n        if (this.ready)\n            return;\n        this.toggleAttribute('loaded', successful);\n        this.toggleAttribute('error', !successful);\n        this.toggleAttribute('ready', true);\n        this.$$fire(successful ? this.LOAD_EVENT : this.ERROR_EVENT, { bubbles: false });\n        this.$$fire(this.READY_EVENT, { bubbles: false });\n    }\n    updateContainerClasses() {\n        if (this.containerClass === null)\n            return;\n        const cls = this.containerClass || this.constructor.DEFAULT_CONTAINER_CLS;\n        const state = isLoadState(this.containerClassState) && this[this.containerClassState];\n        const targetEl = ESLTraversingQuery.first(this.containerClassTarget, this);\n        targetEl && CSSClassUtils.toggle(targetEl, cls, state);\n    }\n};\nESLImage.is = 'esl-image';\nESLImage.observedAttributes = ['alt', 'role', 'mode', 'aria-label', 'data-src', 'data-src-base', 'lazy-triggered'];\n/** Default container class value */\nESLImage.DEFAULT_CONTAINER_CLS = 'img-container-loaded';\nESLImage.STRATEGIES = STRATEGIES;\nESLImage.EMPTY_IMAGE = EMPTY_IMAGE;\n__decorate([\n    prop('ready')\n], ESLImage.prototype, \"READY_EVENT\", void 0);\n__decorate([\n    prop('load')\n], ESLImage.prototype, \"LOAD_EVENT\", void 0);\n__decorate([\n    prop('error')\n], ESLImage.prototype, \"ERROR_EVENT\", void 0);\n__decorate([\n    attr()\n], ESLImage.prototype, \"alt\", void 0);\n__decorate([\n    attr({ defaultValue: 'save-ratio' })\n], ESLImage.prototype, \"mode\", void 0);\n__decorate([\n    attr({ dataAttr: true })\n], ESLImage.prototype, \"src\", void 0);\n__decorate([\n    attr({ dataAttr: true })\n], ESLImage.prototype, \"srcBase\", void 0);\n__decorate([\n    attr({ defaultValue: 'none' })\n], ESLImage.prototype, \"lazy\", void 0);\n__decorate([\n    boolAttr()\n], ESLImage.prototype, \"lazyTriggered\", void 0);\n__decorate([\n    boolAttr()\n], ESLImage.prototype, \"refreshOnUpdate\", void 0);\n__decorate([\n    attr({ defaultValue: 'inner-image' })\n], ESLImage.prototype, \"innerImageClass\", void 0);\n__decorate([\n    attr({ defaultValue: null })\n], ESLImage.prototype, \"containerClass\", void 0);\n__decorate([\n    attr({ defaultValue: '::parent' })\n], ESLImage.prototype, \"containerClassTarget\", void 0);\n__decorate([\n    attr({ defaultValue: 'ready' })\n], ESLImage.prototype, \"containerClassState\", void 0);\n__decorate([\n    boolAttr({ readonly: true })\n], ESLImage.prototype, \"ready\", void 0);\n__decorate([\n    boolAttr({ readonly: true })\n], ESLImage.prototype, \"loaded\", void 0);\n__decorate([\n    boolAttr({ readonly: true })\n], ESLImage.prototype, \"error\", void 0);\n__decorate([\n    bind\n], ESLImage.prototype, \"_onLoad\", null);\n__decorate([\n    bind\n], ESLImage.prototype, \"_onError\", null);\n__decorate([\n    bind\n], ESLImage.prototype, \"_onMediaMatchChange\", null);\nESLImage = ESLImage_1 = __decorate([\n    ExportNs('Image')\n], ESLImage);\nexport { ESLImage };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { attr } from '@exadel/esl/modules/esl-utils/decorators/attr';\nimport { prop } from '@exadel/esl/modules/esl-utils/decorators/prop';\nimport { listen } from '@exadel/esl/modules/esl-utils/decorators/listen';\nimport { ESLMediaQuery } from '@exadel/esl/modules/esl-media-query/core';\nimport { ESLToggleable } from '@exadel/esl/modules/esl-toggleable/core';\nexport class EAKSidebar extends ESLToggleable {\n    constructor() {\n        super(...arguments);\n        this.closeOnEsc = true;\n        this.closeOnOutsideAction = true;\n        this.submenus = '.sidebar-nav-secondary.nav-secondary-panel';\n        this.activeMenuAttr = 'data-open';\n    }\n    get $submenus() {\n        return Array.from(this.querySelectorAll(this.submenus));\n    }\n    setInitialState() {\n        const isDesktop = ESLMediaQuery.for('@+MD').matches;\n        this.toggle(isDesktop, { force: true, initiator: 'init', immediate: true });\n    }\n    collapseAll() {\n        this.$submenus.forEach((menu) => menu.hide({ activator: this }));\n    }\n    expandActive(noCollapse = false) {\n        this.$submenus\n            .filter((menu) => menu.hasAttribute('data-open'))\n            .forEach((menu) => menu.show({ noCollapse, activator: this }));\n    }\n    updateA11y() {\n        const targetEl = this.$a11yTarget;\n        if (!targetEl)\n            return;\n        targetEl.setAttribute('aria-expanded', String(this.open));\n    }\n    hide(params) {\n        if (ESLMediaQuery.for('@+MD').matches)\n            return this;\n        return super.hide(params);\n    }\n    onShow(params) {\n        this._animation = !params.immediate;\n        super.onShow(params);\n        this.expandActive(params.initiator === 'init');\n    }\n    onHide(params) {\n        this._animation = !params.immediate;\n        super.onHide(params);\n        this.collapseAll();\n    }\n    onBreakpointChange({ matches: isDesktop }) {\n        this.toggle(isDesktop, { force: true, initiator: 'bp-change', immediate: !isDesktop });\n    }\n}\nEAKSidebar.is = 'eak-sidebar';\n__decorate([\n    prop()\n], EAKSidebar.prototype, \"closeOnEsc\", void 0);\n__decorate([\n    prop()\n], EAKSidebar.prototype, \"closeOnOutsideAction\", void 0);\n__decorate([\n    prop()\n], EAKSidebar.prototype, \"submenus\", void 0);\n__decorate([\n    prop()\n], EAKSidebar.prototype, \"activeMenuAttr\", void 0);\n__decorate([\n    attr({ name: 'animation' })\n], EAKSidebar.prototype, \"_animation\", void 0);\n__decorate([\n    listen({\n        event: 'change',\n        target: ESLMediaQuery.for('@+MD')\n    })\n], EAKSidebar.prototype, \"onBreakpointChange\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ESLBaseElement, attr } from '@exadel/esl/modules/esl-base-element/core';\nimport { ready } from '@exadel/esl/modules/esl-utils/decorators/ready';\nimport { isIE } from '@exadel/esl/modules/esl-utils/environment/device-detector';\nimport { bind } from '@exadel/esl/modules/esl-utils/decorators/bind';\nimport { memoize } from '@exadel/esl/modules/esl-utils/decorators/memoize';\nimport { range } from '@exadel/esl/modules/esl-utils/misc/array';\nexport class EAKBanner extends ESLBaseElement {\n    constructor() {\n        super(...arguments);\n        this._animateTimer = 0;\n        this._$active = [];\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        if (isIE)\n            return;\n        this.startAnimation();\n    }\n    disconnectedCallback() {\n        this.stopAnimation();\n        super.disconnectedCallback();\n    }\n    get $lines() {\n        return Array.from(this.querySelectorAll(EAKBanner.TARGETS));\n    }\n    get $randomLine() {\n        const index = Math.floor(Math.random() * this.$lines.length);\n        return this.$lines[index];\n    }\n    startAnimation() {\n        this._onIteration();\n    }\n    stopAnimation() {\n        this._animateTimer && window.clearTimeout(this._animateTimer);\n    }\n    _onIteration() {\n        const $candidates = range(this.targetsNumber, () => this.$randomLine);\n        const delay = this.iterationTime / this.targetsNumber;\n        if (!$candidates.length)\n            return;\n        this._$active.forEach((line, i) => {\n            window.setTimeout(() => {\n                line.classList.remove('animate');\n                line.style.strokeDashoffset = '';\n            }, delay * i);\n        });\n        $candidates.forEach((line, i) => {\n            window.setTimeout(() => {\n                line.classList.add('animate');\n                const lineLength = line.getTotalLength();\n                line.style.strokeDasharray = lineLength + '';\n                line.style.strokeDashoffset = lineLength + '';\n            }, delay * i);\n        });\n        this._$active = $candidates;\n        this._animateTimer = window.setTimeout(this._onIteration, this.iterationTime);\n    }\n}\nEAKBanner.is = 'eak-banner';\nEAKBanner.TARGETS = 'g > path';\n__decorate([\n    attr({ defaultValue: 2, parser: parseInt })\n], EAKBanner.prototype, \"targetsNumber\", void 0);\n__decorate([\n    attr({ defaultValue: 4000, parser: parseInt })\n], EAKBanner.prototype, \"iterationTime\", void 0);\n__decorate([\n    ready\n], EAKBanner.prototype, \"connectedCallback\", null);\n__decorate([\n    memoize()\n], EAKBanner.prototype, \"$lines\", null);\n__decorate([\n    bind\n], EAKBanner.prototype, \"_onIteration\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ESLBaseElement } from '@exadel/esl/modules/esl-base-element/core';\nimport { listen } from '@exadel/esl/modules/esl-utils/decorators/listen';\nimport { attr } from '@exadel/esl/modules/esl-utils/decorators/attr';\nimport { boolAttr } from '@exadel/esl/modules/esl-utils/decorators/bool-attr';\nimport { memoize } from '@exadel/esl/modules/esl-utils/decorators/memoize';\nimport { getTouchPoint } from '@exadel/esl/modules/esl-utils/dom/events/misc';\nexport class EAKZoomImage extends ESLBaseElement {\n    get $image() {\n        const originalImage = document.createElement('esl-image');\n        originalImage.setAttribute('data-src', this.src);\n        originalImage.setAttribute('lazy', '');\n        originalImage.setAttribute('mode', 'fit');\n        return originalImage;\n    }\n    get $closeButton() {\n        const button = document.createElement('button');\n        button.setAttribute('class', 'close-button');\n        return button;\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.appendChild(this.$image);\n        this.appendChild(this.$closeButton);\n    }\n    zoom() {\n        if (this.inDrag || this.inZoom)\n            return;\n        this.inZoom = true;\n        this.$image.style.transform = `scale(${this.scale})`;\n        this.$image.style.marginTop = '0';\n        this.$image.style.marginLeft = '0';\n        this.style.width = `${this.$image.offsetWidth}px`;\n        this.style.height = `${this.$image.offsetHeight}px`;\n        this.$$on('pointerdown', this.onPointerDown);\n    }\n    unzoom() {\n        this.inZoom = false;\n        this.$image.style.removeProperty('transform');\n        this.$image.style.marginTop = '0';\n        this.$image.style.marginLeft = '0';\n        this.style.width = 'auto';\n        this.style.height = 'auto';\n        this.$$off(this.onPointerDown);\n    }\n    onPointerDown(e) {\n        this.inDrag = true;\n        this.startPoint = getTouchPoint(e);\n        this.startPosition = {\n            x: parseInt(this.$image.style.marginLeft, 10) || 0,\n            y: parseInt(this.$image.style.marginTop, 10) || 0,\n        };\n        this.$$on('pointermove', this.onPointerMove);\n        this.$$on('pointerup', this.onPointerUp);\n        this.setPointerCapture(e.pointerId);\n        e.preventDefault();\n    }\n    onPointerUp(e) {\n        if (!this.inDrag)\n            return;\n        e.preventDefault();\n        this.inDrag = false;\n        this.$$off(this.onPointerMove);\n        this.$$off(this.onPointerUp);\n        this.releasePointerCapture(e.pointerId);\n    }\n    onPointerMove(e) {\n        if (!this.inDrag)\n            return;\n        const point = getTouchPoint(e);\n        const scale = parseInt(this.scale, 10);\n        const offsetX = point.x - this.startPoint.x;\n        const offsetY = point.y - this.startPoint.y;\n        const maxOffsetX = (this.$image.offsetWidth * scale - this.offsetWidth) * 0.5;\n        const maxOffsetY = (this.$image.offsetHeight * scale - this.offsetHeight) * 0.5;\n        if (maxOffsetX < 0 || maxOffsetY < 0)\n            return;\n        const x = this.startPosition.x + offsetX;\n        const y = this.startPosition.y + offsetY;\n        const normalizedX = Math.min(maxOffsetX, Math.max(-maxOffsetX, x));\n        const normalizedY = Math.min(maxOffsetY, Math.max(-maxOffsetY, y));\n        this.$image.style.marginTop = `${normalizedY}px`;\n        this.$image.style.marginLeft = `${normalizedX}px`;\n        e.preventDefault();\n    }\n    onClick(e) {\n        const isCloseBtn = this.$closeButton.contains(e.target);\n        isCloseBtn ? this.unzoom() : this.zoom();\n    }\n    onOutsideClick(e) {\n        if (!this.$image.contains(e.target)) {\n            this.unzoom();\n        }\n    }\n}\nEAKZoomImage.is = 'eak-zoom-image';\n__decorate([\n    attr({ dataAttr: true })\n], EAKZoomImage.prototype, \"src\", void 0);\n__decorate([\n    attr({ defaultValue: '2' })\n], EAKZoomImage.prototype, \"scale\", void 0);\n__decorate([\n    boolAttr()\n], EAKZoomImage.prototype, \"inZoom\", void 0);\n__decorate([\n    boolAttr()\n], EAKZoomImage.prototype, \"inDrag\", void 0);\n__decorate([\n    memoize()\n], EAKZoomImage.prototype, \"$image\", null);\n__decorate([\n    memoize()\n], EAKZoomImage.prototype, \"$closeButton\", null);\n__decorate([\n    listen('pointerdown')\n], EAKZoomImage.prototype, \"onClick\", null);\n__decorate([\n    listen({ event: 'pointerdown', target: 'body' })\n], EAKZoomImage.prototype, \"onOutsideClick\", null);\n","import { ESLTabs, ESLTab, ESLPanel, ESLPanelGroup, ESLTrigger, ESLScrollbar, ESLToggleableDispatcher, ESLImage, } from '@exadel/esl';\nimport { EAKSidebar } from './navigation/navigation';\nimport { EAKBanner } from './landing/banner/banner';\nimport { EAKZoomImage } from './eak-zoom-image/eak-zoom-image';\nESLTabs.register();\nESLTab.register();\nESLToggleableDispatcher.init();\nESLPanelGroup.register();\nESLPanel.register();\nESLTrigger.register();\nESLScrollbar.register();\nESLImage.register();\nEAKBanner.register();\nEAKSidebar.register();\nEAKZoomImage.register();\n"],"names":["__webpack_require__","g","globalThis","this","Function","e","window","ExportNs","name","module","root","value","split","reduce","obj","key","index","parts","length","type","Error","exportNs","getAttr","$el","fallback","$host","getAttribute","setAttr","removeAttribute","setAttribute","prop","prototypeConfig","Object","hasOwnProperty","call","TypeError","defineProperty","writable","readonly","enumerable","configurable","declare","isMouseEvent","event","MouseEvent","isTouchEvent","TouchEvent","PASSIVE_EVENTS","isPassiveByDefault","includes","getCompositeTarget","targets","composedPath","target","getTouchPoint","source","changedTouches","x","pageX","y","pageY","defined","params","param","undefined","getPropertyDescriptor","o","proto","desc","getOwnPropertyDescriptor","getPrototypeOf","identity","arg","resolveProperty","val","origin","wrap","arr","Array","isArray","uniq","slice","result","set","Set","forEach","item","add","push","memoizeFn","fn","hashFn","defaultArgsHashFn","memo","args","console","warn","apply","cache","has","get","Map","clear","String","isObject","memoize","descriptor","originalMethod","locks","defineOwnKeySafe","memoizeGetter","memoizeMethod","WeakMap","delete","isEqual","obj1","obj2","is","keys1","keys","keys2","some","isSimilar","mask","deep","arrObj","arrMask","comparer","every","itm","property","toKeyDef","parseKeysPath","path","start","end","substring","isIndex","Math","floor","getByPath","data","defaultValue","map","parseKeys","curr","toKebabCase","str","replace","toLowerCase","unwrapParenthesis","trim","parseString","parseNumber","nanValue","NaN","isNaN","evaluate","DEF_FORMAT_MATCHER","isRelativeNode","nodeA","nodeB","contains","createSequenceFinder","next","includeSelf","base","predicate","matches","findNext","el","nextElementSibling","findPrev","previousElementSibling","findParent","parentElement","findClosest","findAll","sel","from","querySelectorAll","findChildren","children","filter","TraversingUtils","isRelative","closestBy","node","skipSelf","current","parentNode","ESLTraversingQuery_1","ESLTraversingQuery","PROCESSORS_REGEX","ELEMENT_PROCESSORS","concat","COLLECTION_PROCESSORS","RegExp","join","static","selString","els","collection","processors","findFirst","processor","rest","isCollectionProcessor","processedItem","processCollection","traverseChain","processElement","resultCollection","last","stack","i","max","query","scope","document","found","part","splitQueries","traverseQuery","term","rootSel","shift","baseCollection","initial","acc","traverse","list","decorators","d","c","arguments","r","Reflect","decorate","__decorate","STORE","ESLEventListener","constructor","host","handler","defaults","capture","passive","assign","$targets","all","HTMLElement","delegate","selector","handleEvent","handlerBound","bind","handlerFull","once","unsubscribe","isDelegatedTarget","currentTarget","closest","subscribe","addEventListener","removeEventListener","remove","criteria","listeners","listener","instance","eventString","events","terms","deduplicate","splitEvents","subscribed","prototype","ESLEventUtils_1","ESLEventUtils","eventName","eventInit","init","bubbles","composed","cancelable","dispatchEvent","CustomEvent","dispatchCustomEvent","auto","isEventDescriptor","extractValues","eventDesc","createOrResolve","lockStore","className","locker","elLocks","classLocks","lock","classList","size","unlock","CSSClassUtils","tokenString","cls","tokens","splitTokens","state","_a","ESLBaseElement","super","_connected","connectedCallback","descriptors","disconnectedCallback","connected","$$on","$$off","condition","$$cls","toggle","$$attr","prevValue","$$fire","dispatch","tagName","customElements","define","registered","whenDefined","createElement","afterNextRender","callback","requestAnimationFrame","rafDecorator","lastArgs","attr","config","propName","attrName","dataAttr","buildAttrName","parser","serializer","listen","propertyKey","superDesc","inherit","decorator","originalFn","getBound","decoratedFn","RTLUtils","getComputedStyle","body","direction","scrollType","appendChild","createTextNode","dir","style","position","top","width","height","fontSize","overflow","createDummyEl","scrollLeft","removeChild","isRtl","scrollWidth","clientWidth","promisifyEvent","timeout","options","Promise","resolve","reject","eventCallback","setTimeout","createDeferred","promise","res","rej","PromiseUtils","debounce","wait","thisArg","deferred","debouncedSubject","clearTimeout","deepMerge","objects","fromTimeout","payload","isReject","fromEvent","fromMarker","marker","then","repeat","repeatSequence","count","tryUntil","tryCount","check","SyntheticEventTarget","_listeners","hasEventListener","minCount","validateEventListenerType","cb","defaultPrevented","addListener","removeListener","userAgent","vendor","platform","navigator","isTrident","test","isIE","isEdgeHTML","isBlinkEdge","isEdge","isGecko","isFirefox","isOpera","isChrome","isWebkit","isSafari","isBlink","isBot","isAndroid","isMobileIOS13","maxTouchPoints","isMobileIOS","isLegacyMobile","isMobile","isMobileSafari","isTouchDevice","navApi","msMaxTouchPoints","Touch","hasHover","matchMedia","TOUCH_EVENTS","START","MOVE","END","DeviceDetector","ESLScreenDPR_1","ESLScreenDPR","dpr","toFixed","match","VALUE_REGEXP","parseFloat","ignoreBotsDpr","toDPI","ESLScreenBreakpoints_1","registry","ESLScreenBreakpoints","minWidth","maxWidth","BP_NAME_REGEXP","ESLScreenBreakpoint","names","sign","bp","BP_REGEXP","shortcut","mediaQueryGE","mediaQueryLE","mediaQuery","min","toString","shortcuts","ESLEnvShortcuts","_shortcuts","MediaQueryConstCondition","_matches","optimize","eq","ALL","NOT_ALL","ESLMediaChangeEvent","Event","media","MediaQueryCondition","inverted","_inverted","_mq","_onChange","MediaQueryContainer","items","MediaQueryConjunction","optimizedItems","MediaQueryDisjunction","pretty","ESLMediaQuery_1","ESLMediaQuery","preprocessor","_preprocessors","unshift","conjunctions","conditions","parseSimpleQuery","SHORTCUT_PATTERN","replacer","process","queryInverted","processedQuery","preprocess","sanitizedQuery","invert","use","ESLMediaRule","JSON","stringify","payloadValue","lex","create","ESLMediaRuleList_1","ESLMediaRuleListEvent","previous","ESLMediaRuleList","common","pop","parseTuple","parseQuery","rules","parse","rule","values","queries","valueList","validRules","_rules","_onMatchChanged","_value","computedValue","active","activeValue","activeValues","curValue","newValue","STRING_PARSER","OBJECT_PARSER","boolAttr","readOnly","hasAttribute","buildConditionalDescriptor","ready","readyState","ENTER","ESC","SPACE","SYSTEM_KEYS","ESLToggleablePlaceholder","$placeholder","$origin","copyAttributesFromOrigin","allowedAttrs","ESLTrigger","attributeChangedCallback","updateTargetFromSelector","$target","_$target","newPopupInstance","_onTargetStateChange","$a11yTarget","a11yTarget","querySelector","a11yLabel","open","a11yLabelActive","a11yLabelInactive","allowHover","trackHover","allowClick","trackClick","initA11y","first","isTargetIgnored","ignore","$ignore","mergeToggleableParams","initiator","activator","showTarget","actionParams","delay","showDelay","show","hideTarget","hideDelay","hide","toggleTarget","updateState","isActive","wasActive","toggleAttribute","clsTarget","activeClassTarget","activeClass","updateA11y","originalEvent","detail","CHANGE_EVENT","_onClick","preventDefault","_onPrimaryEvent","_onKeydown","ignoreEsc","mode","_onMouseEnter","hoverShowDelay","_onMouseLeave","hoverHideDelay","id","observedAttributes","that","OBSERVED_EVENTS","ESLTab","ESLTabs_1","ESLTabs","_deferredUpdateArrows","updateArrows","_deferredFitToViewport","fitToViewport","scrollableTypeRules","scrollable","currentScrollableType","updateScrollableType","oldVal","newVal","_onScrollableTypeChange","bindScrollableEvents","_onScroll","_onResize","unbindScrollableEvents","$tabs","$current","find","$scrollableTarget","scrollableTarget","isScrollable","moveTo","behavior","left","offsetWidth","scrollBy","$trigger","updateMarkers","areaRect","getBoundingClientRect","itemRect","calcScrollOffset","isReversedRTL","right","ceil","swapSides","scrollStart","abs","scrollEnd","$rightArrow","$leftArrow","hasScroll","supportedScrollableTypes","_onTriggerStateChange","dataset","tabDirection","_onFocus","jsonAttr","error","buildJsonAttrDescriptor","ns","sequences","__esl_sequences__","DelayedTask","_fn","_timeout","run","put","task","prev","cancel","activators","ESLToggleable","_open","_task","_trackHover","noAutoId","tag","prefix","uid","sequentialUID","initiallyOpened","setInitialState","GROUP_CHANGED_EVENT","oldGroupName","newGroupName","initialParams","bindOutsideEventTracking","track","_onOutsideAction","bindHoverStateTracking","_trackHoverDelay","mergeDefaultParams","defaultParams","copy","showTask","closeOnOutsideAction","hideTask","force","silent","BEFORE_SHOW_EVENT","onShow","SHOW_EVENT","BEFORE_HIDE_EVENT","onHide","HIDE_EVENT","bodyClass","REFRESH_EVENT","targetEl","isOutsideAction","KeyboardEvent","_onCloseClick","_onKeyboardEvent","closeOnEsc","baseParams","trackHoverParams","buildRequestParams","matcher","_onShowRequest","_onHideRequest","closeTrigger","SHOW_REQUEST_EVENT","HIDE_REQUEST_EVENT","ESLToggleableDispatcher","_popups","getElementsByTagName","register","insertAdjacentElement","isAcceptable","groupName","hideActive","getActive","dispatcher","setActive","popup","deleteActive","_onBeforeShow","_onShow","_onHide","_onChangeGroup","ESLPanel","_initialHeight","initialHeight","$group","panelGroupSel","scrollHeight","beforeAnimate","noAnimate","postAnimate","capturedBy","onAnimate","animateClass","postAnimateClass","AFTER_ANIMATE_EVENT","afterAnimate","to","setProperty","fallbackAnimate","distance","maxHeight","clientHeight","animating","clearAnimation","AFTER_SHOW_EVENT","AFTER_HIDE_EVENT","removeProperty","_onTransitionEnd","propertyName","stackConfig","panelConfig","ESLPanelGroup_1","parseCount","Number","POSITIVE_INFINITY","parseInt","ESLPanelGroup","_previousHeight","refresh","_onConfigChange","prevMode","currentMode","updateModeCls","reset","MODE_CHANGE_EVENT","modeCls","modeClsTarget","supportedModes","format","modeRules","minValueRules","minOpenItems","maxValueRules","maxOpenItems","refreshRules","refreshStrategy","currentMinItems","$panels","currentMaxItems","panelSel","includesPanel","$activePanels","$initialPanels","$resetStatePanels","shouldAnimate","mergeActionParams","showAll","excluded","hideAll","$orderedPanels","activeCount","transformParams","panel","animationClass","_b","_c","balanceMarker","_onBeforeHide","$firstInactive","$panel","group","iObserver","ESLScrollbar","_deferredDrag","_onPointerDrag","_deferredRefresh","_scrollTimer","_resizeObserver","ResizeObserver","_mutationObserver","MutationObserver","rec","updateContentObserve","render","findTarget","unbindTargetEvents","content","bindTargetEvents","innerHTML","$scrollbarTrack","trackClass","$scrollbarThumb","thumbClass","documentElement","_onScrollOrResize","observe","childList","recs","contentChanges","addedNodes","Element","removedNodes","unobserve","disconnect","scrollableSize","horizontal","trackOffset","offsetHeight","thumbOffset","thumbSize","areaSize","scrollSize","scrollOffset","normalizeScrollLeft","scrollTop","scrollTargetTo","normalizePosition","update","relativePosition","pos","scrollTo","dragging","thumbPosition","toPosition","point","offset","props","scrollY","scrollX","getOffsetPoint","_onPointerDown","_initialPosition","_pointerPosition","_initialMousePosition","_onThumbPointerDown","_onPointerDownTick","_onPointerUp","allowedOffset","noContinuousScroll","_onBodyClick","_onPointerMove","positionChange","scrollableAreaHeight","absChange","stopPropagation","stopImmediatePropagation","_onRefresh","getIObserver","IntersectionObserver","entries","handleViewport","threshold","rootMargin","entry","image","isIntersecting","intersectionRatio","triggerLoad","sanitizeElAttributes","attributes","indexOf","isDangerousAttribute","removeDangerousAttributes","EMPTY_IMAGE","isEmptyImage","src","STRATEGIES","img","shadowImg","isEmpty","backgroundImage","paddingTop","innerImg","attachInnerImage","removeInnerImage","devicePixelRatio","request","XMLHttpRequest","onreadystatechange","status","html","allowedTopLevelTags","DOMParser","parseFromString","scripts","script","removeScripts","childNodes","filterElements","sanitize","responseText","send","ESLImage_1","ESLImage","alt","srcRules","_onMediaMatchChange","lazyObservable","_detachLazyTrigger","_srcRules","changeMode","lazyTriggered","currentSrc","_currentSrc","empty","canUpdate","lazy","originalWidth","_shadowImageElement","originalHeight","clearImage","loaded","syncImage","getPath","_shadowImg","refreshOnUpdate","complete","_shadowImgError","_onError","_onLoad","role","innerImage","srcBase","updateContainerClasses","strategy","_strategy","_innerImg","innerImageClass","cloneNode","Image","onload","onerror","naturalHeight","_onReadyState","successful","LOAD_EVENT","ERROR_EVENT","READY_EVENT","containerClass","DEFAULT_CONTAINER_CLS","isLoadState","containerClassState","containerClassTarget","EAKSidebar","submenus","activeMenuAttr","$submenus","isDesktop","immediate","collapseAll","menu","expandActive","noCollapse","_animation","onBreakpointChange","EAKBanner","_animateTimer","_$active","startAnimation","stopAnimation","$lines","TARGETS","$randomLine","random","_onIteration","$candidates","n","filler","range","targetsNumber","iterationTime","line","strokeDashoffset","lineLength","getTotalLength","strokeDasharray","EAKZoomImage","$image","originalImage","$closeButton","button","zoom","inDrag","inZoom","transform","scale","marginTop","marginLeft","onPointerDown","unzoom","startPoint","startPosition","onPointerMove","onPointerUp","setPointerCapture","pointerId","releasePointerCapture","offsetX","offsetY","maxOffsetX","maxOffsetY","normalizedX","normalizedY","onClick","onOutsideClick"],"sourceRoot":""}